<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><link rel="stylesheet" type="text/css" href="style.css" /><script type="text/javascript" src="highlight.js"></script></head><body><pre><span class="hs-pragma">{-# LANGUAGE OverloadedStrings #-}</span><span>
</span><span id="line-2"></span><span class="hs-pragma">{-# LANGUAGE DeriveGeneric #-}</span><span>
</span><span id="line-3"></span><span>
</span><span id="line-4"></span><span class="hs-comment">-- To avoid having a &quot;cardano-node&quot; dependency, topology types were almost</span><span>
</span><span id="line-5"></span><span class="hs-comment">-- identically copied from `Cardano.Node.Configuration.Topology` and</span><span>
</span><span id="line-6"></span><span class="hs-comment">-- `Cardano.Node.Configuration.TopologyP2P` (and its dependencies).</span><span>
</span><span id="line-7"></span><span class="hs-comment">-- One difference is that we replaced `HotValency` and `WarmValency` with a</span><span>
</span><span id="line-8"></span><span class="hs-comment">-- single `Valency` type.</span><span>
</span><span id="line-9"></span><span class="hs-comment">--------------------------------------------------------------------------------</span><span>
</span><span id="line-10"></span><span>
</span><span id="line-11"></span><span class="hs-keyword">module</span><span> </span><span class="hs-identifier">Cardano.Benchmarking.Topology.Projection</span><span> </span><span class="hs-special">(</span><span>
</span><span id="line-12"></span><span>  </span><span class="annot"><a href="Cardano.Benchmarking.Topology.Projection.html#projection"><span class="hs-identifier">projection</span></a></span><span>
</span><span id="line-13"></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Cardano.Benchmarking.Topology.Projection.html#projectionP2P"><span class="hs-identifier">projectionP2P</span></a></span><span>
</span><span id="line-14"></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Cardano.Benchmarking.Topology.Projection.html#projectionExplorer"><span class="hs-identifier">projectionExplorer</span></a></span><span>
</span><span id="line-15"></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Cardano.Benchmarking.Topology.Projection.html#projectionChainDB"><span class="hs-identifier">projectionChainDB</span></a></span><span>
</span><span id="line-16"></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-17"></span><span>
</span><span id="line-18"></span><span class="hs-comment">--------------------------------------------------------------------------------</span><span>
</span><span id="line-19"></span><span>
</span><span id="line-20"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="file:///nix/store/ahd0dyjy54gfbx667iq5s68d85igqdgv-ghc-9.6.5-doc/share/doc/ghc-9.6.5/html/libraries/base-4.18.2.1/src/Prelude.html"><span class="hs-identifier">Prelude</span></a></span><span>
</span><span id="line-21"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="file:///nix/store/ahd0dyjy54gfbx667iq5s68d85igqdgv-ghc-9.6.5-doc/share/doc/ghc-9.6.5/html/libraries/base-4.18.2.1/src/Data.Bool.html"><span class="hs-identifier">Data.Bool</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///nix/store/ahd0dyjy54gfbx667iq5s68d85igqdgv-ghc-9.6.5-doc/share/doc/ghc-9.6.5/html/libraries/base-4.18.2.1/src/Data.Bool.html#bool"><span class="hs-identifier">bool</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-22"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="file:///nix/store/ahd0dyjy54gfbx667iq5s68d85igqdgv-ghc-9.6.5-doc/share/doc/ghc-9.6.5/html/libraries/base-4.18.2.1/src/Data.Word.html"><span class="hs-identifier">Data.Word</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///nix/store/ahd0dyjy54gfbx667iq5s68d85igqdgv-ghc-9.6.5-doc/share/doc/ghc-9.6.5/html/libraries/base-4.18.2.1/src/GHC.Word.html#Word64"><span class="hs-identifier">Word64</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-23"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="file:///nix/store/ahd0dyjy54gfbx667iq5s68d85igqdgv-ghc-9.6.5-doc/share/doc/ghc-9.6.5/html/libraries/base-4.18.2.1/src/GHC.Generics.html"><span class="hs-identifier">GHC.Generics</span></a></span><span>
</span><span id="line-24"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="file:///nix/store/ahd0dyjy54gfbx667iq5s68d85igqdgv-ghc-9.6.5-doc/share/doc/ghc-9.6.5/html/libraries/base-4.18.2.1/src/Text.Read.html"><span class="hs-identifier">Text.Read</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///nix/store/ahd0dyjy54gfbx667iq5s68d85igqdgv-ghc-9.6.5-doc/share/doc/ghc-9.6.5/html/libraries/base-4.18.2.1/src/Text.Read.html#readMaybe"><span class="hs-identifier">readMaybe</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-25"></span><span class="hs-comment">-- Package: aeson.</span><span>
</span><span id="line-26"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><span class="hs-identifier">Data.Aeson</span></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">Aeson</span></span><span>
</span><span id="line-27"></span><span class="hs-comment">-- Package: iproute.</span><span>
</span><span id="line-28"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><a href="file:///nix/store/adg280p1yvx2ylvyw72z7n78bxic2yn1-iproute-lib-iproute-1.7.15-haddock-doc/share/doc/iproute/html/src/Data.IP.html"><span class="hs-identifier">Data.IP</span></a></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">IP</span></span><span>
</span><span id="line-29"></span><span class="hs-comment">-- Package: network.</span><span>
</span><span id="line-30"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><a href="file:///nix/store/wh3ixapya0h29bjdswivglpjyhsni77c-dns-lib-dns-4.2.0-haddock-doc/share/doc/dns/html/src/Network.DNS.html"><span class="hs-identifier">Network.DNS</span></a></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">DNS</span></span><span>
</span><span id="line-31"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><a href="file:///nix/store/5pyxh9kbrvfbj02qwvdxaz67gc4vl91d-network-lib-network-3.2.7.0-haddock-doc/share/doc/network/html/src/Network.Socket.html"><span class="hs-identifier">Network.Socket</span></a></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">Socket</span></span><span>
</span><span id="line-32"></span><span class="hs-comment">-- Package: text.</span><span>
</span><span id="line-33"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><a href="file:///nix/store/ahd0dyjy54gfbx667iq5s68d85igqdgv-ghc-9.6.5-doc/share/doc/ghc-9.6.5/html/libraries/text-2.0.2/src/Data.Text.html"><span class="hs-identifier">Data.Text</span></a></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">Text</span></span><span>
</span><span id="line-34"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><a href="file:///nix/store/ahd0dyjy54gfbx667iq5s68d85igqdgv-ghc-9.6.5-doc/share/doc/ghc-9.6.5/html/libraries/text-2.0.2/src/Data.Text.Encoding.html"><span class="hs-identifier">Data.Text.Encoding</span></a></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">TextEncoding</span></span><span>
</span><span id="line-35"></span><span class="hs-comment">-- Package: self.</span><span>
</span><span id="line-36"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><a href="Cardano.Benchmarking.Topology.Types.html"><span class="hs-identifier">Cardano.Benchmarking.Topology.Types</span></a></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">Types</span></span><span>
</span><span id="line-37"></span><span>
</span><span id="line-38"></span><span class="hs-comment">--------------------------------------------------------------------------------</span><span>
</span><span id="line-39"></span><span>
</span><span id="line-40"></span><span class="annot"><a href="Cardano.Benchmarking.Topology.Projection.html#projection"><span class="hs-identifier hs-type">projection</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Cardano.Benchmarking.Topology.Types.html#Topology"><span class="hs-identifier hs-type">Types.Topology</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="file:///nix/store/ahd0dyjy54gfbx667iq5s68d85igqdgv-ghc-9.6.5-doc/share/doc/ghc-9.6.5/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Int"><span class="hs-identifier hs-type">Int</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="file:///nix/store/ahd0dyjy54gfbx667iq5s68d85igqdgv-ghc-9.6.5-doc/share/doc/ghc-9.6.5/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Int"><span class="hs-identifier hs-type">Int</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Cardano.Benchmarking.Topology.Projection.html#NetworkTopology"><span class="hs-identifier hs-type">NetworkTopology</span></a></span><span>
</span><span id="line-41"></span><span id="projection"><span class="annot"><span class="annottext">projection :: Topology -&gt; Int -&gt; Int -&gt; NetworkTopology
</span><a href="Cardano.Benchmarking.Topology.Projection.html#projection"><span class="hs-identifier hs-var hs-var">projection</span></a></span></span><span> </span><span id="local-6989586621679103728"><span class="annot"><span class="annottext">Topology
</span><a href="#local-6989586621679103728"><span class="hs-identifier hs-var">topology</span></a></span></span><span> </span><span id="local-6989586621679103729"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679103729"><span class="hs-identifier hs-var">i</span></a></span></span><span> </span><span id="local-6989586621679103730"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679103730"><span class="hs-identifier hs-var">basePort</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[RemoteAddress] -&gt; NetworkTopology
</span><a href="Cardano.Benchmarking.Topology.Projection.html#RealNodeTopology"><span class="hs-identifier hs-var">RealNodeTopology</span></a></span><span> </span><span class="annot"><span class="annottext">([RemoteAddress] -&gt; NetworkTopology)
-&gt; [RemoteAddress] -&gt; NetworkTopology
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/ahd0dyjy54gfbx667iq5s68d85igqdgv-ghc-9.6.5-doc/share/doc/ghc-9.6.5/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-42"></span><span>  </span><span class="annot"><span class="annottext">(String -&gt; RemoteAddress) -&gt; [String] -&gt; [RemoteAddress]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><a href="file:///nix/store/ahd0dyjy54gfbx667iq5s68d85igqdgv-ghc-9.6.5-doc/share/doc/ghc-9.6.5/html/libraries/base-4.18.2.1/src/GHC.Base.html#map"><span class="hs-identifier hs-var">map</span></a></span><span>
</span><span id="line-43"></span><span>    </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span id="local-6989586621679103732"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679103732"><span class="hs-identifier hs-var">name</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-44"></span><span>      </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621679103733"><span class="annot"><span class="annottext">node :: Node
</span><a href="#local-6989586621679103733"><span class="hs-identifier hs-var hs-var">node</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Topology -&gt; String -&gt; Node
</span><a href="Cardano.Benchmarking.Topology.Projection.html#getCoreNodeByName"><span class="hs-identifier hs-var">getCoreNodeByName</span></a></span><span> </span><span class="annot"><span class="annottext">Topology
</span><a href="#local-6989586621679103728"><span class="hs-identifier hs-var">topology</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679103732"><span class="hs-identifier hs-var">name</span></a></span><span>
</span><span id="line-45"></span><span>      </span><span class="hs-keyword">in</span><span> </span><span class="annot"><a href="Cardano.Benchmarking.Topology.Projection.html#RemoteAddress"><span class="hs-identifier hs-type">RemoteAddress</span></a></span><span> </span><span class="hs-special">{</span><span>
</span><span id="line-46"></span><span>           </span><span class="annot"><span class="annottext">raAddress :: Text
</span><a href="Cardano.Benchmarking.Topology.Projection.html#raAddress"><span class="hs-identifier hs-var">raAddress</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;127.0.0.1&quot;</span></span><span>
</span><span id="line-47"></span><span>         </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">raPort :: PortNumber
</span><a href="Cardano.Benchmarking.Topology.Projection.html#raPort"><span class="hs-identifier hs-var">raPort</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Int -&gt; PortNumber
forall a. Enum a =&gt; Int -&gt; a
</span><a href="file:///nix/store/ahd0dyjy54gfbx667iq5s68d85igqdgv-ghc-9.6.5-doc/share/doc/ghc-9.6.5/html/libraries/base-4.18.2.1/src/GHC.Enum.html#toEnum"><span class="hs-identifier hs-var">toEnum</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679103730"><span class="hs-identifier hs-var">basePort</span></a></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Int
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><a href="file:///nix/store/ahd0dyjy54gfbx667iq5s68d85igqdgv-ghc-9.6.5-doc/share/doc/ghc-9.6.5/html/libraries/base-4.18.2.1/src/GHC.Num.html#%2B"><span class="hs-operator hs-var">+</span></a></span><span> </span><span class="annot"><span class="annottext">Node -&gt; Int
</span><a href="Cardano.Benchmarking.Topology.Types.html#nodeId"><span class="hs-identifier hs-var">Types.nodeId</span></a></span><span> </span><span class="annot"><span class="annottext">Node
</span><a href="#local-6989586621679103733"><span class="hs-identifier hs-var">node</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-48"></span><span>         </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">raValency :: Int
</span><a href="Cardano.Benchmarking.Topology.Projection.html#raValency"><span class="hs-identifier hs-var">raValency</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">1</span></span><span>
</span><span id="line-49"></span><span>         </span><span class="hs-special">}</span><span>
</span><span id="line-50"></span><span>    </span><span class="hs-special">)</span><span>
</span><span id="line-51"></span><span>    </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Topology -&gt; Int -&gt; [String]
</span><a href="Cardano.Benchmarking.Topology.Projection.html#getCoreNodeProducersById"><span class="hs-identifier hs-var">getCoreNodeProducersById</span></a></span><span> </span><span class="annot"><span class="annottext">Topology
</span><a href="#local-6989586621679103728"><span class="hs-identifier hs-var">topology</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679103729"><span class="hs-identifier hs-var">i</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-52"></span><span>
</span><span id="line-53"></span><span class="annot"><a href="Cardano.Benchmarking.Topology.Projection.html#projectionP2P"><span class="hs-identifier hs-type">projectionP2P</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Cardano.Benchmarking.Topology.Types.html#Topology"><span class="hs-identifier hs-type">Types.Topology</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="file:///nix/store/ahd0dyjy54gfbx667iq5s68d85igqdgv-ghc-9.6.5-doc/share/doc/ghc-9.6.5/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Int"><span class="hs-identifier hs-type">Int</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="file:///nix/store/ahd0dyjy54gfbx667iq5s68d85igqdgv-ghc-9.6.5-doc/share/doc/ghc-9.6.5/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Int"><span class="hs-identifier hs-type">Int</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Cardano.Benchmarking.Topology.Projection.html#NetworkTopologyP2P"><span class="hs-identifier hs-type">NetworkTopologyP2P</span></a></span><span>
</span><span id="line-54"></span><span id="projectionP2P"><span class="annot"><span class="annottext">projectionP2P :: Topology -&gt; Int -&gt; Int -&gt; NetworkTopologyP2P
</span><a href="Cardano.Benchmarking.Topology.Projection.html#projectionP2P"><span class="hs-identifier hs-var hs-var">projectionP2P</span></a></span></span><span> </span><span id="local-6989586621679103743"><span class="annot"><span class="annottext">Topology
</span><a href="#local-6989586621679103743"><span class="hs-identifier hs-var">topology</span></a></span></span><span> </span><span id="local-6989586621679103744"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679103744"><span class="hs-identifier hs-var">i</span></a></span></span><span> </span><span id="local-6989586621679103745"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679103745"><span class="hs-identifier hs-var">basePort</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="Cardano.Benchmarking.Topology.Projection.html#RealNodeTopologyP2P"><span class="hs-identifier hs-type">RealNodeTopologyP2P</span></a></span><span>
</span><span id="line-55"></span><span>  </span><span class="hs-special">{</span><span>
</span><span id="line-56"></span><span>    </span><span class="annot"><span class="annottext">ntLocalRootPeersGroups :: LocalRootPeersGroups
</span><a href="Cardano.Benchmarking.Topology.Projection.html#ntLocalRootPeersGroups"><span class="hs-identifier hs-var">ntLocalRootPeersGroups</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="Cardano.Benchmarking.Topology.Projection.html#LocalRootPeersGroups"><span class="hs-identifier hs-type">LocalRootPeersGroups</span></a></span><span> </span><span class="hs-special">{</span><span>
</span><span id="line-57"></span><span>      </span><span class="annot"><span class="annottext">groups :: [LocalRootPeersGroup]
</span><a href="Cardano.Benchmarking.Topology.Projection.html#groups"><span class="hs-identifier hs-var">groups</span></a></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-58"></span><span>        </span><span class="annot"><span class="annottext">(String -&gt; LocalRootPeersGroup)
-&gt; [String] -&gt; [LocalRootPeersGroup]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><a href="file:///nix/store/ahd0dyjy54gfbx667iq5s68d85igqdgv-ghc-9.6.5-doc/share/doc/ghc-9.6.5/html/libraries/base-4.18.2.1/src/GHC.Base.html#map"><span class="hs-identifier hs-var">map</span></a></span><span>
</span><span id="line-59"></span><span>          </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span id="local-6989586621679103750"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679103750"><span class="hs-identifier hs-var">name</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-60"></span><span>            </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621679103751"><span class="annot"><span class="annottext">node :: Node
</span><a href="#local-6989586621679103751"><span class="hs-identifier hs-var hs-var">node</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Topology -&gt; String -&gt; Node
</span><a href="Cardano.Benchmarking.Topology.Projection.html#getCoreNodeByName"><span class="hs-identifier hs-var">getCoreNodeByName</span></a></span><span> </span><span class="annot"><span class="annottext">Topology
</span><a href="#local-6989586621679103743"><span class="hs-identifier hs-var">topology</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679103750"><span class="hs-identifier hs-var">name</span></a></span><span>
</span><span id="line-61"></span><span>                </span><span id="local-6989586621679103754"><span class="annot"><span class="annottext">v :: Int
</span><a href="#local-6989586621679103754"><span class="hs-identifier hs-var hs-var">v</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[String] -&gt; Int
forall a. [a] -&gt; Int
forall (t :: * -&gt; *) a. Foldable t =&gt; t a -&gt; Int
</span><a href="file:///nix/store/ahd0dyjy54gfbx667iq5s68d85igqdgv-ghc-9.6.5-doc/share/doc/ghc-9.6.5/html/libraries/base-4.18.2.1/src/Data.Foldable.html#length"><span class="hs-identifier hs-var">length</span></a></span><span> </span><span class="annot"><span class="annottext">([String] -&gt; Int) -&gt; [String] -&gt; Int
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/ahd0dyjy54gfbx667iq5s68d85igqdgv-ghc-9.6.5-doc/share/doc/ghc-9.6.5/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Node -&gt; [String]
</span><a href="Cardano.Benchmarking.Topology.Types.html#producers"><span class="hs-identifier hs-var">Types.producers</span></a></span><span> </span><span class="annot"><span class="annottext">Node
</span><a href="#local-6989586621679103751"><span class="hs-identifier hs-var">node</span></a></span><span>
</span><span id="line-62"></span><span>            </span><span class="hs-keyword">in</span><span> </span><span class="annot"><a href="Cardano.Benchmarking.Topology.Projection.html#LocalRootPeersGroup"><span class="hs-identifier hs-type">LocalRootPeersGroup</span></a></span><span> </span><span class="hs-special">{</span><span>
</span><span id="line-63"></span><span>                 </span><span class="annot"><span class="annottext">localRoots :: RootConfig
</span><a href="Cardano.Benchmarking.Topology.Projection.html#localRoots"><span class="hs-identifier hs-var">localRoots</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="Cardano.Benchmarking.Topology.Projection.html#RootConfig"><span class="hs-identifier hs-type">RootConfig</span></a></span><span> </span><span class="hs-special">{</span><span>
</span><span id="line-64"></span><span>                   </span><span class="annot"><span class="annottext">rootAccessPoints :: [RelayAccessPoint]
</span><a href="Cardano.Benchmarking.Topology.Projection.html#rootAccessPoints"><span class="hs-identifier hs-var">rootAccessPoints</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><span>
</span><span id="line-65"></span><span>                     </span><span class="annot"><span class="annottext">IP -&gt; PortNumber -&gt; RelayAccessPoint
</span><a href="Cardano.Benchmarking.Topology.Projection.html#RelayAccessAddress"><span class="hs-identifier hs-var">RelayAccessAddress</span></a></span><span>
</span><span id="line-66"></span><span>                      </span><span class="annot"><span class="annottext">IP
</span><span class="hs-string">&quot;127.0.0.1&quot;</span></span><span>
</span><span id="line-67"></span><span>                      </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int -&gt; PortNumber
forall a. Enum a =&gt; Int -&gt; a
</span><a href="file:///nix/store/ahd0dyjy54gfbx667iq5s68d85igqdgv-ghc-9.6.5-doc/share/doc/ghc-9.6.5/html/libraries/base-4.18.2.1/src/GHC.Enum.html#toEnum"><span class="hs-identifier hs-var">toEnum</span></a></span><span> </span><span class="annot"><span class="annottext">(Int -&gt; PortNumber) -&gt; Int -&gt; PortNumber
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/ahd0dyjy54gfbx667iq5s68d85igqdgv-ghc-9.6.5-doc/share/doc/ghc-9.6.5/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679103745"><span class="hs-identifier hs-var">basePort</span></a></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Int
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><a href="file:///nix/store/ahd0dyjy54gfbx667iq5s68d85igqdgv-ghc-9.6.5-doc/share/doc/ghc-9.6.5/html/libraries/base-4.18.2.1/src/GHC.Num.html#%2B"><span class="hs-operator hs-var">+</span></a></span><span> </span><span class="annot"><span class="annottext">Node -&gt; Int
</span><a href="Cardano.Benchmarking.Topology.Types.html#nodeId"><span class="hs-identifier hs-var">Types.nodeId</span></a></span><span> </span><span class="annot"><span class="annottext">Node
</span><a href="#local-6989586621679103751"><span class="hs-identifier hs-var">node</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-68"></span><span>                   </span><span class="hs-special">]</span><span>
</span><span id="line-69"></span><span>                 </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">rootAdvertise :: PeerAdvertise
</span><a href="Cardano.Benchmarking.Topology.Projection.html#rootAdvertise"><span class="hs-identifier hs-var">rootAdvertise</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">PeerAdvertise
</span><a href="Cardano.Benchmarking.Topology.Projection.html#DoNotAdvertisePeer"><span class="hs-identifier hs-var">DoNotAdvertisePeer</span></a></span><span>
</span><span id="line-70"></span><span>                 </span><span class="hs-special">}</span><span>
</span><span id="line-71"></span><span>               </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">trustable :: PeerTrustable
</span><a href="Cardano.Benchmarking.Topology.Projection.html#trustable"><span class="hs-identifier hs-var">trustable</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">PeerTrustable
</span><a href="Cardano.Benchmarking.Topology.Projection.html#IsTrustable"><span class="hs-identifier hs-var">IsTrustable</span></a></span><span>
</span><span id="line-72"></span><span>               </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">valency :: Valency
</span><a href="Cardano.Benchmarking.Topology.Projection.html#valency"><span class="hs-identifier hs-var">valency</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Int -&gt; Valency
</span><a href="Cardano.Benchmarking.Topology.Projection.html#Valency"><span class="hs-identifier hs-var">Valency</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679103754"><span class="hs-identifier hs-var">v</span></a></span><span>
</span><span id="line-73"></span><span>               </span><span class="hs-special">}</span><span>
</span><span id="line-74"></span><span>          </span><span class="hs-special">)</span><span>
</span><span id="line-75"></span><span>          </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Topology -&gt; Int -&gt; [String]
</span><a href="Cardano.Benchmarking.Topology.Projection.html#getCoreNodeProducersById"><span class="hs-identifier hs-var">getCoreNodeProducersById</span></a></span><span> </span><span class="annot"><span class="annottext">Topology
</span><a href="#local-6989586621679103743"><span class="hs-identifier hs-var">topology</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679103744"><span class="hs-identifier hs-var">i</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-76"></span><span>    </span><span class="hs-special">}</span><span>
</span><span id="line-77"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">ntPublicRootPeers :: [PublicRootPeers]
</span><a href="Cardano.Benchmarking.Topology.Projection.html#ntPublicRootPeers"><span class="hs-identifier hs-var">ntPublicRootPeers</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>
</span><span id="line-78"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">ntUseLedgerPeers :: UseLedgerPeers
</span><a href="Cardano.Benchmarking.Topology.Projection.html#ntUseLedgerPeers"><span class="hs-identifier hs-var">ntUseLedgerPeers</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">UseLedgerPeers
</span><a href="Cardano.Benchmarking.Topology.Projection.html#DontUseLedgerPeers"><span class="hs-identifier hs-var">DontUseLedgerPeers</span></a></span><span>
</span><span id="line-79"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">ntUseBootstrapPeers :: UseBootstrapPeers
</span><a href="Cardano.Benchmarking.Topology.Projection.html#ntUseBootstrapPeers"><span class="hs-identifier hs-var">ntUseBootstrapPeers</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">UseBootstrapPeers
</span><a href="Cardano.Benchmarking.Topology.Projection.html#DontUseBootstrapPeers"><span class="hs-identifier hs-var">DontUseBootstrapPeers</span></a></span><span>
</span><span id="line-80"></span><span>  </span><span class="hs-special">}</span><span>
</span><span id="line-81"></span><span>
</span><span id="line-82"></span><span class="annot"><a href="Cardano.Benchmarking.Topology.Projection.html#projectionExplorer"><span class="hs-identifier hs-type">projectionExplorer</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="file:///nix/store/ahd0dyjy54gfbx667iq5s68d85igqdgv-ghc-9.6.5-doc/share/doc/ghc-9.6.5/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Int"><span class="hs-identifier hs-type">Int</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="file:///nix/store/ahd0dyjy54gfbx667iq5s68d85igqdgv-ghc-9.6.5-doc/share/doc/ghc-9.6.5/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Int"><span class="hs-identifier hs-type">Int</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Cardano.Benchmarking.Topology.Projection.html#NetworkTopology"><span class="hs-identifier hs-type">NetworkTopology</span></a></span><span>
</span><span id="line-83"></span><span id="projectionExplorer"><span class="annot"><span class="annottext">projectionExplorer :: Int -&gt; Int -&gt; NetworkTopology
</span><a href="Cardano.Benchmarking.Topology.Projection.html#projectionExplorer"><span class="hs-identifier hs-var hs-var">projectionExplorer</span></a></span></span><span> </span><span id="local-6989586621679103773"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679103773"><span class="hs-identifier hs-var">srcIndices</span></a></span></span><span> </span><span id="local-6989586621679103774"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679103774"><span class="hs-identifier hs-var">basePort</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[RemoteAddress] -&gt; NetworkTopology
</span><a href="Cardano.Benchmarking.Topology.Projection.html#RealNodeTopology"><span class="hs-identifier hs-var">RealNodeTopology</span></a></span><span> </span><span class="annot"><span class="annottext">([RemoteAddress] -&gt; NetworkTopology)
-&gt; [RemoteAddress] -&gt; NetworkTopology
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/ahd0dyjy54gfbx667iq5s68d85igqdgv-ghc-9.6.5-doc/share/doc/ghc-9.6.5/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-84"></span><span>  </span><span class="annot"><span class="annottext">(Int -&gt; RemoteAddress) -&gt; [Int] -&gt; [RemoteAddress]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><a href="file:///nix/store/ahd0dyjy54gfbx667iq5s68d85igqdgv-ghc-9.6.5-doc/share/doc/ghc-9.6.5/html/libraries/base-4.18.2.1/src/GHC.Base.html#map"><span class="hs-identifier hs-var">map</span></a></span><span>
</span><span id="line-85"></span><span>    </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span id="local-6989586621679103775"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679103775"><span class="hs-identifier hs-var">i</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-86"></span><span>      </span><span class="annot"><a href="Cardano.Benchmarking.Topology.Projection.html#RemoteAddress"><span class="hs-identifier hs-type">RemoteAddress</span></a></span><span> </span><span class="hs-special">{</span><span>
</span><span id="line-87"></span><span>         </span><span class="annot"><span class="annottext">raAddress :: Text
</span><a href="Cardano.Benchmarking.Topology.Projection.html#raAddress"><span class="hs-identifier hs-var">raAddress</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;127.0.0.1&quot;</span></span><span>
</span><span id="line-88"></span><span>       </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">raPort :: PortNumber
</span><a href="Cardano.Benchmarking.Topology.Projection.html#raPort"><span class="hs-identifier hs-var">raPort</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Int -&gt; PortNumber
forall a. Enum a =&gt; Int -&gt; a
</span><a href="file:///nix/store/ahd0dyjy54gfbx667iq5s68d85igqdgv-ghc-9.6.5-doc/share/doc/ghc-9.6.5/html/libraries/base-4.18.2.1/src/GHC.Enum.html#toEnum"><span class="hs-identifier hs-var">toEnum</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679103774"><span class="hs-identifier hs-var">basePort</span></a></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Int
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><a href="file:///nix/store/ahd0dyjy54gfbx667iq5s68d85igqdgv-ghc-9.6.5-doc/share/doc/ghc-9.6.5/html/libraries/base-4.18.2.1/src/GHC.Num.html#%2B"><span class="hs-operator hs-var">+</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679103775"><span class="hs-identifier hs-var">i</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-89"></span><span>       </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">raValency :: Int
</span><a href="Cardano.Benchmarking.Topology.Projection.html#raValency"><span class="hs-identifier hs-var">raValency</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">1</span></span><span>
</span><span id="line-90"></span><span>       </span><span class="hs-special">}</span><span>
</span><span id="line-91"></span><span>    </span><span class="hs-special">)</span><span>
</span><span id="line-92"></span><span>    </span><span class="hs-special">[</span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">0</span></span><span class="hs-glyph">..</span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679103773"><span class="hs-identifier hs-var">srcIndices</span></a></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Int
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><a href="file:///nix/store/ahd0dyjy54gfbx667iq5s68d85igqdgv-ghc-9.6.5-doc/share/doc/ghc-9.6.5/html/libraries/base-4.18.2.1/src/GHC.Num.html#-"><span class="hs-glyph hs-var">-</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">1</span></span><span class="hs-special">)</span><span class="hs-special">]</span><span>
</span><span id="line-93"></span><span>
</span><span id="line-94"></span><span class="hs-comment">-- ChainDB servers are just &quot;{Producers:[]}&quot;.</span><span>
</span><span id="line-95"></span><span class="annot"><a href="Cardano.Benchmarking.Topology.Projection.html#projectionChainDB"><span class="hs-identifier hs-type">projectionChainDB</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Cardano.Benchmarking.Topology.Types.html#Topology"><span class="hs-identifier hs-type">Types.Topology</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Cardano.Benchmarking.Topology.Projection.html#NetworkTopology"><span class="hs-identifier hs-type">NetworkTopology</span></a></span><span>
</span><span id="line-96"></span><span id="projectionChainDB"><span class="annot"><span class="annottext">projectionChainDB :: Topology -&gt; NetworkTopology
</span><a href="Cardano.Benchmarking.Topology.Projection.html#projectionChainDB"><span class="hs-identifier hs-var hs-var">projectionChainDB</span></a></span></span><span> </span><span class="annot"><span class="annottext">Topology
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[RemoteAddress] -&gt; NetworkTopology
</span><a href="Cardano.Benchmarking.Topology.Projection.html#RealNodeTopology"><span class="hs-identifier hs-var">RealNodeTopology</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>
</span><span id="line-97"></span><span>
</span><span id="line-98"></span><span class="hs-comment">--------------------------------------------------------------------------------</span><span>
</span><span id="line-99"></span><span>
</span><span id="line-100"></span><span class="annot"><a href="Cardano.Benchmarking.Topology.Projection.html#getCoreNodeByName"><span class="hs-identifier hs-type">getCoreNodeByName</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Cardano.Benchmarking.Topology.Types.html#Topology"><span class="hs-identifier hs-type">Types.Topology</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="file:///nix/store/ahd0dyjy54gfbx667iq5s68d85igqdgv-ghc-9.6.5-doc/share/doc/ghc-9.6.5/html/libraries/base-4.18.2.1/src/GHC.Base.html#String"><span class="hs-identifier hs-type">String</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Cardano.Benchmarking.Topology.Types.html#Node"><span class="hs-identifier hs-type">Types.Node</span></a></span><span>
</span><span id="line-101"></span><span id="getCoreNodeByName"><span class="annot"><span class="annottext">getCoreNodeByName :: Topology -&gt; String -&gt; Node
</span><a href="Cardano.Benchmarking.Topology.Projection.html#getCoreNodeByName"><span class="hs-identifier hs-var hs-var">getCoreNodeByName</span></a></span></span><span> </span><span id="local-6989586621679103776"><span class="annot"><span class="annottext">Topology
</span><a href="#local-6989586621679103776"><span class="hs-identifier hs-var">topology</span></a></span></span><span> </span><span id="local-6989586621679103777"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679103777"><span class="hs-identifier hs-var">name</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-102"></span><span>  </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[Node] -&gt; Int -&gt; Node
forall a. HasCallStack =&gt; [a] -&gt; Int -&gt; a
</span><a href="file:///nix/store/ahd0dyjy54gfbx667iq5s68d85igqdgv-ghc-9.6.5-doc/share/doc/ghc-9.6.5/html/libraries/base-4.18.2.1/src/GHC.List.html#%21%21"><span class="hs-operator hs-var">!!</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">0</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">([Node] -&gt; Node) -&gt; [Node] -&gt; Node
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/ahd0dyjy54gfbx667iq5s68d85igqdgv-ghc-9.6.5-doc/share/doc/ghc-9.6.5/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-103"></span><span>    </span><span class="annot"><span class="annottext">(Node -&gt; Bool) -&gt; [Node] -&gt; [Node]
forall a. (a -&gt; Bool) -&gt; [a] -&gt; [a]
</span><a href="file:///nix/store/ahd0dyjy54gfbx667iq5s68d85igqdgv-ghc-9.6.5-doc/share/doc/ghc-9.6.5/html/libraries/base-4.18.2.1/src/GHC.List.html#filter"><span class="hs-identifier hs-var">filter</span></a></span><span>
</span><span id="line-104"></span><span>      </span><span class="hs-special">(</span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; String -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><a href="file:///nix/store/ahd0dyjy54gfbx667iq5s68d85igqdgv-ghc-9.6.5-doc/share/doc/ghc-9.6.5/html/libraries/ghc-prim-0.10.0/src/GHC.Classes.html#%3D%3D"><span class="hs-operator hs-var">==</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679103777"><span class="hs-identifier hs-var">name</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(String -&gt; Bool) -&gt; (Node -&gt; String) -&gt; Node -&gt; Bool
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="file:///nix/store/ahd0dyjy54gfbx667iq5s68d85igqdgv-ghc-9.6.5-doc/share/doc/ghc-9.6.5/html/libraries/base-4.18.2.1/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">Node -&gt; String
</span><a href="Cardano.Benchmarking.Topology.Types.html#name"><span class="hs-identifier hs-var">Types.name</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-105"></span><span>      </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Topology -&gt; [Node]
</span><a href="Cardano.Benchmarking.Topology.Types.html#coreNodes"><span class="hs-identifier hs-var">Types.coreNodes</span></a></span><span> </span><span class="annot"><span class="annottext">Topology
</span><a href="#local-6989586621679103776"><span class="hs-identifier hs-var">topology</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-106"></span><span>
</span><span id="line-107"></span><span class="annot"><a href="Cardano.Benchmarking.Topology.Projection.html#getCoreNodeProducersById"><span class="hs-identifier hs-type">getCoreNodeProducersById</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Cardano.Benchmarking.Topology.Types.html#Topology"><span class="hs-identifier hs-type">Types.Topology</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="file:///nix/store/ahd0dyjy54gfbx667iq5s68d85igqdgv-ghc-9.6.5-doc/share/doc/ghc-9.6.5/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Int"><span class="hs-identifier hs-type">Int</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="file:///nix/store/ahd0dyjy54gfbx667iq5s68d85igqdgv-ghc-9.6.5-doc/share/doc/ghc-9.6.5/html/libraries/base-4.18.2.1/src/GHC.Base.html#String"><span class="hs-identifier hs-type">String</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-108"></span><span id="getCoreNodeProducersById"><span class="annot"><span class="annottext">getCoreNodeProducersById :: Topology -&gt; Int -&gt; [String]
</span><a href="Cardano.Benchmarking.Topology.Projection.html#getCoreNodeProducersById"><span class="hs-identifier hs-var hs-var">getCoreNodeProducersById</span></a></span></span><span> </span><span id="local-6989586621679103782"><span class="annot"><span class="annottext">Topology
</span><a href="#local-6989586621679103782"><span class="hs-identifier hs-var">topology</span></a></span></span><span> </span><span id="local-6989586621679103783"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679103783"><span class="hs-identifier hs-var">i</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Node -&gt; [String]
</span><a href="Cardano.Benchmarking.Topology.Types.html#producers"><span class="hs-identifier hs-var">Types.producers</span></a></span><span> </span><span class="annot"><span class="annottext">(Node -&gt; [String]) -&gt; Node -&gt; [String]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/ahd0dyjy54gfbx667iq5s68d85igqdgv-ghc-9.6.5-doc/share/doc/ghc-9.6.5/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-109"></span><span>  </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[Node] -&gt; Int -&gt; Node
forall a. HasCallStack =&gt; [a] -&gt; Int -&gt; a
</span><a href="file:///nix/store/ahd0dyjy54gfbx667iq5s68d85igqdgv-ghc-9.6.5-doc/share/doc/ghc-9.6.5/html/libraries/base-4.18.2.1/src/GHC.List.html#%21%21"><span class="hs-operator hs-var">!!</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">0</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">([Node] -&gt; Node) -&gt; [Node] -&gt; Node
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/ahd0dyjy54gfbx667iq5s68d85igqdgv-ghc-9.6.5-doc/share/doc/ghc-9.6.5/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-110"></span><span>    </span><span class="annot"><span class="annottext">(Node -&gt; Bool) -&gt; [Node] -&gt; [Node]
forall a. (a -&gt; Bool) -&gt; [a] -&gt; [a]
</span><a href="file:///nix/store/ahd0dyjy54gfbx667iq5s68d85igqdgv-ghc-9.6.5-doc/share/doc/ghc-9.6.5/html/libraries/base-4.18.2.1/src/GHC.List.html#filter"><span class="hs-identifier hs-var">filter</span></a></span><span>
</span><span id="line-111"></span><span>      </span><span class="hs-special">(</span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><a href="file:///nix/store/ahd0dyjy54gfbx667iq5s68d85igqdgv-ghc-9.6.5-doc/share/doc/ghc-9.6.5/html/libraries/ghc-prim-0.10.0/src/GHC.Classes.html#%3D%3D"><span class="hs-operator hs-var">==</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679103783"><span class="hs-identifier hs-var">i</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(Int -&gt; Bool) -&gt; (Node -&gt; Int) -&gt; Node -&gt; Bool
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="file:///nix/store/ahd0dyjy54gfbx667iq5s68d85igqdgv-ghc-9.6.5-doc/share/doc/ghc-9.6.5/html/libraries/base-4.18.2.1/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">Node -&gt; Int
</span><a href="Cardano.Benchmarking.Topology.Types.html#nodeId"><span class="hs-identifier hs-var">Types.nodeId</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-112"></span><span>      </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Topology -&gt; [Node]
</span><a href="Cardano.Benchmarking.Topology.Types.html#coreNodes"><span class="hs-identifier hs-var">Types.coreNodes</span></a></span><span> </span><span class="annot"><span class="annottext">Topology
</span><a href="#local-6989586621679103782"><span class="hs-identifier hs-var">topology</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-113"></span><span>
</span><span id="line-114"></span><span class="hs-comment">--------------------------------------------------------------------------------</span><span>
</span><span id="line-115"></span><span class="hs-comment">-- Projection for a non-P2P topology. ------------------------------------------</span><span>
</span><span id="line-116"></span><span class="hs-comment">--------------------------------------------------------------------------------</span><span>
</span><span id="line-117"></span><span>
</span><span id="line-118"></span><span class="hs-comment">{-- Example output:
{
  &quot;Producers&quot;: [
    {
      &quot;addr&quot;: &quot;127.0.0.1&quot;,
      &quot;port&quot;: 30001,
      &quot;valency&quot;: 1
    }
  ]
}
--}</span><span>
</span><span id="line-129"></span><span>
</span><span id="line-130"></span><span class="hs-comment">-----------------------------------------</span><span>
</span><span id="line-131"></span><span class="hs-comment">-- Cardano.Node.Configuration.Topology --</span><span>
</span><span id="line-132"></span><span class="hs-comment">-----------------------------------------</span><span>
</span><span id="line-133"></span><span>
</span><span id="line-134"></span><span class="hs-comment">-- https://github.com/IntersectMBO/cardano-node/blob/52b708f37cd3dc92a188717deae2a6a60117f696/cardano-node/src/Cardano/Node/Configuration/Topology.hs#L115</span><span>
</span><span id="line-135"></span><span>
</span><span id="line-136"></span><span class="hs-comment">-- `NetworkTopology` without the `MockNodeTopology` constructor.</span><span>
</span><span id="line-137"></span><span class="hs-keyword">data</span><span> </span><span id="NetworkTopology"><span class="annot"><a href="Cardano.Benchmarking.Topology.Projection.html#NetworkTopology"><span class="hs-identifier hs-var">NetworkTopology</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="RealNodeTopology"><span class="annot"><a href="Cardano.Benchmarking.Topology.Projection.html#RealNodeTopology"><span class="hs-identifier hs-var">RealNodeTopology</span></a></span></span><span> </span><span class="hs-glyph">!</span><span class="hs-special">[</span><span class="annot"><a href="Cardano.Benchmarking.Topology.Projection.html#RemoteAddress"><span class="hs-identifier hs-type">RemoteAddress</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-138"></span><span>                     </span><span class="hs-glyph">|</span><span> </span><span id="MockNodeTopology"><span class="annot"><a href="Cardano.Benchmarking.Topology.Projection.html#MockNodeTopology"><span class="hs-identifier hs-var">MockNodeTopology</span></a></span></span><span>
</span><span id="line-139"></span><span>  </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679103786"><span id="local-6989586621679103790"><span class="annot"><span class="annottext">NetworkTopology -&gt; NetworkTopology -&gt; Bool
(NetworkTopology -&gt; NetworkTopology -&gt; Bool)
-&gt; (NetworkTopology -&gt; NetworkTopology -&gt; Bool)
-&gt; Eq NetworkTopology
forall a. (a -&gt; a -&gt; Bool) -&gt; (a -&gt; a -&gt; Bool) -&gt; Eq a
$c== :: NetworkTopology -&gt; NetworkTopology -&gt; Bool
== :: NetworkTopology -&gt; NetworkTopology -&gt; Bool
$c/= :: NetworkTopology -&gt; NetworkTopology -&gt; Bool
/= :: NetworkTopology -&gt; NetworkTopology -&gt; Bool
</span><a href="file:///nix/store/ahd0dyjy54gfbx667iq5s68d85igqdgv-ghc-9.6.5-doc/share/doc/ghc-9.6.5/html/libraries/ghc-prim-0.10.0/src/GHC.Classes.html#Eq"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Eq</span></a></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679103796"><span id="local-6989586621679103803"><span id="local-6989586621679103807"><span class="annot"><span class="annottext">Int -&gt; NetworkTopology -&gt; ShowS
[NetworkTopology] -&gt; ShowS
NetworkTopology -&gt; String
(Int -&gt; NetworkTopology -&gt; ShowS)
-&gt; (NetworkTopology -&gt; String)
-&gt; ([NetworkTopology] -&gt; ShowS)
-&gt; Show NetworkTopology
forall a.
(Int -&gt; a -&gt; ShowS) -&gt; (a -&gt; String) -&gt; ([a] -&gt; ShowS) -&gt; Show a
$cshowsPrec :: Int -&gt; NetworkTopology -&gt; ShowS
showsPrec :: Int -&gt; NetworkTopology -&gt; ShowS
$cshow :: NetworkTopology -&gt; String
show :: NetworkTopology -&gt; String
$cshowList :: [NetworkTopology] -&gt; ShowS
showList :: [NetworkTopology] -&gt; ShowS
</span><a href="file:///nix/store/ahd0dyjy54gfbx667iq5s68d85igqdgv-ghc-9.6.5-doc/share/doc/ghc-9.6.5/html/libraries/base-4.18.2.1/src/GHC.Show.html#Show"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Show</span></a></span></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-140"></span><span>
</span><span id="line-141"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679103813"><span id="local-6989586621679103817"><span class="annot"><span class="hs-identifier hs-type">Aeson.FromJSON</span></span><span> </span><span class="annot"><a href="Cardano.Benchmarking.Topology.Projection.html#NetworkTopology"><span class="hs-identifier hs-type">NetworkTopology</span></a></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-142"></span><span>  </span><span id="local-6989586621679103828"><span class="annot"><span class="annottext">parseJSON :: Value -&gt; Parser NetworkTopology
</span><a href="#local-6989586621679103828"><span class="hs-identifier hs-var hs-var hs-var hs-var">parseJSON</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String
-&gt; (Object -&gt; Parser NetworkTopology)
-&gt; Value
-&gt; Parser NetworkTopology
forall a. String -&gt; (Object -&gt; Parser a) -&gt; Value -&gt; Parser a
</span><span class="hs-identifier hs-var">Aeson.withObject</span></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;NetworkTopology&quot;</span></span><span> </span><span class="annot"><span class="annottext">((Object -&gt; Parser NetworkTopology)
 -&gt; Value -&gt; Parser NetworkTopology)
-&gt; (Object -&gt; Parser NetworkTopology)
-&gt; Value
-&gt; Parser NetworkTopology
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/ahd0dyjy54gfbx667iq5s68d85igqdgv-ghc-9.6.5-doc/share/doc/ghc-9.6.5/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679103831"><span class="annot"><span class="annottext">Object
</span><a href="#local-6989586621679103831"><span class="hs-identifier hs-var">o</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">[RemoteAddress] -&gt; NetworkTopology
</span><a href="Cardano.Benchmarking.Topology.Projection.html#RealNodeTopology"><span class="hs-identifier hs-var">RealNodeTopology</span></a></span><span>
</span><span id="line-143"></span><span>    </span><span class="annot"><span class="annottext">([RemoteAddress] -&gt; NetworkTopology)
-&gt; Parser [RemoteAddress] -&gt; Parser NetworkTopology
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="file:///nix/store/ahd0dyjy54gfbx667iq5s68d85igqdgv-ghc-9.6.5-doc/share/doc/ghc-9.6.5/html/libraries/base-4.18.2.1/src/Data.Functor.html#%3C%24%3E"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Object
</span><a href="#local-6989586621679103831"><span class="hs-identifier hs-var">o</span></a></span><span> </span><span class="annot"><span class="annottext">Object -&gt; Key -&gt; Parser [RemoteAddress]
forall a. FromJSON a =&gt; Object -&gt; Key -&gt; Parser a
</span><span class="hs-operator hs-var">Aeson..:</span></span><span> </span><span class="annot"><span class="annottext">Key
</span><span class="hs-string">&quot;Producers&quot;</span></span><span>
</span><span id="line-144"></span><span>
</span><span id="line-145"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679103836"><span id="local-6989586621679103840"><span id="local-6989586621679103843"><span id="local-6989586621679103846"><span class="annot"><span class="hs-identifier hs-type">Aeson.ToJSON</span></span><span> </span><span class="annot"><a href="Cardano.Benchmarking.Topology.Projection.html#NetworkTopology"><span class="hs-identifier hs-type">NetworkTopology</span></a></span></span></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-146"></span><span>  </span><span id="local-6989586621679103862"><span class="annot"><span class="annottext">toJSON :: NetworkTopology -&gt; Value
</span><a href="#local-6989586621679103862"><span class="hs-identifier hs-var hs-var hs-var hs-var">toJSON</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cardano.Benchmarking.Topology.Projection.html#RealNodeTopology"><span class="hs-identifier hs-type">RealNodeTopology</span></a></span><span> </span><span id="local-6989586621679103864"><span class="annot"><span class="annottext">[RemoteAddress]
</span><a href="#local-6989586621679103864"><span class="hs-identifier hs-var">ras</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-147"></span><span>    </span><span class="annot"><span class="annottext">[Pair] -&gt; Value
</span><span class="hs-identifier hs-var">Aeson.object</span></span><span> </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="annottext">Key
</span><span class="hs-string">&quot;Producers&quot;</span></span><span> </span><span class="annot"><span class="annottext">Key -&gt; Value -&gt; Pair
forall v. ToJSON v =&gt; Key -&gt; v -&gt; Pair
forall e kv v. (KeyValue e kv, ToJSON v) =&gt; Key -&gt; v -&gt; kv
</span><span class="hs-operator hs-var">Aeson..=</span></span><span> </span><span class="annot"><span class="annottext">[RemoteAddress] -&gt; Value
forall a. ToJSON a =&gt; a -&gt; Value
</span><span class="hs-identifier hs-var">Aeson.toJSON</span></span><span> </span><span class="annot"><span class="annottext">[RemoteAddress]
</span><a href="#local-6989586621679103864"><span class="hs-identifier hs-var">ras</span></a></span><span> </span><span class="hs-special">]</span><span>
</span><span id="line-148"></span><span>  </span><span class="annot"><span class="hs-identifier hs-var">toJSON</span></span><span> </span><span class="annot"><span class="annottext">NetworkTopology
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; Value
forall a. HasCallStack =&gt; String -&gt; a
</span><a href="file:///nix/store/ahd0dyjy54gfbx667iq5s68d85igqdgv-ghc-9.6.5-doc/share/doc/ghc-9.6.5/html/libraries/base-4.18.2.1/src/GHC.Err.html#error"><span class="hs-identifier hs-var">error</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;Unsupported&quot;</span></span><span> </span><span class="hs-comment">-- `MockNodeTopology` constructor.</span><span>
</span><span id="line-149"></span><span>
</span><span id="line-150"></span><span class="hs-comment">-- https://github.com/IntersectMBO/cardano-node/blob/52b708f37cd3dc92a188717deae2a6a60117f696/cardano-node/src/Cardano/Node/Configuration/Topology.hs#L42</span><span>
</span><span id="line-151"></span><span>
</span><span id="line-152"></span><span class="hs-comment">-- | Domain name with port number</span><span>
</span><span id="line-153"></span><span class="hs-comment">--</span><span>
</span><span id="line-154"></span><span class="hs-keyword">data</span><span> </span><span id="RemoteAddress"><span class="annot"><a href="Cardano.Benchmarking.Topology.Projection.html#RemoteAddress"><span class="hs-identifier hs-var">RemoteAddress</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="RemoteAddress"><span class="annot"><a href="Cardano.Benchmarking.Topology.Projection.html#RemoteAddress"><span class="hs-identifier hs-var">RemoteAddress</span></a></span></span><span>
</span><span id="line-155"></span><span>  </span><span class="hs-special">{</span><span> </span><span id="raAddress"><span class="annot"><span class="annottext">RemoteAddress -&gt; Text
</span><a href="Cardano.Benchmarking.Topology.Projection.html#raAddress"><span class="hs-identifier hs-var hs-var">raAddress</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-glyph">!</span><span class="annot"><a href="file:///nix/store/ahd0dyjy54gfbx667iq5s68d85igqdgv-ghc-9.6.5-doc/share/doc/ghc-9.6.5/html/libraries/text-2.0.2/src/Data.Text.Internal.html#Text"><span class="hs-identifier hs-type">Text.Text</span></a></span><span>
</span><span id="line-156"></span><span>  </span><span class="annot"><span class="hs-comment">-- ^ Either a dns address or an ip address.</span></span><span>
</span><span id="line-157"></span><span>  </span><span class="hs-special">,</span><span> </span><span id="raPort"><span class="annot"><span class="annottext">RemoteAddress -&gt; PortNumber
</span><a href="Cardano.Benchmarking.Topology.Projection.html#raPort"><span class="hs-identifier hs-var hs-var">raPort</span></a></span></span><span>    </span><span class="hs-glyph">::</span><span> </span><span class="hs-glyph">!</span><span class="annot"><a href="file:///nix/store/5pyxh9kbrvfbj02qwvdxaz67gc4vl91d-network-lib-network-3.2.7.0-haddock-doc/share/doc/network/html/src/Network.Socket.Types.html#PortNumber"><span class="hs-identifier hs-type">Socket.PortNumber</span></a></span><span>
</span><span id="line-158"></span><span>  </span><span class="annot"><span class="hs-comment">-- ^ Port number of the destination.</span></span><span>
</span><span id="line-159"></span><span>  </span><span class="hs-special">,</span><span> </span><span id="raValency"><span class="annot"><span class="annottext">RemoteAddress -&gt; Int
</span><a href="Cardano.Benchmarking.Topology.Projection.html#raValency"><span class="hs-identifier hs-var hs-var">raValency</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-glyph">!</span><span class="annot"><a href="file:///nix/store/ahd0dyjy54gfbx667iq5s68d85igqdgv-ghc-9.6.5-doc/share/doc/ghc-9.6.5/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Int"><span class="hs-identifier hs-type">Int</span></a></span><span>
</span><span id="line-160"></span><span>  </span><span class="hs-comment">-- ^ If a DNS address is given valency governs</span><span>
</span><span id="line-161"></span><span>  </span><span class="hs-comment">-- to how many resolved IP addresses</span><span>
</span><span id="line-162"></span><span>  </span><span class="hs-comment">-- should we maintain active (hot) connection;</span><span>
</span><span id="line-163"></span><span>  </span><span class="hs-comment">-- if an IP address is given valency is used as</span><span>
</span><span id="line-164"></span><span>  </span><span class="hs-comment">-- a Boolean value, @0@ means to ignore the address;</span><span>
</span><span id="line-165"></span><span>  </span><span class="hs-special">}</span><span> </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679103869"><span id="local-6989586621679103876"><span class="annot"><span class="annottext">RemoteAddress -&gt; RemoteAddress -&gt; Bool
(RemoteAddress -&gt; RemoteAddress -&gt; Bool)
-&gt; (RemoteAddress -&gt; RemoteAddress -&gt; Bool) -&gt; Eq RemoteAddress
forall a. (a -&gt; a -&gt; Bool) -&gt; (a -&gt; a -&gt; Bool) -&gt; Eq a
$c== :: RemoteAddress -&gt; RemoteAddress -&gt; Bool
== :: RemoteAddress -&gt; RemoteAddress -&gt; Bool
$c/= :: RemoteAddress -&gt; RemoteAddress -&gt; Bool
/= :: RemoteAddress -&gt; RemoteAddress -&gt; Bool
</span><a href="file:///nix/store/ahd0dyjy54gfbx667iq5s68d85igqdgv-ghc-9.6.5-doc/share/doc/ghc-9.6.5/html/libraries/ghc-prim-0.10.0/src/GHC.Classes.html#Eq"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Eq</span></a></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679103881"><span id="local-6989586621679103888"><span id="local-6989586621679103893"><span id="local-6989586621679103897"><span id="local-6989586621679103900"><span id="local-6989586621679103903"><span id="local-6989586621679103906"><span class="annot"><span class="annottext">Eq RemoteAddress
Eq RemoteAddress =&gt;
(RemoteAddress -&gt; RemoteAddress -&gt; Ordering)
-&gt; (RemoteAddress -&gt; RemoteAddress -&gt; Bool)
-&gt; (RemoteAddress -&gt; RemoteAddress -&gt; Bool)
-&gt; (RemoteAddress -&gt; RemoteAddress -&gt; Bool)
-&gt; (RemoteAddress -&gt; RemoteAddress -&gt; Bool)
-&gt; (RemoteAddress -&gt; RemoteAddress -&gt; RemoteAddress)
-&gt; (RemoteAddress -&gt; RemoteAddress -&gt; RemoteAddress)
-&gt; Ord RemoteAddress
RemoteAddress -&gt; RemoteAddress -&gt; Bool
RemoteAddress -&gt; RemoteAddress -&gt; Ordering
RemoteAddress -&gt; RemoteAddress -&gt; RemoteAddress
forall a.
Eq a =&gt;
(a -&gt; a -&gt; Ordering)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; a)
-&gt; (a -&gt; a -&gt; a)
-&gt; Ord a
$ccompare :: RemoteAddress -&gt; RemoteAddress -&gt; Ordering
compare :: RemoteAddress -&gt; RemoteAddress -&gt; Ordering
$c&lt; :: RemoteAddress -&gt; RemoteAddress -&gt; Bool
&lt; :: RemoteAddress -&gt; RemoteAddress -&gt; Bool
$c&lt;= :: RemoteAddress -&gt; RemoteAddress -&gt; Bool
&lt;= :: RemoteAddress -&gt; RemoteAddress -&gt; Bool
$c&gt; :: RemoteAddress -&gt; RemoteAddress -&gt; Bool
&gt; :: RemoteAddress -&gt; RemoteAddress -&gt; Bool
$c&gt;= :: RemoteAddress -&gt; RemoteAddress -&gt; Bool
&gt;= :: RemoteAddress -&gt; RemoteAddress -&gt; Bool
$cmax :: RemoteAddress -&gt; RemoteAddress -&gt; RemoteAddress
max :: RemoteAddress -&gt; RemoteAddress -&gt; RemoteAddress
$cmin :: RemoteAddress -&gt; RemoteAddress -&gt; RemoteAddress
min :: RemoteAddress -&gt; RemoteAddress -&gt; RemoteAddress
</span><a href="file:///nix/store/ahd0dyjy54gfbx667iq5s68d85igqdgv-ghc-9.6.5-doc/share/doc/ghc-9.6.5/html/libraries/ghc-prim-0.10.0/src/GHC.Classes.html#Ord"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Ord</span></a></span></span></span></span></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679103910"><span id="local-6989586621679103919"><span id="local-6989586621679103922"><span class="annot"><span class="annottext">Int -&gt; RemoteAddress -&gt; ShowS
[RemoteAddress] -&gt; ShowS
RemoteAddress -&gt; String
(Int -&gt; RemoteAddress -&gt; ShowS)
-&gt; (RemoteAddress -&gt; String)
-&gt; ([RemoteAddress] -&gt; ShowS)
-&gt; Show RemoteAddress
forall a.
(Int -&gt; a -&gt; ShowS) -&gt; (a -&gt; String) -&gt; ([a] -&gt; ShowS) -&gt; Show a
$cshowsPrec :: Int -&gt; RemoteAddress -&gt; ShowS
showsPrec :: Int -&gt; RemoteAddress -&gt; ShowS
$cshow :: RemoteAddress -&gt; String
show :: RemoteAddress -&gt; String
$cshowList :: [RemoteAddress] -&gt; ShowS
showList :: [RemoteAddress] -&gt; ShowS
</span><a href="file:///nix/store/ahd0dyjy54gfbx667iq5s68d85igqdgv-ghc-9.6.5-doc/share/doc/ghc-9.6.5/html/libraries/base-4.18.2.1/src/GHC.Show.html#Show"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Show</span></a></span></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-166"></span><span>
</span><span id="line-167"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679103926"><span id="local-6989586621679103929"><span class="annot"><span class="hs-identifier hs-type">Aeson.FromJSON</span></span><span> </span><span class="annot"><a href="Cardano.Benchmarking.Topology.Projection.html#RemoteAddress"><span class="hs-identifier hs-type">RemoteAddress</span></a></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-168"></span><span>  </span><span id="local-6989586621679103946"><span class="annot"><span class="annottext">parseJSON :: Value -&gt; Parser RemoteAddress
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">parseJSON</span></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String
-&gt; (Object -&gt; Parser RemoteAddress)
-&gt; Value
-&gt; Parser RemoteAddress
forall a. String -&gt; (Object -&gt; Parser a) -&gt; Value -&gt; Parser a
</span><span class="hs-identifier hs-var">Aeson.withObject</span></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;RemoteAddress&quot;</span></span><span> </span><span class="annot"><span class="annottext">((Object -&gt; Parser RemoteAddress) -&gt; Value -&gt; Parser RemoteAddress)
-&gt; (Object -&gt; Parser RemoteAddress)
-&gt; Value
-&gt; Parser RemoteAddress
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/ahd0dyjy54gfbx667iq5s68d85igqdgv-ghc-9.6.5-doc/share/doc/ghc-9.6.5/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679103947"><span class="annot"><span class="annottext">Object
</span><a href="#local-6989586621679103947"><span class="hs-identifier hs-var">v</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Text -&gt; PortNumber -&gt; Int -&gt; RemoteAddress
</span><a href="Cardano.Benchmarking.Topology.Projection.html#RemoteAddress"><span class="hs-identifier hs-var">RemoteAddress</span></a></span><span>
</span><span id="line-169"></span><span>    </span><span class="annot"><span class="annottext">(Text -&gt; PortNumber -&gt; Int -&gt; RemoteAddress)
-&gt; Parser Text -&gt; Parser (PortNumber -&gt; Int -&gt; RemoteAddress)
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="file:///nix/store/ahd0dyjy54gfbx667iq5s68d85igqdgv-ghc-9.6.5-doc/share/doc/ghc-9.6.5/html/libraries/base-4.18.2.1/src/Data.Functor.html#%3C%24%3E"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Object
</span><a href="#local-6989586621679103947"><span class="hs-identifier hs-var">v</span></a></span><span> </span><span class="annot"><span class="annottext">Object -&gt; Key -&gt; Parser Text
forall a. FromJSON a =&gt; Object -&gt; Key -&gt; Parser a
</span><span class="hs-operator hs-var">Aeson..:</span></span><span> </span><span class="annot"><span class="annottext">Key
</span><span class="hs-string">&quot;addr&quot;</span></span><span>
</span><span id="line-170"></span><span>    </span><span class="annot"><span class="annottext">Parser (PortNumber -&gt; Int -&gt; RemoteAddress)
-&gt; Parser PortNumber -&gt; Parser (Int -&gt; RemoteAddress)
forall a b. Parser (a -&gt; b) -&gt; Parser a -&gt; Parser b
forall (f :: * -&gt; *) a b. Applicative f =&gt; f (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="file:///nix/store/ahd0dyjy54gfbx667iq5s68d85igqdgv-ghc-9.6.5-doc/share/doc/ghc-9.6.5/html/libraries/base-4.18.2.1/src/GHC.Base.html#%3C%2A%3E"><span class="hs-operator hs-var">&lt;*&gt;</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int -&gt; PortNumber
forall a b. (Integral a, Num b) =&gt; a -&gt; b
</span><a href="file:///nix/store/ahd0dyjy54gfbx667iq5s68d85igqdgv-ghc-9.6.5-doc/share/doc/ghc-9.6.5/html/libraries/base-4.18.2.1/src/GHC.Real.html#fromIntegral"><span class="hs-identifier hs-var">fromIntegral</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="file:///nix/store/ahd0dyjy54gfbx667iq5s68d85igqdgv-ghc-9.6.5-doc/share/doc/ghc-9.6.5/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Int"><span class="hs-identifier hs-type">Int</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="file:///nix/store/5pyxh9kbrvfbj02qwvdxaz67gc4vl91d-network-lib-network-3.2.7.0-haddock-doc/share/doc/network/html/src/Network.Socket.Types.html#PortNumber"><span class="hs-identifier hs-type">Socket.PortNumber</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(Int -&gt; PortNumber) -&gt; Parser Int -&gt; Parser PortNumber
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="file:///nix/store/ahd0dyjy54gfbx667iq5s68d85igqdgv-ghc-9.6.5-doc/share/doc/ghc-9.6.5/html/libraries/base-4.18.2.1/src/Data.Functor.html#%3C%24%3E"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Object
</span><a href="#local-6989586621679103947"><span class="hs-identifier hs-var">v</span></a></span><span> </span><span class="annot"><span class="annottext">Object -&gt; Key -&gt; Parser Int
forall a. FromJSON a =&gt; Object -&gt; Key -&gt; Parser a
</span><span class="hs-operator hs-var">Aeson..:</span></span><span> </span><span class="annot"><span class="annottext">Key
</span><span class="hs-string">&quot;port&quot;</span></span><span class="hs-special">)</span><span>
</span><span id="line-171"></span><span>    </span><span class="annot"><span class="annottext">Parser (Int -&gt; RemoteAddress) -&gt; Parser Int -&gt; Parser RemoteAddress
forall a b. Parser (a -&gt; b) -&gt; Parser a -&gt; Parser b
forall (f :: * -&gt; *) a b. Applicative f =&gt; f (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="file:///nix/store/ahd0dyjy54gfbx667iq5s68d85igqdgv-ghc-9.6.5-doc/share/doc/ghc-9.6.5/html/libraries/base-4.18.2.1/src/GHC.Base.html#%3C%2A%3E"><span class="hs-operator hs-var">&lt;*&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Object
</span><a href="#local-6989586621679103947"><span class="hs-identifier hs-var">v</span></a></span><span> </span><span class="annot"><span class="annottext">Object -&gt; Key -&gt; Parser Int
forall a. FromJSON a =&gt; Object -&gt; Key -&gt; Parser a
</span><span class="hs-operator hs-var">Aeson..:</span></span><span> </span><span class="annot"><span class="annottext">Key
</span><span class="hs-string">&quot;valency&quot;</span></span><span>
</span><span id="line-172"></span><span>
</span><span id="line-173"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679103950"><span id="local-6989586621679103953"><span id="local-6989586621679103956"><span id="local-6989586621679103959"><span class="annot"><span class="hs-identifier hs-type">Aeson.ToJSON</span></span><span> </span><span class="annot"><a href="Cardano.Benchmarking.Topology.Projection.html#RemoteAddress"><span class="hs-identifier hs-type">RemoteAddress</span></a></span></span></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-174"></span><span>  </span><span id="local-6989586621679103977"><span class="annot"><span class="annottext">toJSON :: RemoteAddress -&gt; Value
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">toJSON</span></span></span><span> </span><span id="local-6989586621679103978"><span class="annot"><span class="annottext">RemoteAddress
</span><a href="#local-6989586621679103978"><span class="hs-identifier hs-var">ra</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[Pair] -&gt; Value
</span><span class="hs-identifier hs-var">Aeson.object</span></span><span>
</span><span id="line-175"></span><span>    </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="annottext">Key
</span><span class="hs-string">&quot;addr&quot;</span></span><span>    </span><span class="annot"><span class="annottext">Key -&gt; Text -&gt; Pair
forall v. ToJSON v =&gt; Key -&gt; v -&gt; Pair
forall e kv v. (KeyValue e kv, ToJSON v) =&gt; Key -&gt; v -&gt; kv
</span><span class="hs-operator hs-var">Aeson..=</span></span><span> </span><span class="annot"><span class="annottext">RemoteAddress -&gt; Text
</span><a href="Cardano.Benchmarking.Topology.Projection.html#raAddress"><span class="hs-identifier hs-var">raAddress</span></a></span><span> </span><span class="annot"><span class="annottext">RemoteAddress
</span><a href="#local-6989586621679103978"><span class="hs-identifier hs-var">ra</span></a></span><span>
</span><span id="line-176"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Key
</span><span class="hs-string">&quot;port&quot;</span></span><span>    </span><span class="annot"><span class="annottext">Key -&gt; Int -&gt; Pair
forall v. ToJSON v =&gt; Key -&gt; v -&gt; Pair
forall e kv v. (KeyValue e kv, ToJSON v) =&gt; Key -&gt; v -&gt; kv
</span><span class="hs-operator hs-var">Aeson..=</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">PortNumber -&gt; Int
forall a b. (Integral a, Num b) =&gt; a -&gt; b
</span><a href="file:///nix/store/ahd0dyjy54gfbx667iq5s68d85igqdgv-ghc-9.6.5-doc/share/doc/ghc-9.6.5/html/libraries/base-4.18.2.1/src/GHC.Real.html#fromIntegral"><span class="hs-identifier hs-var">fromIntegral</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">RemoteAddress -&gt; PortNumber
</span><a href="Cardano.Benchmarking.Topology.Projection.html#raPort"><span class="hs-identifier hs-var">raPort</span></a></span><span> </span><span class="annot"><span class="annottext">RemoteAddress
</span><a href="#local-6989586621679103978"><span class="hs-identifier hs-var">ra</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="file:///nix/store/ahd0dyjy54gfbx667iq5s68d85igqdgv-ghc-9.6.5-doc/share/doc/ghc-9.6.5/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Int"><span class="hs-identifier hs-type">Int</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-177"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Key
</span><span class="hs-string">&quot;valency&quot;</span></span><span> </span><span class="annot"><span class="annottext">Key -&gt; Int -&gt; Pair
forall v. ToJSON v =&gt; Key -&gt; v -&gt; Pair
forall e kv v. (KeyValue e kv, ToJSON v) =&gt; Key -&gt; v -&gt; kv
</span><span class="hs-operator hs-var">Aeson..=</span></span><span> </span><span class="annot"><span class="annottext">RemoteAddress -&gt; Int
</span><a href="Cardano.Benchmarking.Topology.Projection.html#raValency"><span class="hs-identifier hs-var">raValency</span></a></span><span> </span><span class="annot"><span class="annottext">RemoteAddress
</span><a href="#local-6989586621679103978"><span class="hs-identifier hs-var">ra</span></a></span><span>
</span><span id="line-178"></span><span>    </span><span class="hs-special">]</span><span>
</span><span id="line-179"></span><span>
</span><span id="line-180"></span><span class="hs-comment">--------------------------------------------------------------------------------</span><span>
</span><span id="line-181"></span><span class="hs-comment">-- Projection for a P2P topology. ----------------------------------------------</span><span>
</span><span id="line-182"></span><span class="hs-comment">--------------------------------------------------------------------------------</span><span>
</span><span id="line-183"></span><span>
</span><span id="line-184"></span><span class="hs-comment">{-- Example:
{
  &quot;localRoots&quot;: [
    {
      &quot;accessPoints&quot;: [
        {
          &quot;address&quot;: &quot;127.0.0.1&quot;,
          &quot;port&quot;: 3001
        }
      ],
      &quot;advertise&quot;: false,
      &quot;valency&quot;: 6
    }
  ]
  &quot;publicRoots&quot;: [],
  &quot;useLedgerAfterSlot&quot;: -1
}
--}</span><span>
</span><span id="line-202"></span><span>
</span><span id="line-203"></span><span class="hs-comment">--------------------------------------------</span><span>
</span><span id="line-204"></span><span class="hs-comment">-- Cardano.Node.Configuration.TopologyP2P --</span><span>
</span><span id="line-205"></span><span class="hs-comment">--------------------------------------------</span><span>
</span><span id="line-206"></span><span>
</span><span id="line-207"></span><span class="hs-comment">-- https://github.com/IntersectMBO/cardano-node/blob/52b708f37cd3dc92a188717deae2a6a60117f696/cardano-node/src/Cardano/Node/Configuration/TopologyP2P.hs#L184</span><span>
</span><span id="line-208"></span><span>
</span><span id="line-209"></span><span class="hs-comment">-- Renamed `NetworkTopology`.</span><span>
</span><span id="line-210"></span><span class="hs-keyword">data</span><span> </span><span id="NetworkTopologyP2P"><span class="annot"><a href="Cardano.Benchmarking.Topology.Projection.html#NetworkTopologyP2P"><span class="hs-identifier hs-var">NetworkTopologyP2P</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="RealNodeTopologyP2P"><span class="annot"><a href="Cardano.Benchmarking.Topology.Projection.html#RealNodeTopologyP2P"><span class="hs-identifier hs-var">RealNodeTopologyP2P</span></a></span></span><span>
</span><span id="line-211"></span><span>  </span><span class="hs-special">{</span><span> </span><span id="ntLocalRootPeersGroups"><span class="annot"><span class="annottext">NetworkTopologyP2P -&gt; LocalRootPeersGroups
</span><a href="Cardano.Benchmarking.Topology.Projection.html#ntLocalRootPeersGroups"><span class="hs-identifier hs-var hs-var">ntLocalRootPeersGroups</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-glyph">!</span><span class="annot"><a href="Cardano.Benchmarking.Topology.Projection.html#LocalRootPeersGroups"><span class="hs-identifier hs-type">LocalRootPeersGroups</span></a></span><span>
</span><span id="line-212"></span><span>  </span><span class="hs-special">,</span><span> </span><span id="ntPublicRootPeers"><span class="annot"><span class="annottext">NetworkTopologyP2P -&gt; [PublicRootPeers]
</span><a href="Cardano.Benchmarking.Topology.Projection.html#ntPublicRootPeers"><span class="hs-identifier hs-var hs-var">ntPublicRootPeers</span></a></span></span><span>      </span><span class="hs-glyph">::</span><span> </span><span class="hs-glyph">!</span><span class="hs-special">[</span><span class="annot"><a href="Cardano.Benchmarking.Topology.Projection.html#PublicRootPeers"><span class="hs-identifier hs-type">PublicRootPeers</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-213"></span><span>  </span><span class="hs-special">,</span><span> </span><span id="ntUseLedgerPeers"><span class="annot"><span class="annottext">NetworkTopologyP2P -&gt; UseLedgerPeers
</span><a href="Cardano.Benchmarking.Topology.Projection.html#ntUseLedgerPeers"><span class="hs-identifier hs-var hs-var">ntUseLedgerPeers</span></a></span></span><span>       </span><span class="hs-glyph">::</span><span> </span><span class="hs-glyph">!</span><span class="annot"><a href="Cardano.Benchmarking.Topology.Projection.html#UseLedgerPeers"><span class="hs-identifier hs-type">UseLedgerPeers</span></a></span><span>
</span><span id="line-214"></span><span>  </span><span class="hs-special">,</span><span> </span><span id="ntUseBootstrapPeers"><span class="annot"><span class="annottext">NetworkTopologyP2P -&gt; UseBootstrapPeers
</span><a href="Cardano.Benchmarking.Topology.Projection.html#ntUseBootstrapPeers"><span class="hs-identifier hs-var hs-var">ntUseBootstrapPeers</span></a></span></span><span>    </span><span class="hs-glyph">::</span><span> </span><span class="hs-glyph">!</span><span class="annot"><a href="Cardano.Benchmarking.Topology.Projection.html#UseBootstrapPeers"><span class="hs-identifier hs-type">UseBootstrapPeers</span></a></span><span>
</span><span id="line-215"></span><span class="hs-comment">{- TODO:
  , ntPeerSnapshotPath     :: !(Maybe PeerSnapshotFile)
-}</span><span>
</span><span id="line-218"></span><span>  </span><span class="hs-special">}</span><span>
</span><span id="line-219"></span><span>  </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679103980"><span id="local-6989586621679103990"><span class="annot"><span class="annottext">NetworkTopologyP2P -&gt; NetworkTopologyP2P -&gt; Bool
(NetworkTopologyP2P -&gt; NetworkTopologyP2P -&gt; Bool)
-&gt; (NetworkTopologyP2P -&gt; NetworkTopologyP2P -&gt; Bool)
-&gt; Eq NetworkTopologyP2P
forall a. (a -&gt; a -&gt; Bool) -&gt; (a -&gt; a -&gt; Bool) -&gt; Eq a
$c== :: NetworkTopologyP2P -&gt; NetworkTopologyP2P -&gt; Bool
== :: NetworkTopologyP2P -&gt; NetworkTopologyP2P -&gt; Bool
$c/= :: NetworkTopologyP2P -&gt; NetworkTopologyP2P -&gt; Bool
/= :: NetworkTopologyP2P -&gt; NetworkTopologyP2P -&gt; Bool
</span><a href="file:///nix/store/ahd0dyjy54gfbx667iq5s68d85igqdgv-ghc-9.6.5-doc/share/doc/ghc-9.6.5/html/libraries/ghc-prim-0.10.0/src/GHC.Classes.html#Eq"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Eq</span></a></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679103995"><span id="local-6989586621679104006"><span id="local-6989586621679104010"><span class="annot"><span class="annottext">Int -&gt; NetworkTopologyP2P -&gt; ShowS
[NetworkTopologyP2P] -&gt; ShowS
NetworkTopologyP2P -&gt; String
(Int -&gt; NetworkTopologyP2P -&gt; ShowS)
-&gt; (NetworkTopologyP2P -&gt; String)
-&gt; ([NetworkTopologyP2P] -&gt; ShowS)
-&gt; Show NetworkTopologyP2P
forall a.
(Int -&gt; a -&gt; ShowS) -&gt; (a -&gt; String) -&gt; ([a] -&gt; ShowS) -&gt; Show a
$cshowsPrec :: Int -&gt; NetworkTopologyP2P -&gt; ShowS
showsPrec :: Int -&gt; NetworkTopologyP2P -&gt; ShowS
$cshow :: NetworkTopologyP2P -&gt; String
show :: NetworkTopologyP2P -&gt; String
$cshowList :: [NetworkTopologyP2P] -&gt; ShowS
showList :: [NetworkTopologyP2P] -&gt; ShowS
</span><a href="file:///nix/store/ahd0dyjy54gfbx667iq5s68d85igqdgv-ghc-9.6.5-doc/share/doc/ghc-9.6.5/html/libraries/base-4.18.2.1/src/GHC.Show.html#Show"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Show</span></a></span></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-220"></span><span>
</span><span id="line-221"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679104015"><span id="local-6989586621679104019"><span class="annot"><span class="hs-identifier hs-type">Aeson.FromJSON</span></span><span> </span><span class="annot"><a href="Cardano.Benchmarking.Topology.Projection.html#NetworkTopologyP2P"><span class="hs-identifier hs-type">NetworkTopologyP2P</span></a></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-222"></span><span>  </span><span id="local-6989586621679104038"><span class="annot"><span class="annottext">parseJSON :: Value -&gt; Parser NetworkTopologyP2P
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">parseJSON</span></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String
-&gt; (Object -&gt; Parser NetworkTopologyP2P)
-&gt; Value
-&gt; Parser NetworkTopologyP2P
forall a. String -&gt; (Object -&gt; Parser a) -&gt; Value -&gt; Parser a
</span><span class="hs-identifier hs-var">Aeson.withObject</span></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;NetworkTopologyP2P&quot;</span></span><span> </span><span class="annot"><span class="annottext">((Object -&gt; Parser NetworkTopologyP2P)
 -&gt; Value -&gt; Parser NetworkTopologyP2P)
-&gt; (Object -&gt; Parser NetworkTopologyP2P)
-&gt; Value
-&gt; Parser NetworkTopologyP2P
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/ahd0dyjy54gfbx667iq5s68d85igqdgv-ghc-9.6.5-doc/share/doc/ghc-9.6.5/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679104039"><span class="annot"><span class="annottext">Object
</span><a href="#local-6989586621679104039"><span class="hs-identifier hs-var">o</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">LocalRootPeersGroups
-&gt; [PublicRootPeers]
-&gt; UseLedgerPeers
-&gt; UseBootstrapPeers
-&gt; NetworkTopologyP2P
</span><a href="Cardano.Benchmarking.Topology.Projection.html#RealNodeTopologyP2P"><span class="hs-identifier hs-var">RealNodeTopologyP2P</span></a></span><span>
</span><span id="line-223"></span><span>    </span><span class="annot"><span class="annottext">(LocalRootPeersGroups
 -&gt; [PublicRootPeers]
 -&gt; UseLedgerPeers
 -&gt; UseBootstrapPeers
 -&gt; NetworkTopologyP2P)
-&gt; Parser LocalRootPeersGroups
-&gt; Parser
     ([PublicRootPeers]
      -&gt; UseLedgerPeers -&gt; UseBootstrapPeers -&gt; NetworkTopologyP2P)
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="file:///nix/store/ahd0dyjy54gfbx667iq5s68d85igqdgv-ghc-9.6.5-doc/share/doc/ghc-9.6.5/html/libraries/base-4.18.2.1/src/Data.Functor.html#%3C%24%3E"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Object
</span><a href="#local-6989586621679104039"><span class="hs-identifier hs-var">o</span></a></span><span> </span><span class="annot"><span class="annottext">Object -&gt; Key -&gt; Parser LocalRootPeersGroups
forall a. FromJSON a =&gt; Object -&gt; Key -&gt; Parser a
</span><span class="hs-operator hs-var">Aeson..:</span></span><span>  </span><span class="annot"><span class="annottext">Key
</span><span class="hs-string">&quot;localRoots&quot;</span></span><span>                                        </span><span class="hs-special">)</span><span>
</span><span id="line-224"></span><span>    </span><span class="annot"><span class="annottext">Parser
  ([PublicRootPeers]
   -&gt; UseLedgerPeers -&gt; UseBootstrapPeers -&gt; NetworkTopologyP2P)
-&gt; Parser [PublicRootPeers]
-&gt; Parser
     (UseLedgerPeers -&gt; UseBootstrapPeers -&gt; NetworkTopologyP2P)
forall a b. Parser (a -&gt; b) -&gt; Parser a -&gt; Parser b
forall (f :: * -&gt; *) a b. Applicative f =&gt; f (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="file:///nix/store/ahd0dyjy54gfbx667iq5s68d85igqdgv-ghc-9.6.5-doc/share/doc/ghc-9.6.5/html/libraries/base-4.18.2.1/src/GHC.Base.html#%3C%2A%3E"><span class="hs-operator hs-var">&lt;*&gt;</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Object
</span><a href="#local-6989586621679104039"><span class="hs-identifier hs-var">o</span></a></span><span> </span><span class="annot"><span class="annottext">Object -&gt; Key -&gt; Parser [PublicRootPeers]
forall a. FromJSON a =&gt; Object -&gt; Key -&gt; Parser a
</span><span class="hs-operator hs-var">Aeson..:</span></span><span>  </span><span class="annot"><span class="annottext">Key
</span><span class="hs-string">&quot;publicRoots&quot;</span></span><span>                                       </span><span class="hs-special">)</span><span>
</span><span id="line-225"></span><span>    </span><span class="annot"><span class="annottext">Parser (UseLedgerPeers -&gt; UseBootstrapPeers -&gt; NetworkTopologyP2P)
-&gt; Parser UseLedgerPeers
-&gt; Parser (UseBootstrapPeers -&gt; NetworkTopologyP2P)
forall a b. Parser (a -&gt; b) -&gt; Parser a -&gt; Parser b
forall (f :: * -&gt; *) a b. Applicative f =&gt; f (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="file:///nix/store/ahd0dyjy54gfbx667iq5s68d85igqdgv-ghc-9.6.5-doc/share/doc/ghc-9.6.5/html/libraries/base-4.18.2.1/src/GHC.Base.html#%3C%2A%3E"><span class="hs-operator hs-var">&lt;*&gt;</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Object
</span><a href="#local-6989586621679104039"><span class="hs-identifier hs-var">o</span></a></span><span> </span><span class="annot"><span class="annottext">Object -&gt; Key -&gt; Parser (Maybe UseLedgerPeers)
forall a. FromJSON a =&gt; Object -&gt; Key -&gt; Parser (Maybe a)
</span><span class="hs-operator hs-var">Aeson..:?</span></span><span> </span><span class="annot"><span class="annottext">Key
</span><span class="hs-string">&quot;useLedgerAfterSlot&quot;</span></span><span> </span><span class="annot"><span class="annottext">Parser (Maybe UseLedgerPeers)
-&gt; UseLedgerPeers -&gt; Parser UseLedgerPeers
forall a. Parser (Maybe a) -&gt; a -&gt; Parser a
</span><span class="hs-operator hs-var">Aeson..!=</span></span><span> </span><span class="annot"><span class="annottext">UseLedgerPeers
</span><a href="Cardano.Benchmarking.Topology.Projection.html#DontUseLedgerPeers"><span class="hs-identifier hs-var">DontUseLedgerPeers</span></a></span><span>   </span><span class="hs-special">)</span><span>
</span><span id="line-226"></span><span>    </span><span class="annot"><span class="annottext">Parser (UseBootstrapPeers -&gt; NetworkTopologyP2P)
-&gt; Parser UseBootstrapPeers -&gt; Parser NetworkTopologyP2P
forall a b. Parser (a -&gt; b) -&gt; Parser a -&gt; Parser b
forall (f :: * -&gt; *) a b. Applicative f =&gt; f (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="file:///nix/store/ahd0dyjy54gfbx667iq5s68d85igqdgv-ghc-9.6.5-doc/share/doc/ghc-9.6.5/html/libraries/base-4.18.2.1/src/GHC.Base.html#%3C%2A%3E"><span class="hs-operator hs-var">&lt;*&gt;</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Object
</span><a href="#local-6989586621679104039"><span class="hs-identifier hs-var">o</span></a></span><span> </span><span class="annot"><span class="annottext">Object -&gt; Key -&gt; Parser (Maybe UseBootstrapPeers)
forall a. FromJSON a =&gt; Object -&gt; Key -&gt; Parser (Maybe a)
</span><span class="hs-operator hs-var">Aeson..:?</span></span><span> </span><span class="annot"><span class="annottext">Key
</span><span class="hs-string">&quot;bootstrapPeers&quot;</span></span><span>     </span><span class="annot"><span class="annottext">Parser (Maybe UseBootstrapPeers)
-&gt; UseBootstrapPeers -&gt; Parser UseBootstrapPeers
forall a. Parser (Maybe a) -&gt; a -&gt; Parser a
</span><span class="hs-operator hs-var">Aeson..!=</span></span><span> </span><span class="annot"><span class="annottext">UseBootstrapPeers
</span><a href="Cardano.Benchmarking.Topology.Projection.html#DontUseBootstrapPeers"><span class="hs-identifier hs-var">DontUseBootstrapPeers</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-227"></span><span class="hs-comment">{- TODO:
    &lt;*&gt; (o Aeson..:? &quot;peerSnapshotFile&quot;                                  )
-}</span><span>
</span><span id="line-230"></span><span>
</span><span id="line-231"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679104044"><span id="local-6989586621679104048"><span id="local-6989586621679104051"><span id="local-6989586621679104054"><span class="annot"><span class="hs-identifier hs-type">Aeson.ToJSON</span></span><span> </span><span class="annot"><a href="Cardano.Benchmarking.Topology.Projection.html#NetworkTopologyP2P"><span class="hs-identifier hs-type">NetworkTopologyP2P</span></a></span></span></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-232"></span><span>  </span><span id="local-6989586621679104075"><span class="annot"><span class="annottext">toJSON :: NetworkTopologyP2P -&gt; Value
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">toJSON</span></span></span><span> </span><span id="local-6989586621679104076"><span class="annot"><span class="annottext">NetworkTopologyP2P
</span><a href="#local-6989586621679104076"><span class="hs-identifier hs-var">top</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[Pair] -&gt; Value
</span><span class="hs-identifier hs-var">Aeson.object</span></span><span>
</span><span id="line-233"></span><span>    </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="annottext">Key
</span><span class="hs-string">&quot;localRoots&quot;</span></span><span>         </span><span class="annot"><span class="annottext">Key -&gt; LocalRootPeersGroups -&gt; Pair
forall v. ToJSON v =&gt; Key -&gt; v -&gt; Pair
forall e kv v. (KeyValue e kv, ToJSON v) =&gt; Key -&gt; v -&gt; kv
</span><span class="hs-operator hs-var">Aeson..=</span></span><span> </span><span class="annot"><span class="annottext">NetworkTopologyP2P -&gt; LocalRootPeersGroups
</span><a href="Cardano.Benchmarking.Topology.Projection.html#ntLocalRootPeersGroups"><span class="hs-identifier hs-var">ntLocalRootPeersGroups</span></a></span><span> </span><span class="annot"><span class="annottext">NetworkTopologyP2P
</span><a href="#local-6989586621679104076"><span class="hs-identifier hs-var">top</span></a></span><span>
</span><span id="line-234"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Key
</span><span class="hs-string">&quot;publicRoots&quot;</span></span><span>        </span><span class="annot"><span class="annottext">Key -&gt; [PublicRootPeers] -&gt; Pair
forall v. ToJSON v =&gt; Key -&gt; v -&gt; Pair
forall e kv v. (KeyValue e kv, ToJSON v) =&gt; Key -&gt; v -&gt; kv
</span><span class="hs-operator hs-var">Aeson..=</span></span><span> </span><span class="annot"><span class="annottext">NetworkTopologyP2P -&gt; [PublicRootPeers]
</span><a href="Cardano.Benchmarking.Topology.Projection.html#ntPublicRootPeers"><span class="hs-identifier hs-var">ntPublicRootPeers</span></a></span><span>      </span><span class="annot"><span class="annottext">NetworkTopologyP2P
</span><a href="#local-6989586621679104076"><span class="hs-identifier hs-var">top</span></a></span><span>
</span><span id="line-235"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Key
</span><span class="hs-string">&quot;useLedgerAfterSlot&quot;</span></span><span> </span><span class="annot"><span class="annottext">Key -&gt; UseLedgerPeers -&gt; Pair
forall v. ToJSON v =&gt; Key -&gt; v -&gt; Pair
forall e kv v. (KeyValue e kv, ToJSON v) =&gt; Key -&gt; v -&gt; kv
</span><span class="hs-operator hs-var">Aeson..=</span></span><span> </span><span class="annot"><span class="annottext">NetworkTopologyP2P -&gt; UseLedgerPeers
</span><a href="Cardano.Benchmarking.Topology.Projection.html#ntUseLedgerPeers"><span class="hs-identifier hs-var">ntUseLedgerPeers</span></a></span><span>       </span><span class="annot"><span class="annottext">NetworkTopologyP2P
</span><a href="#local-6989586621679104076"><span class="hs-identifier hs-var">top</span></a></span><span>
</span><span id="line-236"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Key
</span><span class="hs-string">&quot;bootstrapPeers&quot;</span></span><span>     </span><span class="annot"><span class="annottext">Key -&gt; UseBootstrapPeers -&gt; Pair
forall v. ToJSON v =&gt; Key -&gt; v -&gt; Pair
forall e kv v. (KeyValue e kv, ToJSON v) =&gt; Key -&gt; v -&gt; kv
</span><span class="hs-operator hs-var">Aeson..=</span></span><span> </span><span class="annot"><span class="annottext">NetworkTopologyP2P -&gt; UseBootstrapPeers
</span><a href="Cardano.Benchmarking.Topology.Projection.html#ntUseBootstrapPeers"><span class="hs-identifier hs-var">ntUseBootstrapPeers</span></a></span><span>    </span><span class="annot"><span class="annottext">NetworkTopologyP2P
</span><a href="#local-6989586621679104076"><span class="hs-identifier hs-var">top</span></a></span><span>
</span><span id="line-237"></span><span class="hs-comment">{- TODO:
    , &quot;peerSnapshotFile&quot;   Aeson..= ntPeerSnapshotPath     top
-}</span><span>
</span><span id="line-240"></span><span>    </span><span class="hs-special">]</span><span>
</span><span id="line-241"></span><span>
</span><span id="line-242"></span><span class="hs-comment">-- https://github.com/IntersectMBO/cardano-node/blob/52b708f37cd3dc92a188717deae2a6a60117f696/cardano-node/src/Cardano/Node/Configuration/TopologyP2P.hs#L87</span><span>
</span><span id="line-243"></span><span>
</span><span id="line-244"></span><span class="hs-comment">-- | Each root peer consists of a list of access points and a shared</span><span>
</span><span id="line-245"></span><span class="hs-comment">-- 'PeerAdvertise' field.</span><span>
</span><span id="line-246"></span><span class="hs-comment">--</span><span>
</span><span id="line-247"></span><span class="hs-keyword">data</span><span> </span><span id="RootConfig"><span class="annot"><a href="Cardano.Benchmarking.Topology.Projection.html#RootConfig"><span class="hs-identifier hs-var">RootConfig</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="RootConfig"><span class="annot"><a href="Cardano.Benchmarking.Topology.Projection.html#RootConfig"><span class="hs-identifier hs-var">RootConfig</span></a></span></span><span>
</span><span id="line-248"></span><span>  </span><span class="hs-special">{</span><span> </span><span id="rootAccessPoints"><span class="annot"><span class="annottext">RootConfig -&gt; [RelayAccessPoint]
</span><a href="Cardano.Benchmarking.Topology.Projection.html#rootAccessPoints"><span class="hs-identifier hs-var hs-var">rootAccessPoints</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Cardano.Benchmarking.Topology.Projection.html#RelayAccessPoint"><span class="hs-identifier hs-type">RelayAccessPoint</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-249"></span><span>    </span><span class="hs-comment">-- ^ a list of relay access points, each of which is either an ip address</span><span>
</span><span id="line-250"></span><span>    </span><span class="hs-comment">-- or domain name and a port number.</span><span>
</span><span id="line-251"></span><span>  </span><span class="hs-special">,</span><span> </span><span id="rootAdvertise"><span class="annot"><span class="annottext">RootConfig -&gt; PeerAdvertise
</span><a href="Cardano.Benchmarking.Topology.Projection.html#rootAdvertise"><span class="hs-identifier hs-var hs-var">rootAdvertise</span></a></span></span><span>    </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Cardano.Benchmarking.Topology.Projection.html#PeerAdvertise"><span class="hs-identifier hs-type">PeerAdvertise</span></a></span><span>
</span><span id="line-252"></span><span>    </span><span class="hs-comment">-- ^ 'advertise' configures whether the root should be advertised through</span><span>
</span><span id="line-253"></span><span>    </span><span class="hs-comment">-- peer sharing.</span><span>
</span><span id="line-254"></span><span>  </span><span class="hs-special">}</span><span> </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679104078"><span id="local-6989586621679104084"><span class="annot"><span class="annottext">RootConfig -&gt; RootConfig -&gt; Bool
(RootConfig -&gt; RootConfig -&gt; Bool)
-&gt; (RootConfig -&gt; RootConfig -&gt; Bool) -&gt; Eq RootConfig
forall a. (a -&gt; a -&gt; Bool) -&gt; (a -&gt; a -&gt; Bool) -&gt; Eq a
$c== :: RootConfig -&gt; RootConfig -&gt; Bool
== :: RootConfig -&gt; RootConfig -&gt; Bool
$c/= :: RootConfig -&gt; RootConfig -&gt; Bool
/= :: RootConfig -&gt; RootConfig -&gt; Bool
</span><a href="file:///nix/store/ahd0dyjy54gfbx667iq5s68d85igqdgv-ghc-9.6.5-doc/share/doc/ghc-9.6.5/html/libraries/ghc-prim-0.10.0/src/GHC.Classes.html#Eq"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Eq</span></a></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679104089"><span id="local-6989586621679104096"><span id="local-6989586621679104100"><span class="annot"><span class="annottext">Int -&gt; RootConfig -&gt; ShowS
[RootConfig] -&gt; ShowS
RootConfig -&gt; String
(Int -&gt; RootConfig -&gt; ShowS)
-&gt; (RootConfig -&gt; String)
-&gt; ([RootConfig] -&gt; ShowS)
-&gt; Show RootConfig
forall a.
(Int -&gt; a -&gt; ShowS) -&gt; (a -&gt; String) -&gt; ([a] -&gt; ShowS) -&gt; Show a
$cshowsPrec :: Int -&gt; RootConfig -&gt; ShowS
showsPrec :: Int -&gt; RootConfig -&gt; ShowS
$cshow :: RootConfig -&gt; String
show :: RootConfig -&gt; String
$cshowList :: [RootConfig] -&gt; ShowS
showList :: [RootConfig] -&gt; ShowS
</span><a href="file:///nix/store/ahd0dyjy54gfbx667iq5s68d85igqdgv-ghc-9.6.5-doc/share/doc/ghc-9.6.5/html/libraries/base-4.18.2.1/src/GHC.Show.html#Show"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Show</span></a></span></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-255"></span><span>
</span><span id="line-256"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679104105"><span id="local-6989586621679104109"><span class="annot"><span class="hs-identifier hs-type">Aeson.FromJSON</span></span><span> </span><span class="annot"><a href="Cardano.Benchmarking.Topology.Projection.html#RootConfig"><span class="hs-identifier hs-type">RootConfig</span></a></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-257"></span><span>  </span><span id="local-6989586621679104120"><span class="annot"><span class="annottext">parseJSON :: Value -&gt; Parser RootConfig
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">parseJSON</span></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String
-&gt; (Object -&gt; Parser RootConfig) -&gt; Value -&gt; Parser RootConfig
forall a. String -&gt; (Object -&gt; Parser a) -&gt; Value -&gt; Parser a
</span><span class="hs-identifier hs-var">Aeson.withObject</span></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;RootConfig&quot;</span></span><span> </span><span class="annot"><span class="annottext">((Object -&gt; Parser RootConfig) -&gt; Value -&gt; Parser RootConfig)
-&gt; (Object -&gt; Parser RootConfig) -&gt; Value -&gt; Parser RootConfig
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/ahd0dyjy54gfbx667iq5s68d85igqdgv-ghc-9.6.5-doc/share/doc/ghc-9.6.5/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679104121"><span class="annot"><span class="annottext">Object
</span><a href="#local-6989586621679104121"><span class="hs-identifier hs-var">o</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">[RelayAccessPoint] -&gt; PeerAdvertise -&gt; RootConfig
</span><a href="Cardano.Benchmarking.Topology.Projection.html#RootConfig"><span class="hs-identifier hs-var">RootConfig</span></a></span><span>
</span><span id="line-258"></span><span>    </span><span class="annot"><span class="annottext">([RelayAccessPoint] -&gt; PeerAdvertise -&gt; RootConfig)
-&gt; Parser [RelayAccessPoint]
-&gt; Parser (PeerAdvertise -&gt; RootConfig)
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="file:///nix/store/ahd0dyjy54gfbx667iq5s68d85igqdgv-ghc-9.6.5-doc/share/doc/ghc-9.6.5/html/libraries/base-4.18.2.1/src/Data.Functor.html#%3C%24%3E"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Object
</span><a href="#local-6989586621679104121"><span class="hs-identifier hs-var">o</span></a></span><span> </span><span class="annot"><span class="annottext">Object -&gt; Key -&gt; Parser [RelayAccessPoint]
forall a. FromJSON a =&gt; Object -&gt; Key -&gt; Parser a
</span><span class="hs-operator hs-var">Aeson..:</span></span><span>  </span><span class="annot"><span class="annottext">Key
</span><span class="hs-string">&quot;accessPoints&quot;</span></span><span>
</span><span id="line-259"></span><span>    </span><span class="annot"><span class="annottext">Parser (PeerAdvertise -&gt; RootConfig)
-&gt; Parser PeerAdvertise -&gt; Parser RootConfig
forall a b. Parser (a -&gt; b) -&gt; Parser a -&gt; Parser b
forall (f :: * -&gt; *) a b. Applicative f =&gt; f (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="file:///nix/store/ahd0dyjy54gfbx667iq5s68d85igqdgv-ghc-9.6.5-doc/share/doc/ghc-9.6.5/html/libraries/base-4.18.2.1/src/GHC.Base.html#%3C%2A%3E"><span class="hs-operator hs-var">&lt;*&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Object
</span><a href="#local-6989586621679104121"><span class="hs-identifier hs-var">o</span></a></span><span> </span><span class="annot"><span class="annottext">Object -&gt; Key -&gt; Parser (Maybe PeerAdvertise)
forall a. FromJSON a =&gt; Object -&gt; Key -&gt; Parser (Maybe a)
</span><span class="hs-operator hs-var">Aeson..:?</span></span><span> </span><span class="annot"><span class="annottext">Key
</span><span class="hs-string">&quot;advertise&quot;</span></span><span> </span><span class="annot"><span class="annottext">Parser (Maybe PeerAdvertise)
-&gt; PeerAdvertise -&gt; Parser PeerAdvertise
forall a. Parser (Maybe a) -&gt; a -&gt; Parser a
</span><span class="hs-operator hs-var">Aeson..!=</span></span><span> </span><span class="annot"><span class="annottext">PeerAdvertise
</span><a href="Cardano.Benchmarking.Topology.Projection.html#DoNotAdvertisePeer"><span class="hs-identifier hs-var">DoNotAdvertisePeer</span></a></span><span>
</span><span id="line-260"></span><span>
</span><span id="line-261"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679104124"><span id="local-6989586621679104128"><span id="local-6989586621679104131"><span id="local-6989586621679104134"><span class="annot"><span class="hs-identifier hs-type">Aeson.ToJSON</span></span><span> </span><span class="annot"><a href="Cardano.Benchmarking.Topology.Projection.html#RootConfig"><span class="hs-identifier hs-type">RootConfig</span></a></span></span></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-262"></span><span>  </span><span id="local-6989586621679104147"><span class="annot"><span class="annottext">toJSON :: RootConfig -&gt; Value
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">toJSON</span></span></span><span> </span><span id="local-6989586621679104148"><span class="annot"><span class="annottext">RootConfig
</span><a href="#local-6989586621679104148"><span class="hs-identifier hs-var">ra</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[Pair] -&gt; Value
</span><span class="hs-identifier hs-var">Aeson.object</span></span><span>
</span><span id="line-263"></span><span>    </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="annottext">Key
</span><span class="hs-string">&quot;accessPoints&quot;</span></span><span> </span><span class="annot"><span class="annottext">Key -&gt; [RelayAccessPoint] -&gt; Pair
forall v. ToJSON v =&gt; Key -&gt; v -&gt; Pair
forall e kv v. (KeyValue e kv, ToJSON v) =&gt; Key -&gt; v -&gt; kv
</span><span class="hs-operator hs-var">Aeson..=</span></span><span> </span><span class="annot"><span class="annottext">RootConfig -&gt; [RelayAccessPoint]
</span><a href="Cardano.Benchmarking.Topology.Projection.html#rootAccessPoints"><span class="hs-identifier hs-var">rootAccessPoints</span></a></span><span> </span><span class="annot"><span class="annottext">RootConfig
</span><a href="#local-6989586621679104148"><span class="hs-identifier hs-var">ra</span></a></span><span>
</span><span id="line-264"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Key
</span><span class="hs-string">&quot;advertise&quot;</span></span><span>    </span><span class="annot"><span class="annottext">Key -&gt; PeerAdvertise -&gt; Pair
forall v. ToJSON v =&gt; Key -&gt; v -&gt; Pair
forall e kv v. (KeyValue e kv, ToJSON v) =&gt; Key -&gt; v -&gt; kv
</span><span class="hs-operator hs-var">Aeson..=</span></span><span> </span><span class="annot"><span class="annottext">RootConfig -&gt; PeerAdvertise
</span><a href="Cardano.Benchmarking.Topology.Projection.html#rootAdvertise"><span class="hs-identifier hs-var">rootAdvertise</span></a></span><span> </span><span class="annot"><span class="annottext">RootConfig
</span><a href="#local-6989586621679104148"><span class="hs-identifier hs-var">ra</span></a></span><span>
</span><span id="line-265"></span><span>    </span><span class="hs-special">]</span><span>
</span><span id="line-266"></span><span>
</span><span id="line-267"></span><span class="hs-comment">-- Replaced `HotValency` and `WarmValency` with `Valency`.</span><span>
</span><span id="line-268"></span><span class="hs-comment">-- https://github.com/IntersectMBO/cardano-node/blob/52b708f37cd3dc92a188717deae2a6a60117f696/cardano-node/src/Cardano/Node/Configuration/TopologyP2P.hs#L125</span><span>
</span><span id="line-269"></span><span>
</span><span id="line-270"></span><span class="hs-comment">-- | A local root peers group.  Local roots are treated by the outbound</span><span>
</span><span id="line-271"></span><span class="hs-comment">-- governor in a special way.  The node will make sure that a node has the</span><span>
</span><span id="line-272"></span><span class="hs-comment">-- requested number ('valency'/'hotValency') of connections to the local root peer group.</span><span>
</span><span id="line-273"></span><span class="hs-comment">-- 'warmValency' value is the value of warm/established connections that the node</span><span>
</span><span id="line-274"></span><span class="hs-comment">-- will attempt to maintain. By default this value will be equal to 'hotValency'.</span><span>
</span><span id="line-275"></span><span class="hs-comment">--</span><span>
</span><span id="line-276"></span><span class="hs-keyword">data</span><span> </span><span id="LocalRootPeersGroup"><span class="annot"><a href="Cardano.Benchmarking.Topology.Projection.html#LocalRootPeersGroup"><span class="hs-identifier hs-var">LocalRootPeersGroup</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="LocalRootPeersGroup"><span class="annot"><a href="Cardano.Benchmarking.Topology.Projection.html#LocalRootPeersGroup"><span class="hs-identifier hs-var">LocalRootPeersGroup</span></a></span></span><span>
</span><span id="line-277"></span><span>  </span><span class="hs-special">{</span><span> </span><span id="localRoots"><span class="annot"><span class="annottext">LocalRootPeersGroup -&gt; RootConfig
</span><a href="Cardano.Benchmarking.Topology.Projection.html#localRoots"><span class="hs-identifier hs-var hs-var">localRoots</span></a></span></span><span>        </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Cardano.Benchmarking.Topology.Projection.html#RootConfig"><span class="hs-identifier hs-type">RootConfig</span></a></span><span>
</span><span id="line-278"></span><span>  </span><span class="hs-special">,</span><span> </span><span id="trustable"><span class="annot"><span class="annottext">LocalRootPeersGroup -&gt; PeerTrustable
</span><a href="Cardano.Benchmarking.Topology.Projection.html#trustable"><span class="hs-identifier hs-var hs-var">trustable</span></a></span></span><span>         </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Cardano.Benchmarking.Topology.Projection.html#PeerTrustable"><span class="hs-identifier hs-type">PeerTrustable</span></a></span><span>
</span><span id="line-279"></span><span>  </span><span class="hs-special">,</span><span> </span><span id="valency"><span class="annot"><span class="annottext">LocalRootPeersGroup -&gt; Valency
</span><a href="Cardano.Benchmarking.Topology.Projection.html#valency"><span class="hs-identifier hs-var hs-var">valency</span></a></span></span><span>           </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Cardano.Benchmarking.Topology.Projection.html#Valency"><span class="hs-identifier hs-type">Valency</span></a></span><span>
</span><span id="line-280"></span><span>    </span><span class="hs-comment">-- ^ 'trustable' configures whether the root should be trusted in fallback</span><span>
</span><span id="line-281"></span><span>    </span><span class="hs-comment">-- state.</span><span>
</span><span id="line-282"></span><span class="hs-comment">{- TODO:
  , rootDiffusionMode :: DiffusionMode
    -- ^ diffusion mode; used for local root peers.
-}</span><span>
</span><span id="line-286"></span><span>  </span><span class="hs-special">}</span><span> </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679104150"><span id="local-6989586621679104157"><span class="annot"><span class="annottext">LocalRootPeersGroup -&gt; LocalRootPeersGroup -&gt; Bool
(LocalRootPeersGroup -&gt; LocalRootPeersGroup -&gt; Bool)
-&gt; (LocalRootPeersGroup -&gt; LocalRootPeersGroup -&gt; Bool)
-&gt; Eq LocalRootPeersGroup
forall a. (a -&gt; a -&gt; Bool) -&gt; (a -&gt; a -&gt; Bool) -&gt; Eq a
$c== :: LocalRootPeersGroup -&gt; LocalRootPeersGroup -&gt; Bool
== :: LocalRootPeersGroup -&gt; LocalRootPeersGroup -&gt; Bool
$c/= :: LocalRootPeersGroup -&gt; LocalRootPeersGroup -&gt; Bool
/= :: LocalRootPeersGroup -&gt; LocalRootPeersGroup -&gt; Bool
</span><a href="file:///nix/store/ahd0dyjy54gfbx667iq5s68d85igqdgv-ghc-9.6.5-doc/share/doc/ghc-9.6.5/html/libraries/ghc-prim-0.10.0/src/GHC.Classes.html#Eq"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Eq</span></a></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679104161"><span id="local-6989586621679104169"><span id="local-6989586621679104173"><span class="annot"><span class="annottext">Int -&gt; LocalRootPeersGroup -&gt; ShowS
[LocalRootPeersGroup] -&gt; ShowS
LocalRootPeersGroup -&gt; String
(Int -&gt; LocalRootPeersGroup -&gt; ShowS)
-&gt; (LocalRootPeersGroup -&gt; String)
-&gt; ([LocalRootPeersGroup] -&gt; ShowS)
-&gt; Show LocalRootPeersGroup
forall a.
(Int -&gt; a -&gt; ShowS) -&gt; (a -&gt; String) -&gt; ([a] -&gt; ShowS) -&gt; Show a
$cshowsPrec :: Int -&gt; LocalRootPeersGroup -&gt; ShowS
showsPrec :: Int -&gt; LocalRootPeersGroup -&gt; ShowS
$cshow :: LocalRootPeersGroup -&gt; String
show :: LocalRootPeersGroup -&gt; String
$cshowList :: [LocalRootPeersGroup] -&gt; ShowS
showList :: [LocalRootPeersGroup] -&gt; ShowS
</span><a href="file:///nix/store/ahd0dyjy54gfbx667iq5s68d85igqdgv-ghc-9.6.5-doc/share/doc/ghc-9.6.5/html/libraries/base-4.18.2.1/src/GHC.Show.html#Show"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Show</span></a></span></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-287"></span><span>
</span><span id="line-288"></span><span class="hs-comment">-- | Does not use the 'FromJSON' instance of 'RootConfig', so that</span><span>
</span><span id="line-289"></span><span class="hs-comment">-- 'accessPoints', 'advertise', 'valency' and 'warmValency' fields are attached</span><span>
</span><span id="line-290"></span><span class="hs-comment">-- to the same object.</span><span>
</span><span id="line-291"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679104177"><span id="local-6989586621679104181"><span class="annot"><span class="hs-identifier hs-type">Aeson.FromJSON</span></span><span> </span><span class="annot"><a href="Cardano.Benchmarking.Topology.Projection.html#LocalRootPeersGroup"><span class="hs-identifier hs-type">LocalRootPeersGroup</span></a></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-292"></span><span>  </span><span id="local-6989586621679104193"><span class="annot"><span class="annottext">parseJSON :: Value -&gt; Parser LocalRootPeersGroup
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">parseJSON</span></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String
-&gt; (Object -&gt; Parser LocalRootPeersGroup)
-&gt; Value
-&gt; Parser LocalRootPeersGroup
forall a. String -&gt; (Object -&gt; Parser a) -&gt; Value -&gt; Parser a
</span><span class="hs-identifier hs-var">Aeson.withObject</span></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;LocalRootPeersGroup&quot;</span></span><span> </span><span class="annot"><span class="annottext">((Object -&gt; Parser LocalRootPeersGroup)
 -&gt; Value -&gt; Parser LocalRootPeersGroup)
-&gt; (Object -&gt; Parser LocalRootPeersGroup)
-&gt; Value
-&gt; Parser LocalRootPeersGroup
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/ahd0dyjy54gfbx667iq5s68d85igqdgv-ghc-9.6.5-doc/share/doc/ghc-9.6.5/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679104194"><span class="annot"><span class="annottext">Object
</span><a href="#local-6989586621679104194"><span class="hs-identifier hs-var">o</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-293"></span><span>    </span><span class="annot"><span class="annottext">RootConfig -&gt; PeerTrustable -&gt; Valency -&gt; LocalRootPeersGroup
</span><a href="Cardano.Benchmarking.Topology.Projection.html#LocalRootPeersGroup"><span class="hs-identifier hs-var">LocalRootPeersGroup</span></a></span><span>
</span><span id="line-294"></span><span>      </span><span class="annot"><span class="annottext">(RootConfig -&gt; PeerTrustable -&gt; Valency -&gt; LocalRootPeersGroup)
-&gt; Parser RootConfig
-&gt; Parser (PeerTrustable -&gt; Valency -&gt; LocalRootPeersGroup)
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="file:///nix/store/ahd0dyjy54gfbx667iq5s68d85igqdgv-ghc-9.6.5-doc/share/doc/ghc-9.6.5/html/libraries/base-4.18.2.1/src/Data.Functor.html#%3C%24%3E"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Value -&gt; Parser RootConfig
forall a. FromJSON a =&gt; Value -&gt; Parser a
</span><span class="hs-identifier hs-var">Aeson.parseJSON</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Object -&gt; Value
</span><span class="hs-identifier hs-var">Aeson.Object</span></span><span> </span><span class="annot"><span class="annottext">Object
</span><a href="#local-6989586621679104194"><span class="hs-identifier hs-var">o</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-295"></span><span>      </span><span class="annot"><span class="annottext">Parser (PeerTrustable -&gt; Valency -&gt; LocalRootPeersGroup)
-&gt; Parser PeerTrustable -&gt; Parser (Valency -&gt; LocalRootPeersGroup)
forall a b. Parser (a -&gt; b) -&gt; Parser a -&gt; Parser b
forall (f :: * -&gt; *) a b. Applicative f =&gt; f (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="file:///nix/store/ahd0dyjy54gfbx667iq5s68d85igqdgv-ghc-9.6.5-doc/share/doc/ghc-9.6.5/html/libraries/base-4.18.2.1/src/GHC.Base.html#%3C%2A%3E"><span class="hs-operator hs-var">&lt;*&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Object
</span><a href="#local-6989586621679104194"><span class="hs-identifier hs-var">o</span></a></span><span> </span><span class="annot"><span class="annottext">Object -&gt; Key -&gt; Parser (Maybe PeerTrustable)
forall a. FromJSON a =&gt; Object -&gt; Key -&gt; Parser (Maybe a)
</span><span class="hs-operator hs-var">Aeson..:?</span></span><span> </span><span class="annot"><span class="annottext">Key
</span><span class="hs-string">&quot;trustable&quot;</span></span><span> </span><span class="annot"><span class="annottext">Parser (Maybe PeerTrustable)
-&gt; PeerTrustable -&gt; Parser PeerTrustable
forall a. Parser (Maybe a) -&gt; a -&gt; Parser a
</span><span class="hs-operator hs-var">Aeson..!=</span></span><span> </span><span class="annot"><span class="annottext">PeerTrustable
</span><a href="Cardano.Benchmarking.Topology.Projection.html#IsNotTrustable"><span class="hs-identifier hs-var">IsNotTrustable</span></a></span><span>
</span><span id="line-296"></span><span>      </span><span class="annot"><span class="annottext">Parser (Valency -&gt; LocalRootPeersGroup)
-&gt; Parser Valency -&gt; Parser LocalRootPeersGroup
forall a b. Parser (a -&gt; b) -&gt; Parser a -&gt; Parser b
forall (f :: * -&gt; *) a b. Applicative f =&gt; f (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="file:///nix/store/ahd0dyjy54gfbx667iq5s68d85igqdgv-ghc-9.6.5-doc/share/doc/ghc-9.6.5/html/libraries/base-4.18.2.1/src/GHC.Base.html#%3C%2A%3E"><span class="hs-operator hs-var">&lt;*&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Object
</span><a href="#local-6989586621679104194"><span class="hs-identifier hs-var">o</span></a></span><span> </span><span class="annot"><span class="annottext">Object -&gt; Key -&gt; Parser Valency
forall a. FromJSON a =&gt; Object -&gt; Key -&gt; Parser a
</span><span class="hs-operator hs-var">Aeson..:</span></span><span>  </span><span class="annot"><span class="annottext">Key
</span><span class="hs-string">&quot;valency&quot;</span></span><span>
</span><span id="line-297"></span><span class="hs-comment">{- TODO:
          -- deserialise via NodeDiffusionMode
      &lt;*&gt; (maybe InitiatorAndResponderDiffusionMode getDiffusionMode
            &lt;$&gt; o .:? &quot;diffusionMode&quot;)
-}</span><span>
</span><span id="line-302"></span><span>
</span><span id="line-303"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679104199"><span id="local-6989586621679104203"><span id="local-6989586621679104206"><span id="local-6989586621679104209"><span class="annot"><span class="hs-identifier hs-type">Aeson.ToJSON</span></span><span> </span><span class="annot"><a href="Cardano.Benchmarking.Topology.Projection.html#LocalRootPeersGroup"><span class="hs-identifier hs-type">LocalRootPeersGroup</span></a></span></span></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-304"></span><span>  </span><span id="local-6989586621679104228"><span class="annot"><span class="annottext">toJSON :: LocalRootPeersGroup -&gt; Value
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">toJSON</span></span></span><span> </span><span id="local-6989586621679104229"><span class="annot"><span class="annottext">LocalRootPeersGroup
</span><a href="#local-6989586621679104229"><span class="hs-identifier hs-var">lrpg</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[Pair] -&gt; Value
</span><span class="hs-identifier hs-var">Aeson.object</span></span><span>
</span><span id="line-305"></span><span>    </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="annottext">Key
</span><span class="hs-string">&quot;accessPoints&quot;</span></span><span>  </span><span class="annot"><span class="annottext">Key -&gt; [RelayAccessPoint] -&gt; Pair
forall v. ToJSON v =&gt; Key -&gt; v -&gt; Pair
forall e kv v. (KeyValue e kv, ToJSON v) =&gt; Key -&gt; v -&gt; kv
</span><span class="hs-operator hs-var">Aeson..=</span></span><span> </span><span class="annot"><span class="annottext">RootConfig -&gt; [RelayAccessPoint]
</span><a href="Cardano.Benchmarking.Topology.Projection.html#rootAccessPoints"><span class="hs-identifier hs-var">rootAccessPoints</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">LocalRootPeersGroup -&gt; RootConfig
</span><a href="Cardano.Benchmarking.Topology.Projection.html#localRoots"><span class="hs-identifier hs-var">localRoots</span></a></span><span> </span><span class="annot"><span class="annottext">LocalRootPeersGroup
</span><a href="#local-6989586621679104229"><span class="hs-identifier hs-var">lrpg</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-306"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Key
</span><span class="hs-string">&quot;advertise&quot;</span></span><span>     </span><span class="annot"><span class="annottext">Key -&gt; PeerAdvertise -&gt; Pair
forall v. ToJSON v =&gt; Key -&gt; v -&gt; Pair
forall e kv v. (KeyValue e kv, ToJSON v) =&gt; Key -&gt; v -&gt; kv
</span><span class="hs-operator hs-var">Aeson..=</span></span><span> </span><span class="annot"><span class="annottext">RootConfig -&gt; PeerAdvertise
</span><a href="Cardano.Benchmarking.Topology.Projection.html#rootAdvertise"><span class="hs-identifier hs-var">rootAdvertise</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">LocalRootPeersGroup -&gt; RootConfig
</span><a href="Cardano.Benchmarking.Topology.Projection.html#localRoots"><span class="hs-identifier hs-var">localRoots</span></a></span><span> </span><span class="annot"><span class="annottext">LocalRootPeersGroup
</span><a href="#local-6989586621679104229"><span class="hs-identifier hs-var">lrpg</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-307"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Key
</span><span class="hs-string">&quot;trustable&quot;</span></span><span>     </span><span class="annot"><span class="annottext">Key -&gt; PeerTrustable -&gt; Pair
forall v. ToJSON v =&gt; Key -&gt; v -&gt; Pair
forall e kv v. (KeyValue e kv, ToJSON v) =&gt; Key -&gt; v -&gt; kv
</span><span class="hs-operator hs-var">Aeson..=</span></span><span> </span><span class="annot"><span class="annottext">LocalRootPeersGroup -&gt; PeerTrustable
</span><a href="Cardano.Benchmarking.Topology.Projection.html#trustable"><span class="hs-identifier hs-var">trustable</span></a></span><span> </span><span class="annot"><span class="annottext">LocalRootPeersGroup
</span><a href="#local-6989586621679104229"><span class="hs-identifier hs-var">lrpg</span></a></span><span>
</span><span id="line-308"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Key
</span><span class="hs-string">&quot;valency&quot;</span></span><span>       </span><span class="annot"><span class="annottext">Key -&gt; Valency -&gt; Pair
forall v. ToJSON v =&gt; Key -&gt; v -&gt; Pair
forall e kv v. (KeyValue e kv, ToJSON v) =&gt; Key -&gt; v -&gt; kv
</span><span class="hs-operator hs-var">Aeson..=</span></span><span> </span><span class="annot"><span class="annottext">LocalRootPeersGroup -&gt; Valency
</span><a href="Cardano.Benchmarking.Topology.Projection.html#valency"><span class="hs-identifier hs-var">valency</span></a></span><span> </span><span class="annot"><span class="annottext">LocalRootPeersGroup
</span><a href="#local-6989586621679104229"><span class="hs-identifier hs-var">lrpg</span></a></span><span>
</span><span id="line-309"></span><span class="hs-comment">{- TODO:
      -- serialise via NodeDiffusionMode
    , &quot;diffusionMode&quot; Aeson..= NodeDiffusionMode (rootDiffusionMode lrpg)
-}</span><span>
</span><span id="line-313"></span><span>    </span><span class="hs-special">]</span><span>
</span><span id="line-314"></span><span>
</span><span id="line-315"></span><span class="hs-keyword">newtype</span><span> </span><span id="LocalRootPeersGroups"><span class="annot"><a href="Cardano.Benchmarking.Topology.Projection.html#LocalRootPeersGroups"><span class="hs-identifier hs-var">LocalRootPeersGroups</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="LocalRootPeersGroups"><span class="annot"><a href="Cardano.Benchmarking.Topology.Projection.html#LocalRootPeersGroups"><span class="hs-identifier hs-var">LocalRootPeersGroups</span></a></span></span><span>
</span><span id="line-316"></span><span>  </span><span class="hs-special">{</span><span> </span><span id="groups"><span class="annot"><span class="annottext">LocalRootPeersGroups -&gt; [LocalRootPeersGroup]
</span><a href="Cardano.Benchmarking.Topology.Projection.html#groups"><span class="hs-identifier hs-var hs-var">groups</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Cardano.Benchmarking.Topology.Projection.html#LocalRootPeersGroup"><span class="hs-identifier hs-type">LocalRootPeersGroup</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-317"></span><span>  </span><span class="hs-special">}</span><span> </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679104231"><span id="local-6989586621679104236"><span class="annot"><span class="annottext">LocalRootPeersGroups -&gt; LocalRootPeersGroups -&gt; Bool
(LocalRootPeersGroups -&gt; LocalRootPeersGroups -&gt; Bool)
-&gt; (LocalRootPeersGroups -&gt; LocalRootPeersGroups -&gt; Bool)
-&gt; Eq LocalRootPeersGroups
forall a. (a -&gt; a -&gt; Bool) -&gt; (a -&gt; a -&gt; Bool) -&gt; Eq a
$c== :: LocalRootPeersGroups -&gt; LocalRootPeersGroups -&gt; Bool
== :: LocalRootPeersGroups -&gt; LocalRootPeersGroups -&gt; Bool
$c/= :: LocalRootPeersGroups -&gt; LocalRootPeersGroups -&gt; Bool
/= :: LocalRootPeersGroups -&gt; LocalRootPeersGroups -&gt; Bool
</span><a href="file:///nix/store/ahd0dyjy54gfbx667iq5s68d85igqdgv-ghc-9.6.5-doc/share/doc/ghc-9.6.5/html/libraries/ghc-prim-0.10.0/src/GHC.Classes.html#Eq"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Eq</span></a></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679104241"><span id="local-6989586621679104246"><span id="local-6989586621679104249"><span class="annot"><span class="annottext">Int -&gt; LocalRootPeersGroups -&gt; ShowS
[LocalRootPeersGroups] -&gt; ShowS
LocalRootPeersGroups -&gt; String
(Int -&gt; LocalRootPeersGroups -&gt; ShowS)
-&gt; (LocalRootPeersGroups -&gt; String)
-&gt; ([LocalRootPeersGroups] -&gt; ShowS)
-&gt; Show LocalRootPeersGroups
forall a.
(Int -&gt; a -&gt; ShowS) -&gt; (a -&gt; String) -&gt; ([a] -&gt; ShowS) -&gt; Show a
$cshowsPrec :: Int -&gt; LocalRootPeersGroups -&gt; ShowS
showsPrec :: Int -&gt; LocalRootPeersGroups -&gt; ShowS
$cshow :: LocalRootPeersGroups -&gt; String
show :: LocalRootPeersGroups -&gt; String
$cshowList :: [LocalRootPeersGroups] -&gt; ShowS
showList :: [LocalRootPeersGroups] -&gt; ShowS
</span><a href="file:///nix/store/ahd0dyjy54gfbx667iq5s68d85igqdgv-ghc-9.6.5-doc/share/doc/ghc-9.6.5/html/libraries/base-4.18.2.1/src/GHC.Show.html#Show"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Show</span></a></span></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-318"></span><span>
</span><span id="line-319"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679104253"><span id="local-6989586621679104256"><span class="annot"><span class="hs-identifier hs-type">Aeson.FromJSON</span></span><span> </span><span class="annot"><a href="Cardano.Benchmarking.Topology.Projection.html#LocalRootPeersGroups"><span class="hs-identifier hs-type">LocalRootPeersGroups</span></a></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-320"></span><span>  </span><span id="local-6989586621679104260"><span class="annot"><span class="annottext">parseJSON :: Value -&gt; Parser LocalRootPeersGroups
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">parseJSON</span></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">([LocalRootPeersGroup] -&gt; LocalRootPeersGroups)
-&gt; Parser [LocalRootPeersGroup] -&gt; Parser LocalRootPeersGroups
forall a b. (a -&gt; b) -&gt; Parser a -&gt; Parser b
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="file:///nix/store/ahd0dyjy54gfbx667iq5s68d85igqdgv-ghc-9.6.5-doc/share/doc/ghc-9.6.5/html/libraries/base-4.18.2.1/src/GHC.Base.html#fmap"><span class="hs-identifier hs-var">fmap</span></a></span><span> </span><span class="annot"><span class="annottext">[LocalRootPeersGroup] -&gt; LocalRootPeersGroups
</span><a href="Cardano.Benchmarking.Topology.Projection.html#LocalRootPeersGroups"><span class="hs-identifier hs-var">LocalRootPeersGroups</span></a></span><span> </span><span class="annot"><span class="annottext">(Parser [LocalRootPeersGroup] -&gt; Parser LocalRootPeersGroups)
-&gt; (Value -&gt; Parser [LocalRootPeersGroup])
-&gt; Value
-&gt; Parser LocalRootPeersGroups
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="file:///nix/store/ahd0dyjy54gfbx667iq5s68d85igqdgv-ghc-9.6.5-doc/share/doc/ghc-9.6.5/html/libraries/base-4.18.2.1/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">Value -&gt; Parser [LocalRootPeersGroup]
forall a. FromJSON a =&gt; Value -&gt; Parser [a]
</span><span class="hs-identifier hs-var">Aeson.parseJSONList</span></span><span>
</span><span id="line-321"></span><span>
</span><span id="line-322"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679104264"><span id="local-6989586621679104267"><span id="local-6989586621679104270"><span id="local-6989586621679104273"><span class="annot"><span class="hs-identifier hs-type">Aeson.ToJSON</span></span><span> </span><span class="annot"><a href="Cardano.Benchmarking.Topology.Projection.html#LocalRootPeersGroups"><span class="hs-identifier hs-type">LocalRootPeersGroups</span></a></span></span></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-323"></span><span>  </span><span id="local-6989586621679104276"><span class="annot"><span class="annottext">toJSON :: LocalRootPeersGroups -&gt; Value
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">toJSON</span></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[LocalRootPeersGroup] -&gt; Value
forall a. ToJSON a =&gt; [a] -&gt; Value
</span><span class="hs-identifier hs-var">Aeson.toJSONList</span></span><span> </span><span class="annot"><span class="annottext">([LocalRootPeersGroup] -&gt; Value)
-&gt; (LocalRootPeersGroups -&gt; [LocalRootPeersGroup])
-&gt; LocalRootPeersGroups
-&gt; Value
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="file:///nix/store/ahd0dyjy54gfbx667iq5s68d85igqdgv-ghc-9.6.5-doc/share/doc/ghc-9.6.5/html/libraries/base-4.18.2.1/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">LocalRootPeersGroups -&gt; [LocalRootPeersGroup]
</span><a href="Cardano.Benchmarking.Topology.Projection.html#groups"><span class="hs-identifier hs-var">groups</span></a></span><span>
</span><span id="line-324"></span><span>
</span><span id="line-325"></span><span class="hs-keyword">newtype</span><span> </span><span id="PublicRootPeers"><span class="annot"><a href="Cardano.Benchmarking.Topology.Projection.html#PublicRootPeers"><span class="hs-identifier hs-var">PublicRootPeers</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="PublicRootPeers"><span class="annot"><a href="Cardano.Benchmarking.Topology.Projection.html#PublicRootPeers"><span class="hs-identifier hs-var">PublicRootPeers</span></a></span></span><span>
</span><span id="line-326"></span><span>  </span><span class="hs-special">{</span><span> </span><span id="publicRoots"><span class="annot"><span class="annottext">PublicRootPeers -&gt; RootConfig
</span><a href="Cardano.Benchmarking.Topology.Projection.html#publicRoots"><span class="hs-identifier hs-var hs-var">publicRoots</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Cardano.Benchmarking.Topology.Projection.html#RootConfig"><span class="hs-identifier hs-type">RootConfig</span></a></span><span>
</span><span id="line-327"></span><span>  </span><span class="hs-special">}</span><span> </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679104281"><span id="local-6989586621679104285"><span class="annot"><span class="annottext">PublicRootPeers -&gt; PublicRootPeers -&gt; Bool
(PublicRootPeers -&gt; PublicRootPeers -&gt; Bool)
-&gt; (PublicRootPeers -&gt; PublicRootPeers -&gt; Bool)
-&gt; Eq PublicRootPeers
forall a. (a -&gt; a -&gt; Bool) -&gt; (a -&gt; a -&gt; Bool) -&gt; Eq a
$c== :: PublicRootPeers -&gt; PublicRootPeers -&gt; Bool
== :: PublicRootPeers -&gt; PublicRootPeers -&gt; Bool
$c/= :: PublicRootPeers -&gt; PublicRootPeers -&gt; Bool
/= :: PublicRootPeers -&gt; PublicRootPeers -&gt; Bool
</span><a href="file:///nix/store/ahd0dyjy54gfbx667iq5s68d85igqdgv-ghc-9.6.5-doc/share/doc/ghc-9.6.5/html/libraries/ghc-prim-0.10.0/src/GHC.Classes.html#Eq"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Eq</span></a></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679104289"><span id="local-6989586621679104293"><span id="local-6989586621679104296"><span class="annot"><span class="annottext">Int -&gt; PublicRootPeers -&gt; ShowS
[PublicRootPeers] -&gt; ShowS
PublicRootPeers -&gt; String
(Int -&gt; PublicRootPeers -&gt; ShowS)
-&gt; (PublicRootPeers -&gt; String)
-&gt; ([PublicRootPeers] -&gt; ShowS)
-&gt; Show PublicRootPeers
forall a.
(Int -&gt; a -&gt; ShowS) -&gt; (a -&gt; String) -&gt; ([a] -&gt; ShowS) -&gt; Show a
$cshowsPrec :: Int -&gt; PublicRootPeers -&gt; ShowS
showsPrec :: Int -&gt; PublicRootPeers -&gt; ShowS
$cshow :: PublicRootPeers -&gt; String
show :: PublicRootPeers -&gt; String
$cshowList :: [PublicRootPeers] -&gt; ShowS
showList :: [PublicRootPeers] -&gt; ShowS
</span><a href="file:///nix/store/ahd0dyjy54gfbx667iq5s68d85igqdgv-ghc-9.6.5-doc/share/doc/ghc-9.6.5/html/libraries/base-4.18.2.1/src/GHC.Show.html#Show"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Show</span></a></span></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-328"></span><span>
</span><span id="line-329"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679104300"><span id="local-6989586621679104303"><span class="annot"><span class="hs-identifier hs-type">Aeson.FromJSON</span></span><span> </span><span class="annot"><a href="Cardano.Benchmarking.Topology.Projection.html#PublicRootPeers"><span class="hs-identifier hs-type">PublicRootPeers</span></a></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-330"></span><span>  </span><span id="local-6989586621679104307"><span class="annot"><span class="annottext">parseJSON :: Value -&gt; Parser PublicRootPeers
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">parseJSON</span></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(RootConfig -&gt; PublicRootPeers)
-&gt; Parser RootConfig -&gt; Parser PublicRootPeers
forall a b. (a -&gt; b) -&gt; Parser a -&gt; Parser b
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="file:///nix/store/ahd0dyjy54gfbx667iq5s68d85igqdgv-ghc-9.6.5-doc/share/doc/ghc-9.6.5/html/libraries/base-4.18.2.1/src/GHC.Base.html#fmap"><span class="hs-identifier hs-var">fmap</span></a></span><span> </span><span class="annot"><span class="annottext">RootConfig -&gt; PublicRootPeers
</span><a href="Cardano.Benchmarking.Topology.Projection.html#PublicRootPeers"><span class="hs-identifier hs-var">PublicRootPeers</span></a></span><span> </span><span class="annot"><span class="annottext">(Parser RootConfig -&gt; Parser PublicRootPeers)
-&gt; (Value -&gt; Parser RootConfig) -&gt; Value -&gt; Parser PublicRootPeers
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="file:///nix/store/ahd0dyjy54gfbx667iq5s68d85igqdgv-ghc-9.6.5-doc/share/doc/ghc-9.6.5/html/libraries/base-4.18.2.1/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">Value -&gt; Parser RootConfig
forall a. FromJSON a =&gt; Value -&gt; Parser a
</span><span class="hs-identifier hs-var">Aeson.parseJSON</span></span><span>
</span><span id="line-331"></span><span>
</span><span id="line-332"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679104310"><span id="local-6989586621679104313"><span id="local-6989586621679104316"><span id="local-6989586621679104319"><span class="annot"><span class="hs-identifier hs-type">Aeson.ToJSON</span></span><span> </span><span class="annot"><a href="Cardano.Benchmarking.Topology.Projection.html#PublicRootPeers"><span class="hs-identifier hs-type">PublicRootPeers</span></a></span></span></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-333"></span><span>  </span><span id="local-6989586621679104322"><span class="annot"><span class="annottext">toJSON :: PublicRootPeers -&gt; Value
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">toJSON</span></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">RootConfig -&gt; Value
forall a. ToJSON a =&gt; a -&gt; Value
</span><span class="hs-identifier hs-var">Aeson.toJSON</span></span><span> </span><span class="annot"><span class="annottext">(RootConfig -&gt; Value)
-&gt; (PublicRootPeers -&gt; RootConfig) -&gt; PublicRootPeers -&gt; Value
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="file:///nix/store/ahd0dyjy54gfbx667iq5s68d85igqdgv-ghc-9.6.5-doc/share/doc/ghc-9.6.5/html/libraries/base-4.18.2.1/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">PublicRootPeers -&gt; RootConfig
</span><a href="Cardano.Benchmarking.Topology.Projection.html#publicRoots"><span class="hs-identifier hs-var">publicRoots</span></a></span><span>
</span><span id="line-334"></span><span>
</span><span id="line-335"></span><span class="hs-comment">------------------------------------------------------</span><span>
</span><span id="line-336"></span><span class="hs-comment">-- Ouroboros.Network.PeerSelection.RelayAccessPoint --</span><span>
</span><span id="line-337"></span><span class="hs-comment">------------------------------------------------------</span><span>
</span><span id="line-338"></span><span>
</span><span id="line-339"></span><span class="hs-comment">-- https://github.com/IntersectMBO/ouroboros-network/blob/588130b5f0494a42c19da3bd44211ff7607b5831/ouroboros-network-api/src/Ouroboros/Network/PeerSelection/RelayAccessPoint.hs#L58</span><span>
</span><span id="line-340"></span><span>
</span><span id="line-341"></span><span class="hs-keyword">data</span><span> </span><span id="RelayAccessPoint"><span class="annot"><a href="Cardano.Benchmarking.Topology.Projection.html#RelayAccessPoint"><span class="hs-identifier hs-var">RelayAccessPoint</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-342"></span><span>    </span><span id="RelayAccessDomain"><span class="annot"><a href="Cardano.Benchmarking.Topology.Projection.html#RelayAccessDomain"><span class="hs-identifier hs-var">RelayAccessDomain</span></a></span></span><span>  </span><span class="hs-glyph">!</span><span class="annot"><span class="hs-identifier hs-type">DNS.Domain</span></span><span> </span><span class="hs-glyph">!</span><span class="annot"><a href="file:///nix/store/5pyxh9kbrvfbj02qwvdxaz67gc4vl91d-network-lib-network-3.2.7.0-haddock-doc/share/doc/network/html/src/Network.Socket.Types.html#PortNumber"><span class="hs-identifier hs-type">Socket.PortNumber</span></a></span><span>
</span><span id="line-343"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="RelayAccessAddress"><span class="annot"><a href="Cardano.Benchmarking.Topology.Projection.html#RelayAccessAddress"><span class="hs-identifier hs-var">RelayAccessAddress</span></a></span></span><span> </span><span class="hs-glyph">!</span><span class="annot"><a href="file:///nix/store/adg280p1yvx2ylvyw72z7n78bxic2yn1-iproute-lib-iproute-1.7.15-haddock-doc/share/doc/iproute/html/src/Data.IP.Addr.html#IP"><span class="hs-identifier hs-type">IP.IP</span></a></span><span>      </span><span class="hs-glyph">!</span><span class="annot"><a href="file:///nix/store/5pyxh9kbrvfbj02qwvdxaz67gc4vl91d-network-lib-network-3.2.7.0-haddock-doc/share/doc/network/html/src/Network.Socket.Types.html#PortNumber"><span class="hs-identifier hs-type">Socket.PortNumber</span></a></span><span>
</span><span id="line-344"></span><span>  </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679104325"><span id="local-6989586621679104333"><span class="annot"><span class="annottext">RelayAccessPoint -&gt; RelayAccessPoint -&gt; Bool
(RelayAccessPoint -&gt; RelayAccessPoint -&gt; Bool)
-&gt; (RelayAccessPoint -&gt; RelayAccessPoint -&gt; Bool)
-&gt; Eq RelayAccessPoint
forall a. (a -&gt; a -&gt; Bool) -&gt; (a -&gt; a -&gt; Bool) -&gt; Eq a
$c== :: RelayAccessPoint -&gt; RelayAccessPoint -&gt; Bool
== :: RelayAccessPoint -&gt; RelayAccessPoint -&gt; Bool
$c/= :: RelayAccessPoint -&gt; RelayAccessPoint -&gt; Bool
/= :: RelayAccessPoint -&gt; RelayAccessPoint -&gt; Bool
</span><a href="file:///nix/store/ahd0dyjy54gfbx667iq5s68d85igqdgv-ghc-9.6.5-doc/share/doc/ghc-9.6.5/html/libraries/ghc-prim-0.10.0/src/GHC.Classes.html#Eq"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Eq</span></a></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679104338"><span id="local-6989586621679104346"><span id="local-6989586621679104352"><span id="local-6989586621679104356"><span id="local-6989586621679104359"><span id="local-6989586621679104362"><span id="local-6989586621679104365"><span class="annot"><span class="annottext">Eq RelayAccessPoint
Eq RelayAccessPoint =&gt;
(RelayAccessPoint -&gt; RelayAccessPoint -&gt; Ordering)
-&gt; (RelayAccessPoint -&gt; RelayAccessPoint -&gt; Bool)
-&gt; (RelayAccessPoint -&gt; RelayAccessPoint -&gt; Bool)
-&gt; (RelayAccessPoint -&gt; RelayAccessPoint -&gt; Bool)
-&gt; (RelayAccessPoint -&gt; RelayAccessPoint -&gt; Bool)
-&gt; (RelayAccessPoint -&gt; RelayAccessPoint -&gt; RelayAccessPoint)
-&gt; (RelayAccessPoint -&gt; RelayAccessPoint -&gt; RelayAccessPoint)
-&gt; Ord RelayAccessPoint
RelayAccessPoint -&gt; RelayAccessPoint -&gt; Bool
RelayAccessPoint -&gt; RelayAccessPoint -&gt; Ordering
RelayAccessPoint -&gt; RelayAccessPoint -&gt; RelayAccessPoint
forall a.
Eq a =&gt;
(a -&gt; a -&gt; Ordering)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; a)
-&gt; (a -&gt; a -&gt; a)
-&gt; Ord a
$ccompare :: RelayAccessPoint -&gt; RelayAccessPoint -&gt; Ordering
compare :: RelayAccessPoint -&gt; RelayAccessPoint -&gt; Ordering
$c&lt; :: RelayAccessPoint -&gt; RelayAccessPoint -&gt; Bool
&lt; :: RelayAccessPoint -&gt; RelayAccessPoint -&gt; Bool
$c&lt;= :: RelayAccessPoint -&gt; RelayAccessPoint -&gt; Bool
&lt;= :: RelayAccessPoint -&gt; RelayAccessPoint -&gt; Bool
$c&gt; :: RelayAccessPoint -&gt; RelayAccessPoint -&gt; Bool
&gt; :: RelayAccessPoint -&gt; RelayAccessPoint -&gt; Bool
$c&gt;= :: RelayAccessPoint -&gt; RelayAccessPoint -&gt; Bool
&gt;= :: RelayAccessPoint -&gt; RelayAccessPoint -&gt; Bool
$cmax :: RelayAccessPoint -&gt; RelayAccessPoint -&gt; RelayAccessPoint
max :: RelayAccessPoint -&gt; RelayAccessPoint -&gt; RelayAccessPoint
$cmin :: RelayAccessPoint -&gt; RelayAccessPoint -&gt; RelayAccessPoint
min :: RelayAccessPoint -&gt; RelayAccessPoint -&gt; RelayAccessPoint
</span><a href="file:///nix/store/ahd0dyjy54gfbx667iq5s68d85igqdgv-ghc-9.6.5-doc/share/doc/ghc-9.6.5/html/libraries/ghc-prim-0.10.0/src/GHC.Classes.html#Ord"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Ord</span></a></span></span></span></span></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679104368"><span id="local-6989586621679104378"><span id="local-6989586621679104381"><span class="annot"><span class="annottext">Int -&gt; RelayAccessPoint -&gt; ShowS
[RelayAccessPoint] -&gt; ShowS
RelayAccessPoint -&gt; String
(Int -&gt; RelayAccessPoint -&gt; ShowS)
-&gt; (RelayAccessPoint -&gt; String)
-&gt; ([RelayAccessPoint] -&gt; ShowS)
-&gt; Show RelayAccessPoint
forall a.
(Int -&gt; a -&gt; ShowS) -&gt; (a -&gt; String) -&gt; ([a] -&gt; ShowS) -&gt; Show a
$cshowsPrec :: Int -&gt; RelayAccessPoint -&gt; ShowS
showsPrec :: Int -&gt; RelayAccessPoint -&gt; ShowS
$cshow :: RelayAccessPoint -&gt; String
show :: RelayAccessPoint -&gt; String
$cshowList :: [RelayAccessPoint] -&gt; ShowS
showList :: [RelayAccessPoint] -&gt; ShowS
</span><a href="file:///nix/store/ahd0dyjy54gfbx667iq5s68d85igqdgv-ghc-9.6.5-doc/share/doc/ghc-9.6.5/html/libraries/base-4.18.2.1/src/GHC.Show.html#Show"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Show</span></a></span></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-345"></span><span>
</span><span id="line-346"></span><span class="hs-comment">-- https://github.com/IntersectMBO/ouroboros-network/blob/588130b5f0494a42c19da3bd44211ff7607b5831/ouroboros-network-api/src/Ouroboros/Network/PeerSelection/RelayAccessPoint.hs#L142</span><span>
</span><span id="line-347"></span><span>
</span><span id="line-348"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679104385"><span id="local-6989586621679104388"><span class="annot"><span class="hs-identifier hs-type">Aeson.FromJSON</span></span><span> </span><span class="annot"><a href="Cardano.Benchmarking.Topology.Projection.html#RelayAccessPoint"><span class="hs-identifier hs-type">RelayAccessPoint</span></a></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-349"></span><span>  </span><span id="local-6989586621679104398"><span class="annot"><span class="annottext">parseJSON :: Value -&gt; Parser RelayAccessPoint
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">parseJSON</span></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String
-&gt; (Object -&gt; Parser RelayAccessPoint)
-&gt; Value
-&gt; Parser RelayAccessPoint
forall a. String -&gt; (Object -&gt; Parser a) -&gt; Value -&gt; Parser a
</span><span class="hs-identifier hs-var">Aeson.withObject</span></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;RelayAccessPoint&quot;</span></span><span> </span><span class="annot"><span class="annottext">((Object -&gt; Parser RelayAccessPoint)
 -&gt; Value -&gt; Parser RelayAccessPoint)
-&gt; (Object -&gt; Parser RelayAccessPoint)
-&gt; Value
-&gt; Parser RelayAccessPoint
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/ahd0dyjy54gfbx667iq5s68d85igqdgv-ghc-9.6.5-doc/share/doc/ghc-9.6.5/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679104399"><span class="annot"><span class="annottext">Object
</span><a href="#local-6989586621679104399"><span class="hs-identifier hs-var">v</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-350"></span><span>    </span><span id="local-6989586621679104400"><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621679104400"><span class="hs-identifier hs-var">addr</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Object
</span><a href="#local-6989586621679104399"><span class="hs-identifier hs-var">v</span></a></span><span> </span><span class="annot"><span class="annottext">Object -&gt; Key -&gt; Parser Text
forall a. FromJSON a =&gt; Object -&gt; Key -&gt; Parser a
</span><span class="hs-operator hs-var">Aeson..:</span></span><span> </span><span class="annot"><span class="annottext">Key
</span><span class="hs-string">&quot;address&quot;</span></span><span>
</span><span id="line-351"></span><span>    </span><span id="local-6989586621679104401"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679104401"><span class="hs-identifier hs-var">port</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Object
</span><a href="#local-6989586621679104399"><span class="hs-identifier hs-var">v</span></a></span><span> </span><span class="annot"><span class="annottext">Object -&gt; Key -&gt; Parser Int
forall a. FromJSON a =&gt; Object -&gt; Key -&gt; Parser a
</span><span class="hs-operator hs-var">Aeson..:</span></span><span> </span><span class="annot"><span class="annottext">Key
</span><span class="hs-string">&quot;port&quot;</span></span><span>
</span><span id="line-352"></span><span>    </span><span class="annot"><span class="annottext">RelayAccessPoint -&gt; Parser RelayAccessPoint
forall a. a -&gt; Parser a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="file:///nix/store/ahd0dyjy54gfbx667iq5s68d85igqdgv-ghc-9.6.5-doc/share/doc/ghc-9.6.5/html/libraries/base-4.18.2.1/src/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Text -&gt; Int -&gt; RelayAccessPoint
</span><a href="Cardano.Benchmarking.Topology.Projection.html#toRelayAccessPoint"><span class="hs-identifier hs-var">toRelayAccessPoint</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621679104400"><span class="hs-identifier hs-var">addr</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679104401"><span class="hs-identifier hs-var">port</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-353"></span><span>
</span><span id="line-354"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679104405"><span id="local-6989586621679104408"><span id="local-6989586621679104411"><span id="local-6989586621679104414"><span class="annot"><span class="hs-identifier hs-type">Aeson.ToJSON</span></span><span> </span><span class="annot"><a href="Cardano.Benchmarking.Topology.Projection.html#RelayAccessPoint"><span class="hs-identifier hs-type">RelayAccessPoint</span></a></span></span></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-355"></span><span>  </span><span id="local-6989586621679104435"><span class="annot"><span class="annottext">toJSON :: RelayAccessPoint -&gt; Value
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">toJSON</span></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cardano.Benchmarking.Topology.Projection.html#RelayAccessDomain"><span class="hs-identifier hs-type">RelayAccessDomain</span></a></span><span> </span><span id="local-6989586621679104436"><span class="annot"><span class="annottext">Domain
</span><a href="#local-6989586621679104436"><span class="hs-identifier hs-var">addr</span></a></span></span><span> </span><span id="local-6989586621679104437"><span class="annot"><span class="annottext">PortNumber
</span><a href="#local-6989586621679104437"><span class="hs-identifier hs-var">port</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[Pair] -&gt; Value
</span><span class="hs-identifier hs-var">Aeson.object</span></span><span>
</span><span id="line-356"></span><span>      </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="annottext">Key
</span><span class="hs-string">&quot;address&quot;</span></span><span> </span><span class="annot"><span class="annottext">Key -&gt; Text -&gt; Pair
forall v. ToJSON v =&gt; Key -&gt; v -&gt; Pair
forall e kv v. (KeyValue e kv, ToJSON v) =&gt; Key -&gt; v -&gt; kv
</span><span class="hs-operator hs-var">Aeson..=</span></span><span> </span><span class="annot"><span class="annottext">Domain -&gt; Text
</span><a href="file:///nix/store/ahd0dyjy54gfbx667iq5s68d85igqdgv-ghc-9.6.5-doc/share/doc/ghc-9.6.5/html/libraries/text-2.0.2/src/Data.Text.Encoding.html#decodeUtf8"><span class="hs-identifier hs-var">TextEncoding.decodeUtf8</span></a></span><span> </span><span class="annot"><span class="annottext">Domain
</span><a href="#local-6989586621679104436"><span class="hs-identifier hs-var">addr</span></a></span><span>
</span><span id="line-357"></span><span>      </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Key
</span><span class="hs-string">&quot;port&quot;</span></span><span>    </span><span class="annot"><span class="annottext">Key -&gt; Int -&gt; Pair
forall v. ToJSON v =&gt; Key -&gt; v -&gt; Pair
forall e kv v. (KeyValue e kv, ToJSON v) =&gt; Key -&gt; v -&gt; kv
</span><span class="hs-operator hs-var">Aeson..=</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">PortNumber -&gt; Int
forall a b. (Integral a, Num b) =&gt; a -&gt; b
</span><a href="file:///nix/store/ahd0dyjy54gfbx667iq5s68d85igqdgv-ghc-9.6.5-doc/share/doc/ghc-9.6.5/html/libraries/base-4.18.2.1/src/GHC.Real.html#fromIntegral"><span class="hs-identifier hs-var">fromIntegral</span></a></span><span> </span><span class="annot"><span class="annottext">PortNumber
</span><a href="#local-6989586621679104437"><span class="hs-identifier hs-var">port</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="file:///nix/store/ahd0dyjy54gfbx667iq5s68d85igqdgv-ghc-9.6.5-doc/share/doc/ghc-9.6.5/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Int"><span class="hs-identifier hs-type">Int</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-358"></span><span>      </span><span class="hs-special">]</span><span>
</span><span id="line-359"></span><span>  </span><span class="annot"><span class="hs-identifier hs-var">toJSON</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cardano.Benchmarking.Topology.Projection.html#RelayAccessAddress"><span class="hs-identifier hs-type">RelayAccessAddress</span></a></span><span> </span><span id="local-6989586621679104439"><span class="annot"><span class="annottext">IP
</span><a href="#local-6989586621679104439"><span class="hs-identifier hs-var">ip</span></a></span></span><span> </span><span id="local-6989586621679104440"><span class="annot"><span class="annottext">PortNumber
</span><a href="#local-6989586621679104440"><span class="hs-identifier hs-var">port</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[Pair] -&gt; Value
</span><span class="hs-identifier hs-var">Aeson.object</span></span><span>
</span><span id="line-360"></span><span>      </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="annottext">Key
</span><span class="hs-string">&quot;address&quot;</span></span><span> </span><span class="annot"><span class="annottext">Key -&gt; Text -&gt; Pair
forall v. ToJSON v =&gt; Key -&gt; v -&gt; Pair
forall e kv v. (KeyValue e kv, ToJSON v) =&gt; Key -&gt; v -&gt; kv
</span><span class="hs-operator hs-var">Aeson..=</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; Text
</span><a href="file:///nix/store/ahd0dyjy54gfbx667iq5s68d85igqdgv-ghc-9.6.5-doc/share/doc/ghc-9.6.5/html/libraries/text-2.0.2/src/Data.Text.Internal.html#pack"><span class="hs-identifier hs-var">Text.pack</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">IP -&gt; String
forall a. Show a =&gt; a -&gt; String
</span><a href="file:///nix/store/ahd0dyjy54gfbx667iq5s68d85igqdgv-ghc-9.6.5-doc/share/doc/ghc-9.6.5/html/libraries/base-4.18.2.1/src/GHC.Show.html#show"><span class="hs-identifier hs-var">show</span></a></span><span> </span><span class="annot"><span class="annottext">IP
</span><a href="#local-6989586621679104439"><span class="hs-identifier hs-var">ip</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-361"></span><span>      </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Key
</span><span class="hs-string">&quot;port&quot;</span></span><span>    </span><span class="annot"><span class="annottext">Key -&gt; Int -&gt; Pair
forall v. ToJSON v =&gt; Key -&gt; v -&gt; Pair
forall e kv v. (KeyValue e kv, ToJSON v) =&gt; Key -&gt; v -&gt; kv
</span><span class="hs-operator hs-var">Aeson..=</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">PortNumber -&gt; Int
forall a b. (Integral a, Num b) =&gt; a -&gt; b
</span><a href="file:///nix/store/ahd0dyjy54gfbx667iq5s68d85igqdgv-ghc-9.6.5-doc/share/doc/ghc-9.6.5/html/libraries/base-4.18.2.1/src/GHC.Real.html#fromIntegral"><span class="hs-identifier hs-var">fromIntegral</span></a></span><span> </span><span class="annot"><span class="annottext">PortNumber
</span><a href="#local-6989586621679104440"><span class="hs-identifier hs-var">port</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="file:///nix/store/ahd0dyjy54gfbx667iq5s68d85igqdgv-ghc-9.6.5-doc/share/doc/ghc-9.6.5/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Int"><span class="hs-identifier hs-type">Int</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-362"></span><span>      </span><span class="hs-special">]</span><span>
</span><span id="line-363"></span><span>
</span><span id="line-364"></span><span class="hs-comment">-- | Parse a address field as either an IP address or a DNS address.</span><span>
</span><span id="line-365"></span><span class="hs-comment">-- Returns corresponding RelayAccessPoint.</span><span>
</span><span id="line-366"></span><span class="hs-comment">--</span><span>
</span><span id="line-367"></span><span class="annot"><a href="Cardano.Benchmarking.Topology.Projection.html#toRelayAccessPoint"><span class="hs-identifier hs-type">toRelayAccessPoint</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="file:///nix/store/ahd0dyjy54gfbx667iq5s68d85igqdgv-ghc-9.6.5-doc/share/doc/ghc-9.6.5/html/libraries/text-2.0.2/src/Data.Text.Internal.html#Text"><span class="hs-identifier hs-type">Text.Text</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="file:///nix/store/ahd0dyjy54gfbx667iq5s68d85igqdgv-ghc-9.6.5-doc/share/doc/ghc-9.6.5/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Int"><span class="hs-identifier hs-type">Int</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Cardano.Benchmarking.Topology.Projection.html#RelayAccessPoint"><span class="hs-identifier hs-type">RelayAccessPoint</span></a></span><span>
</span><span id="line-368"></span><span id="toRelayAccessPoint"><span class="annot"><span class="annottext">toRelayAccessPoint :: Text -&gt; Int -&gt; RelayAccessPoint
</span><a href="Cardano.Benchmarking.Topology.Projection.html#toRelayAccessPoint"><span class="hs-identifier hs-var hs-var">toRelayAccessPoint</span></a></span></span><span> </span><span id="local-6989586621679104443"><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621679104443"><span class="hs-identifier hs-var">address</span></a></span></span><span> </span><span id="local-6989586621679104444"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679104444"><span class="hs-identifier hs-var">port</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-369"></span><span>    </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">String -&gt; Maybe IP
forall a. Read a =&gt; String -&gt; Maybe a
</span><a href="file:///nix/store/ahd0dyjy54gfbx667iq5s68d85igqdgv-ghc-9.6.5-doc/share/doc/ghc-9.6.5/html/libraries/base-4.18.2.1/src/Text.Read.html#readMaybe"><span class="hs-identifier hs-var">readMaybe</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Text -&gt; String
</span><a href="file:///nix/store/ahd0dyjy54gfbx667iq5s68d85igqdgv-ghc-9.6.5-doc/share/doc/ghc-9.6.5/html/libraries/text-2.0.2/src/Data.Text.Show.html#unpack"><span class="hs-identifier hs-var">Text.unpack</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621679104443"><span class="hs-identifier hs-var">address</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-370"></span><span>      </span><span class="annot"><span class="annottext">Maybe IP
</span><a href="file:///nix/store/ahd0dyjy54gfbx667iq5s68d85igqdgv-ghc-9.6.5-doc/share/doc/ghc-9.6.5/html/libraries/base-4.18.2.1/src/GHC.Maybe.html#Nothing"><span class="hs-identifier hs-var">Nothing</span></a></span><span>   </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Domain -&gt; PortNumber -&gt; RelayAccessPoint
</span><a href="Cardano.Benchmarking.Topology.Projection.html#RelayAccessDomain"><span class="hs-identifier hs-var">RelayAccessDomain</span></a></span><span>
</span><span id="line-371"></span><span>                     </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Text -&gt; Domain
</span><a href="file:///nix/store/ahd0dyjy54gfbx667iq5s68d85igqdgv-ghc-9.6.5-doc/share/doc/ghc-9.6.5/html/libraries/text-2.0.2/src/Data.Text.Encoding.html#encodeUtf8"><span class="hs-identifier hs-var">TextEncoding.encodeUtf8</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621679104443"><span class="hs-identifier hs-var">address</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-372"></span><span>                     </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int -&gt; PortNumber
forall a b. (Integral a, Num b) =&gt; a -&gt; b
</span><a href="file:///nix/store/ahd0dyjy54gfbx667iq5s68d85igqdgv-ghc-9.6.5-doc/share/doc/ghc-9.6.5/html/libraries/base-4.18.2.1/src/GHC.Real.html#fromIntegral"><span class="hs-identifier hs-var">fromIntegral</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679104444"><span class="hs-identifier hs-var">port</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-373"></span><span>      </span><span class="annot"><a href="file:///nix/store/ahd0dyjy54gfbx667iq5s68d85igqdgv-ghc-9.6.5-doc/share/doc/ghc-9.6.5/html/libraries/base-4.18.2.1/src/GHC.Maybe.html#Just"><span class="hs-identifier hs-type">Just</span></a></span><span> </span><span id="local-6989586621679104447"><span class="annot"><span class="annottext">IP
</span><a href="#local-6989586621679104447"><span class="hs-identifier hs-var">addr</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">IP -&gt; PortNumber -&gt; RelayAccessPoint
</span><a href="Cardano.Benchmarking.Topology.Projection.html#RelayAccessAddress"><span class="hs-identifier hs-var">RelayAccessAddress</span></a></span><span> </span><span class="annot"><span class="annottext">IP
</span><a href="#local-6989586621679104447"><span class="hs-identifier hs-var">addr</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int -&gt; PortNumber
forall a b. (Integral a, Num b) =&gt; a -&gt; b
</span><a href="file:///nix/store/ahd0dyjy54gfbx667iq5s68d85igqdgv-ghc-9.6.5-doc/share/doc/ghc-9.6.5/html/libraries/base-4.18.2.1/src/GHC.Real.html#fromIntegral"><span class="hs-identifier hs-var">fromIntegral</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679104444"><span class="hs-identifier hs-var">port</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-374"></span><span>
</span><span id="line-375"></span><span class="hs-comment">---------------------------------------------------</span><span>
</span><span id="line-376"></span><span class="hs-comment">-- Ouroboros.Network.PeerSelection.PeerAdvertise --</span><span>
</span><span id="line-377"></span><span class="hs-comment">---------------------------------------------------</span><span>
</span><span id="line-378"></span><span>
</span><span id="line-379"></span><span class="hs-comment">-- https://github.com/IntersectMBO/ouroboros-network/blob/588130b5f0494a42c19da3bd44211ff7607b5831/ouroboros-network-api/src/Ouroboros/Network/PeerSelection/PeerAdvertise.hs#L13</span><span>
</span><span id="line-380"></span><span>
</span><span id="line-381"></span><span class="hs-comment">-- | Should this peer be advertised to other peers asking for known peers?</span><span>
</span><span id="line-382"></span><span class="hs-comment">-- For certain peers specified by configuration it would be an appropriate</span><span>
</span><span id="line-383"></span><span class="hs-comment">-- policy to keep them private.</span><span>
</span><span id="line-384"></span><span class="hs-comment">--</span><span>
</span><span id="line-385"></span><span class="hs-keyword">data</span><span> </span><span id="PeerAdvertise"><span class="annot"><a href="Cardano.Benchmarking.Topology.Projection.html#PeerAdvertise"><span class="hs-identifier hs-var">PeerAdvertise</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-386"></span><span>    </span><span id="DoNotAdvertisePeer"><span class="annot"><a href="Cardano.Benchmarking.Topology.Projection.html#DoNotAdvertisePeer"><span class="hs-identifier hs-var">DoNotAdvertisePeer</span></a></span></span><span>
</span><span id="line-387"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="DoAdvertisePeer"><span class="annot"><a href="Cardano.Benchmarking.Topology.Projection.html#DoAdvertisePeer"><span class="hs-identifier hs-var">DoAdvertisePeer</span></a></span></span><span>
</span><span id="line-388"></span><span>  </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679104450"><span id="local-6989586621679104452"><span class="annot"><span class="annottext">PeerAdvertise -&gt; PeerAdvertise -&gt; Bool
(PeerAdvertise -&gt; PeerAdvertise -&gt; Bool)
-&gt; (PeerAdvertise -&gt; PeerAdvertise -&gt; Bool) -&gt; Eq PeerAdvertise
forall a. (a -&gt; a -&gt; Bool) -&gt; (a -&gt; a -&gt; Bool) -&gt; Eq a
$c== :: PeerAdvertise -&gt; PeerAdvertise -&gt; Bool
== :: PeerAdvertise -&gt; PeerAdvertise -&gt; Bool
$c/= :: PeerAdvertise -&gt; PeerAdvertise -&gt; Bool
/= :: PeerAdvertise -&gt; PeerAdvertise -&gt; Bool
</span><a href="file:///nix/store/ahd0dyjy54gfbx667iq5s68d85igqdgv-ghc-9.6.5-doc/share/doc/ghc-9.6.5/html/libraries/ghc-prim-0.10.0/src/GHC.Classes.html#Eq"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Eq</span></a></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679104455"><span id="local-6989586621679104457"><span id="local-6989586621679104460"><span class="annot"><span class="annottext">Int -&gt; PeerAdvertise -&gt; ShowS
[PeerAdvertise] -&gt; ShowS
PeerAdvertise -&gt; String
(Int -&gt; PeerAdvertise -&gt; ShowS)
-&gt; (PeerAdvertise -&gt; String)
-&gt; ([PeerAdvertise] -&gt; ShowS)
-&gt; Show PeerAdvertise
forall a.
(Int -&gt; a -&gt; ShowS) -&gt; (a -&gt; String) -&gt; ([a] -&gt; ShowS) -&gt; Show a
$cshowsPrec :: Int -&gt; PeerAdvertise -&gt; ShowS
showsPrec :: Int -&gt; PeerAdvertise -&gt; ShowS
$cshow :: PeerAdvertise -&gt; String
show :: PeerAdvertise -&gt; String
$cshowList :: [PeerAdvertise] -&gt; ShowS
showList :: [PeerAdvertise] -&gt; ShowS
</span><a href="file:///nix/store/ahd0dyjy54gfbx667iq5s68d85igqdgv-ghc-9.6.5-doc/share/doc/ghc-9.6.5/html/libraries/base-4.18.2.1/src/GHC.Show.html#Show"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Show</span></a></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679104465"><span id="local-6989586621679104467"><span id="local-6989586621679104469"><span id="local-6989586621679104473"><span id="local-6989586621679104476"><span id="local-6989586621679104479"><span id="local-6989586621679104482"><span class="annot"><span class="annottext">Eq PeerAdvertise
Eq PeerAdvertise =&gt;
(PeerAdvertise -&gt; PeerAdvertise -&gt; Ordering)
-&gt; (PeerAdvertise -&gt; PeerAdvertise -&gt; Bool)
-&gt; (PeerAdvertise -&gt; PeerAdvertise -&gt; Bool)
-&gt; (PeerAdvertise -&gt; PeerAdvertise -&gt; Bool)
-&gt; (PeerAdvertise -&gt; PeerAdvertise -&gt; Bool)
-&gt; (PeerAdvertise -&gt; PeerAdvertise -&gt; PeerAdvertise)
-&gt; (PeerAdvertise -&gt; PeerAdvertise -&gt; PeerAdvertise)
-&gt; Ord PeerAdvertise
PeerAdvertise -&gt; PeerAdvertise -&gt; Bool
PeerAdvertise -&gt; PeerAdvertise -&gt; Ordering
PeerAdvertise -&gt; PeerAdvertise -&gt; PeerAdvertise
forall a.
Eq a =&gt;
(a -&gt; a -&gt; Ordering)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; a)
-&gt; (a -&gt; a -&gt; a)
-&gt; Ord a
$ccompare :: PeerAdvertise -&gt; PeerAdvertise -&gt; Ordering
compare :: PeerAdvertise -&gt; PeerAdvertise -&gt; Ordering
$c&lt; :: PeerAdvertise -&gt; PeerAdvertise -&gt; Bool
&lt; :: PeerAdvertise -&gt; PeerAdvertise -&gt; Bool
$c&lt;= :: PeerAdvertise -&gt; PeerAdvertise -&gt; Bool
&lt;= :: PeerAdvertise -&gt; PeerAdvertise -&gt; Bool
$c&gt; :: PeerAdvertise -&gt; PeerAdvertise -&gt; Bool
&gt; :: PeerAdvertise -&gt; PeerAdvertise -&gt; Bool
$c&gt;= :: PeerAdvertise -&gt; PeerAdvertise -&gt; Bool
&gt;= :: PeerAdvertise -&gt; PeerAdvertise -&gt; Bool
$cmax :: PeerAdvertise -&gt; PeerAdvertise -&gt; PeerAdvertise
max :: PeerAdvertise -&gt; PeerAdvertise -&gt; PeerAdvertise
$cmin :: PeerAdvertise -&gt; PeerAdvertise -&gt; PeerAdvertise
min :: PeerAdvertise -&gt; PeerAdvertise -&gt; PeerAdvertise
</span><a href="file:///nix/store/ahd0dyjy54gfbx667iq5s68d85igqdgv-ghc-9.6.5-doc/share/doc/ghc-9.6.5/html/libraries/ghc-prim-0.10.0/src/GHC.Classes.html#Ord"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Ord</span></a></span></span></span></span></span></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-389"></span><span>
</span><span id="line-390"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679104486"><span id="local-6989586621679104489"><span class="annot"><span class="hs-identifier hs-type">Aeson.FromJSON</span></span><span> </span><span class="annot"><a href="Cardano.Benchmarking.Topology.Projection.html#PeerAdvertise"><span class="hs-identifier hs-type">PeerAdvertise</span></a></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-391"></span><span>  </span><span id="local-6989586621679104492"><span class="annot"><span class="annottext">parseJSON :: Value -&gt; Parser PeerAdvertise
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">parseJSON</span></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String
-&gt; (Bool -&gt; Parser PeerAdvertise) -&gt; Value -&gt; Parser PeerAdvertise
forall a. String -&gt; (Bool -&gt; Parser a) -&gt; Value -&gt; Parser a
</span><span class="hs-identifier hs-var">Aeson.withBool</span></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;PeerAdvertise&quot;</span></span><span> </span><span class="annot"><span class="annottext">((Bool -&gt; Parser PeerAdvertise) -&gt; Value -&gt; Parser PeerAdvertise)
-&gt; (Bool -&gt; Parser PeerAdvertise) -&gt; Value -&gt; Parser PeerAdvertise
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/ahd0dyjy54gfbx667iq5s68d85igqdgv-ghc-9.6.5-doc/share/doc/ghc-9.6.5/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-392"></span><span>      </span><span class="annot"><span class="annottext">PeerAdvertise -&gt; Parser PeerAdvertise
forall a. a -&gt; Parser a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="file:///nix/store/ahd0dyjy54gfbx667iq5s68d85igqdgv-ghc-9.6.5-doc/share/doc/ghc-9.6.5/html/libraries/base-4.18.2.1/src/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">(PeerAdvertise -&gt; Parser PeerAdvertise)
-&gt; (Bool -&gt; PeerAdvertise) -&gt; Bool -&gt; Parser PeerAdvertise
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="file:///nix/store/ahd0dyjy54gfbx667iq5s68d85igqdgv-ghc-9.6.5-doc/share/doc/ghc-9.6.5/html/libraries/base-4.18.2.1/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">PeerAdvertise -&gt; PeerAdvertise -&gt; Bool -&gt; PeerAdvertise
forall a. a -&gt; a -&gt; Bool -&gt; a
</span><a href="file:///nix/store/ahd0dyjy54gfbx667iq5s68d85igqdgv-ghc-9.6.5-doc/share/doc/ghc-9.6.5/html/libraries/base-4.18.2.1/src/Data.Bool.html#bool"><span class="hs-identifier hs-var">bool</span></a></span><span> </span><span class="annot"><span class="annottext">PeerAdvertise
</span><a href="Cardano.Benchmarking.Topology.Projection.html#DoNotAdvertisePeer"><span class="hs-identifier hs-var">DoNotAdvertisePeer</span></a></span><span> </span><span class="annot"><span class="annottext">PeerAdvertise
</span><a href="Cardano.Benchmarking.Topology.Projection.html#DoAdvertisePeer"><span class="hs-identifier hs-var">DoAdvertisePeer</span></a></span><span>
</span><span id="line-393"></span><span>
</span><span id="line-394"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679104496"><span id="local-6989586621679104499"><span id="local-6989586621679104502"><span id="local-6989586621679104505"><span class="annot"><span class="hs-identifier hs-type">Aeson.ToJSON</span></span><span> </span><span class="annot"><a href="Cardano.Benchmarking.Topology.Projection.html#PeerAdvertise"><span class="hs-identifier hs-type">PeerAdvertise</span></a></span></span></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-395"></span><span>  </span><span id="local-6989586621679104507"><span class="annot"><span class="annottext">toJSON :: PeerAdvertise -&gt; Value
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">toJSON</span></span></span><span> </span><span class="annot"><span class="annottext">PeerAdvertise
</span><a href="Cardano.Benchmarking.Topology.Projection.html#DoAdvertisePeer"><span class="hs-identifier hs-var">DoAdvertisePeer</span></a></span><span>    </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Value
</span><span class="hs-identifier hs-var">Aeson.Bool</span></span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="file:///nix/store/ahd0dyjy54gfbx667iq5s68d85igqdgv-ghc-9.6.5-doc/share/doc/ghc-9.6.5/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#True"><span class="hs-identifier hs-var">True</span></a></span><span>
</span><span id="line-396"></span><span>  </span><span class="annot"><span class="hs-identifier hs-var">toJSON</span></span><span> </span><span class="annot"><span class="annottext">PeerAdvertise
</span><a href="Cardano.Benchmarking.Topology.Projection.html#DoNotAdvertisePeer"><span class="hs-identifier hs-var">DoNotAdvertisePeer</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Value
</span><span class="hs-identifier hs-var">Aeson.Bool</span></span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="file:///nix/store/ahd0dyjy54gfbx667iq5s68d85igqdgv-ghc-9.6.5-doc/share/doc/ghc-9.6.5/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#False"><span class="hs-identifier hs-var">False</span></a></span><span>
</span><span id="line-397"></span><span>
</span><span id="line-398"></span><span class="hs-comment">------------------------------------------------------</span><span>
</span><span id="line-399"></span><span class="hs-comment">-- Ouroboros.Network.PeerSelection.LedgerPeers.Type --</span><span>
</span><span id="line-400"></span><span class="hs-comment">------------------------------------------------------</span><span>
</span><span id="line-401"></span><span>
</span><span id="line-402"></span><span class="hs-comment">-- https://github.com/IntersectMBO/ouroboros-network/blob/588130b5f0494a42c19da3bd44211ff7607b5831/ouroboros-network-api/src/Ouroboros/Network/PeerSelection/LedgerPeers/Type.hs#L178</span><span>
</span><span id="line-403"></span><span>
</span><span id="line-404"></span><span class="annot"><span class="hs-comment">-- | Only use the ledger after the given slot number.</span></span><span>
</span><span id="line-405"></span><span class="hs-keyword">data</span><span> </span><span id="UseLedgerPeers"><span class="annot"><a href="Cardano.Benchmarking.Topology.Projection.html#UseLedgerPeers"><span class="hs-identifier hs-var">UseLedgerPeers</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-406"></span><span>    </span><span id="DontUseLedgerPeers"><span class="annot"><a href="Cardano.Benchmarking.Topology.Projection.html#DontUseLedgerPeers"><span class="hs-identifier hs-var">DontUseLedgerPeers</span></a></span></span><span>
</span><span id="line-407"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="UseLedgerPeers"><span class="annot"><a href="Cardano.Benchmarking.Topology.Projection.html#UseLedgerPeers"><span class="hs-identifier hs-var">UseLedgerPeers</span></a></span></span><span> </span><span class="annot"><a href="Cardano.Benchmarking.Topology.Projection.html#AfterSlot"><span class="hs-identifier hs-type">AfterSlot</span></a></span><span>
</span><span id="line-408"></span><span>  </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679104511"><span id="local-6989586621679104515"><span class="annot"><span class="annottext">UseLedgerPeers -&gt; UseLedgerPeers -&gt; Bool
(UseLedgerPeers -&gt; UseLedgerPeers -&gt; Bool)
-&gt; (UseLedgerPeers -&gt; UseLedgerPeers -&gt; Bool) -&gt; Eq UseLedgerPeers
forall a. (a -&gt; a -&gt; Bool) -&gt; (a -&gt; a -&gt; Bool) -&gt; Eq a
$c== :: UseLedgerPeers -&gt; UseLedgerPeers -&gt; Bool
== :: UseLedgerPeers -&gt; UseLedgerPeers -&gt; Bool
$c/= :: UseLedgerPeers -&gt; UseLedgerPeers -&gt; Bool
/= :: UseLedgerPeers -&gt; UseLedgerPeers -&gt; Bool
</span><a href="file:///nix/store/ahd0dyjy54gfbx667iq5s68d85igqdgv-ghc-9.6.5-doc/share/doc/ghc-9.6.5/html/libraries/ghc-prim-0.10.0/src/GHC.Classes.html#Eq"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Eq</span></a></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679104518"><span id="local-6989586621679104523"><span id="local-6989586621679104526"><span class="annot"><span class="annottext">Int -&gt; UseLedgerPeers -&gt; ShowS
[UseLedgerPeers] -&gt; ShowS
UseLedgerPeers -&gt; String
(Int -&gt; UseLedgerPeers -&gt; ShowS)
-&gt; (UseLedgerPeers -&gt; String)
-&gt; ([UseLedgerPeers] -&gt; ShowS)
-&gt; Show UseLedgerPeers
forall a.
(Int -&gt; a -&gt; ShowS) -&gt; (a -&gt; String) -&gt; ([a] -&gt; ShowS) -&gt; Show a
$cshowsPrec :: Int -&gt; UseLedgerPeers -&gt; ShowS
showsPrec :: Int -&gt; UseLedgerPeers -&gt; ShowS
$cshow :: UseLedgerPeers -&gt; String
show :: UseLedgerPeers -&gt; String
$cshowList :: [UseLedgerPeers] -&gt; ShowS
showList :: [UseLedgerPeers] -&gt; ShowS
</span><a href="file:///nix/store/ahd0dyjy54gfbx667iq5s68d85igqdgv-ghc-9.6.5-doc/share/doc/ghc-9.6.5/html/libraries/base-4.18.2.1/src/GHC.Show.html#Show"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Show</span></a></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679104529"><span id="local-6989586621679104531"><span class="annot"><span class="annottext">(forall x. UseLedgerPeers -&gt; Rep UseLedgerPeers x)
-&gt; (forall x. Rep UseLedgerPeers x -&gt; UseLedgerPeers)
-&gt; Generic UseLedgerPeers
forall x. Rep UseLedgerPeers x -&gt; UseLedgerPeers
forall x. UseLedgerPeers -&gt; Rep UseLedgerPeers x
forall a.
(forall x. a -&gt; Rep a x) -&gt; (forall x. Rep a x -&gt; a) -&gt; Generic a
$cfrom :: forall x. UseLedgerPeers -&gt; Rep UseLedgerPeers x
from :: forall x. UseLedgerPeers -&gt; Rep UseLedgerPeers x
$cto :: forall x. Rep UseLedgerPeers x -&gt; UseLedgerPeers
to :: forall x. Rep UseLedgerPeers x -&gt; UseLedgerPeers
</span><a href="file:///nix/store/ahd0dyjy54gfbx667iq5s68d85igqdgv-ghc-9.6.5-doc/share/doc/ghc-9.6.5/html/libraries/base-4.18.2.1/src/GHC.Generics.html#Generic"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Generic</span></a></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-409"></span><span>
</span><span id="line-410"></span><span class="annot"><span class="hs-comment">-- | Only use the ledger after the given slot number.</span></span><span>
</span><span id="line-411"></span><span class="hs-keyword">data</span><span> </span><span id="AfterSlot"><span class="annot"><a href="Cardano.Benchmarking.Topology.Projection.html#AfterSlot"><span class="hs-identifier hs-var">AfterSlot</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-412"></span><span>    </span><span id="Always"><span class="annot"><a href="Cardano.Benchmarking.Topology.Projection.html#Always"><span class="hs-identifier hs-var">Always</span></a></span></span><span>
</span><span id="line-413"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="After"><span class="annot"><a href="Cardano.Benchmarking.Topology.Projection.html#After"><span class="hs-identifier hs-var">After</span></a></span></span><span> </span><span class="annot"><a href="Cardano.Benchmarking.Topology.Projection.html#SlotNo"><span class="hs-identifier hs-type">SlotNo</span></a></span><span>
</span><span id="line-414"></span><span>  </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679104537"><span id="local-6989586621679104541"><span class="annot"><span class="annottext">AfterSlot -&gt; AfterSlot -&gt; Bool
(AfterSlot -&gt; AfterSlot -&gt; Bool)
-&gt; (AfterSlot -&gt; AfterSlot -&gt; Bool) -&gt; Eq AfterSlot
forall a. (a -&gt; a -&gt; Bool) -&gt; (a -&gt; a -&gt; Bool) -&gt; Eq a
$c== :: AfterSlot -&gt; AfterSlot -&gt; Bool
== :: AfterSlot -&gt; AfterSlot -&gt; Bool
$c/= :: AfterSlot -&gt; AfterSlot -&gt; Bool
/= :: AfterSlot -&gt; AfterSlot -&gt; Bool
</span><a href="file:///nix/store/ahd0dyjy54gfbx667iq5s68d85igqdgv-ghc-9.6.5-doc/share/doc/ghc-9.6.5/html/libraries/ghc-prim-0.10.0/src/GHC.Classes.html#Eq"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Eq</span></a></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679104544"><span id="local-6989586621679104549"><span id="local-6989586621679104552"><span class="annot"><span class="annottext">Int -&gt; AfterSlot -&gt; ShowS
[AfterSlot] -&gt; ShowS
AfterSlot -&gt; String
(Int -&gt; AfterSlot -&gt; ShowS)
-&gt; (AfterSlot -&gt; String)
-&gt; ([AfterSlot] -&gt; ShowS)
-&gt; Show AfterSlot
forall a.
(Int -&gt; a -&gt; ShowS) -&gt; (a -&gt; String) -&gt; ([a] -&gt; ShowS) -&gt; Show a
$cshowsPrec :: Int -&gt; AfterSlot -&gt; ShowS
showsPrec :: Int -&gt; AfterSlot -&gt; ShowS
$cshow :: AfterSlot -&gt; String
show :: AfterSlot -&gt; String
$cshowList :: [AfterSlot] -&gt; ShowS
showList :: [AfterSlot] -&gt; ShowS
</span><a href="file:///nix/store/ahd0dyjy54gfbx667iq5s68d85igqdgv-ghc-9.6.5-doc/share/doc/ghc-9.6.5/html/libraries/base-4.18.2.1/src/GHC.Show.html#Show"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Show</span></a></span></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-415"></span><span>
</span><span id="line-416"></span><span class="hs-comment">-- `FromJSON`/`ToJSON` from &quot;Cardano.Tracing.OrphanInstances.Network&quot;.</span><span>
</span><span id="line-417"></span><span>
</span><span id="line-418"></span><span class="hs-comment">-- https://github.com/IntersectMBO/cardano-node/blob/52b708f37cd3dc92a188717deae2a6a60117f696/cardano-node/src/Cardano/Tracing/OrphanInstances/Network.hs#L2784</span><span>
</span><span id="line-419"></span><span>
</span><span id="line-420"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679104556"><span id="local-6989586621679104559"><span class="annot"><span class="hs-identifier hs-type">Aeson.FromJSON</span></span><span> </span><span class="annot"><a href="Cardano.Benchmarking.Topology.Projection.html#UseLedgerPeers"><span class="hs-identifier hs-type">UseLedgerPeers</span></a></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-421"></span><span>  </span><span id="local-6989586621679104581"><span class="annot"><span class="annottext">parseJSON :: Value -&gt; Parser UseLedgerPeers
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">parseJSON</span></span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Aeson.Number</span></span><span> </span><span id="local-6989586621679104583"><span class="annot"><span class="annottext">Scientific
</span><a href="#local-6989586621679104583"><span class="hs-identifier hs-var">slot</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">UseLedgerPeers -&gt; Parser UseLedgerPeers
forall a. a -&gt; Parser a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="file:///nix/store/ahd0dyjy54gfbx667iq5s68d85igqdgv-ghc-9.6.5-doc/share/doc/ghc-9.6.5/html/libraries/base-4.18.2.1/src/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">(UseLedgerPeers -&gt; Parser UseLedgerPeers)
-&gt; UseLedgerPeers -&gt; Parser UseLedgerPeers
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/ahd0dyjy54gfbx667iq5s68d85igqdgv-ghc-9.6.5-doc/share/doc/ghc-9.6.5/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-422"></span><span>    </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Scientific -&gt; Scientific -&gt; Ordering
forall a. Ord a =&gt; a -&gt; a -&gt; Ordering
</span><a href="file:///nix/store/ahd0dyjy54gfbx667iq5s68d85igqdgv-ghc-9.6.5-doc/share/doc/ghc-9.6.5/html/libraries/ghc-prim-0.10.0/src/GHC.Classes.html#compare"><span class="hs-identifier hs-var">compare</span></a></span><span> </span><span class="annot"><span class="annottext">Scientific
</span><a href="#local-6989586621679104583"><span class="hs-identifier hs-var">slot</span></a></span><span> </span><span class="annot"><span class="annottext">Scientific
</span><span class="hs-number">0</span></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-423"></span><span>      </span><span class="annot"><span class="annottext">Ordering
</span><a href="file:///nix/store/ahd0dyjy54gfbx667iq5s68d85igqdgv-ghc-9.6.5-doc/share/doc/ghc-9.6.5/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#GT"><span class="hs-identifier hs-var">GT</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">AfterSlot -&gt; UseLedgerPeers
</span><a href="Cardano.Benchmarking.Topology.Projection.html#UseLedgerPeers"><span class="hs-identifier hs-var">UseLedgerPeers</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SlotNo -&gt; AfterSlot
</span><a href="Cardano.Benchmarking.Topology.Projection.html#After"><span class="hs-identifier hs-var">After</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Word64 -&gt; SlotNo
</span><a href="Cardano.Benchmarking.Topology.Projection.html#SlotNo"><span class="hs-identifier hs-var">SlotNo</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Scientific -&gt; Word64
forall b. Integral b =&gt; Scientific -&gt; b
forall a b. (RealFrac a, Integral b) =&gt; a -&gt; b
</span><a href="file:///nix/store/ahd0dyjy54gfbx667iq5s68d85igqdgv-ghc-9.6.5-doc/share/doc/ghc-9.6.5/html/libraries/base-4.18.2.1/src/GHC.Real.html#floor"><span class="hs-identifier hs-var">floor</span></a></span><span> </span><span class="annot"><span class="annottext">Scientific
</span><a href="#local-6989586621679104583"><span class="hs-identifier hs-var">slot</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-424"></span><span>      </span><span class="annot"><span class="annottext">Ordering
</span><a href="file:///nix/store/ahd0dyjy54gfbx667iq5s68d85igqdgv-ghc-9.6.5-doc/share/doc/ghc-9.6.5/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#EQ"><span class="hs-identifier hs-var">EQ</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">AfterSlot -&gt; UseLedgerPeers
</span><a href="Cardano.Benchmarking.Topology.Projection.html#UseLedgerPeers"><span class="hs-identifier hs-var">UseLedgerPeers</span></a></span><span> </span><span class="annot"><span class="annottext">AfterSlot
</span><a href="Cardano.Benchmarking.Topology.Projection.html#Always"><span class="hs-identifier hs-var">Always</span></a></span><span>
</span><span id="line-425"></span><span>      </span><span class="annot"><span class="annottext">Ordering
</span><a href="file:///nix/store/ahd0dyjy54gfbx667iq5s68d85igqdgv-ghc-9.6.5-doc/share/doc/ghc-9.6.5/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#LT"><span class="hs-identifier hs-var">LT</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">UseLedgerPeers
</span><a href="Cardano.Benchmarking.Topology.Projection.html#DontUseLedgerPeers"><span class="hs-identifier hs-var">DontUseLedgerPeers</span></a></span><span>
</span><span id="line-426"></span><span>  </span><span class="annot"><span class="hs-identifier hs-var">parseJSON</span></span><span> </span><span id="local-6989586621679104587"><span class="annot"><span class="annottext">Value
</span><a href="#local-6989586621679104587"><span class="hs-identifier hs-var">invalid</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; Parser UseLedgerPeers
forall a. String -&gt; Parser a
forall (m :: * -&gt; *) a. MonadFail m =&gt; String -&gt; m a
</span><a href="file:///nix/store/ahd0dyjy54gfbx667iq5s68d85igqdgv-ghc-9.6.5-doc/share/doc/ghc-9.6.5/html/libraries/base-4.18.2.1/src/Control.Monad.Fail.html#fail"><span class="hs-identifier hs-var">fail</span></a></span><span> </span><span class="annot"><span class="annottext">(String -&gt; Parser UseLedgerPeers)
-&gt; String -&gt; Parser UseLedgerPeers
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/ahd0dyjy54gfbx667iq5s68d85igqdgv-ghc-9.6.5-doc/share/doc/ghc-9.6.5/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;Parsing of slot number failed due to type mismatch. &quot;</span></span><span>
</span><span id="line-427"></span><span>                            </span><span class="annot"><span class="annottext">String -&gt; ShowS
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><a href="file:///nix/store/ahd0dyjy54gfbx667iq5s68d85igqdgv-ghc-9.6.5-doc/share/doc/ghc-9.6.5/html/libraries/base-4.18.2.1/src/GHC.Base.html#%3C%3E"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;Encountered: &quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; ShowS
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><a href="file:///nix/store/ahd0dyjy54gfbx667iq5s68d85igqdgv-ghc-9.6.5-doc/share/doc/ghc-9.6.5/html/libraries/base-4.18.2.1/src/GHC.Base.html#%3C%3E"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Value -&gt; String
forall a. Show a =&gt; a -&gt; String
</span><a href="file:///nix/store/ahd0dyjy54gfbx667iq5s68d85igqdgv-ghc-9.6.5-doc/share/doc/ghc-9.6.5/html/libraries/base-4.18.2.1/src/GHC.Show.html#show"><span class="hs-identifier hs-var">show</span></a></span><span> </span><span class="annot"><span class="annottext">Value
</span><a href="#local-6989586621679104587"><span class="hs-identifier hs-var">invalid</span></a></span><span>
</span><span id="line-428"></span><span>
</span><span id="line-429"></span><span class="hs-comment">-- https://github.com/IntersectMBO/cardano-node/blob/52b708f37cd3dc92a188717deae2a6a60117f696/cardano-node/src/Cardano/Tracing/OrphanInstances/Network.hs#L2811</span><span>
</span><span id="line-430"></span><span>
</span><span id="line-431"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679104590"><span id="local-6989586621679104593"><span id="local-6989586621679104596"><span id="local-6989586621679104599"><span class="annot"><span class="hs-identifier hs-type">Aeson.ToJSON</span></span><span> </span><span class="annot"><a href="Cardano.Benchmarking.Topology.Projection.html#UseLedgerPeers"><span class="hs-identifier hs-type">UseLedgerPeers</span></a></span></span></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-432"></span><span>  </span><span id="local-6989586621679104606"><span class="annot"><span class="annottext">toJSON :: UseLedgerPeers -&gt; Value
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">toJSON</span></span></span><span> </span><span class="annot"><span class="annottext">UseLedgerPeers
</span><a href="Cardano.Benchmarking.Topology.Projection.html#DontUseLedgerPeers"><span class="hs-identifier hs-var">DontUseLedgerPeers</span></a></span><span>                  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Scientific -&gt; Value
</span><span class="hs-identifier hs-var">Aeson.Number</span></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">-</span><span class="annot"><span class="annottext">Scientific
</span><span class="hs-number">1</span></span><span class="hs-special">)</span><span>
</span><span id="line-433"></span><span>  </span><span class="annot"><span class="hs-identifier hs-var">toJSON</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cardano.Benchmarking.Topology.Projection.html#UseLedgerPeers"><span class="hs-identifier hs-type">UseLedgerPeers</span></a></span><span> </span><span class="annot"><span class="annottext">AfterSlot
</span><a href="Cardano.Benchmarking.Topology.Projection.html#Always"><span class="hs-identifier hs-var">Always</span></a></span><span class="hs-special">)</span><span>             </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Scientific -&gt; Value
</span><span class="hs-identifier hs-var">Aeson.Number</span></span><span> </span><span class="annot"><span class="annottext">Scientific
</span><span class="hs-number">0</span></span><span>
</span><span id="line-434"></span><span>  </span><span class="annot"><span class="hs-identifier hs-var">toJSON</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cardano.Benchmarking.Topology.Projection.html#UseLedgerPeers"><span class="hs-identifier hs-type">UseLedgerPeers</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cardano.Benchmarking.Topology.Projection.html#After"><span class="hs-identifier hs-type">After</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cardano.Benchmarking.Topology.Projection.html#SlotNo"><span class="hs-identifier hs-type">SlotNo</span></a></span><span> </span><span id="local-6989586621679104607"><span class="annot"><span class="annottext">Word64
</span><a href="#local-6989586621679104607"><span class="hs-identifier hs-var">s</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Scientific -&gt; Value
</span><span class="hs-identifier hs-var">Aeson.Number</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Word64 -&gt; Scientific
forall a b. (Integral a, Num b) =&gt; a -&gt; b
</span><a href="file:///nix/store/ahd0dyjy54gfbx667iq5s68d85igqdgv-ghc-9.6.5-doc/share/doc/ghc-9.6.5/html/libraries/base-4.18.2.1/src/GHC.Real.html#fromIntegral"><span class="hs-identifier hs-var">fromIntegral</span></a></span><span> </span><span class="annot"><span class="annottext">Word64
</span><a href="#local-6989586621679104607"><span class="hs-identifier hs-var">s</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-435"></span><span>
</span><span id="line-436"></span><span class="hs-comment">---------------------------</span><span>
</span><span id="line-437"></span><span class="hs-comment">-- Cardano.Slotting.Slot --</span><span>
</span><span id="line-438"></span><span class="hs-comment">---------------------------</span><span>
</span><span id="line-439"></span><span>
</span><span id="line-440"></span><span class="annot"><span class="hs-comment">-- | The 0-based index for the Ourboros time slot.</span></span><span>
</span><span id="line-441"></span><span class="hs-keyword">newtype</span><span> </span><span id="SlotNo"><span class="annot"><a href="Cardano.Benchmarking.Topology.Projection.html#SlotNo"><span class="hs-identifier hs-var">SlotNo</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="SlotNo"><span class="annot"><a href="Cardano.Benchmarking.Topology.Projection.html#SlotNo"><span class="hs-identifier hs-var">SlotNo</span></a></span></span><span> </span><span class="hs-special">{</span><span id="unSlotNo"><span class="annot"><span class="annottext">SlotNo -&gt; Word64
</span><a href="Cardano.Benchmarking.Topology.Projection.html#unSlotNo"><span class="hs-identifier hs-var hs-var">unSlotNo</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="file:///nix/store/ahd0dyjy54gfbx667iq5s68d85igqdgv-ghc-9.6.5-doc/share/doc/ghc-9.6.5/html/libraries/base-4.18.2.1/src/GHC.Word.html#Word64"><span class="hs-identifier hs-type">Word64</span></a></span><span class="hs-special">}</span><span>
</span><span id="line-442"></span><span>  </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679104610"><span id="local-6989586621679104615"><span class="annot"><span class="annottext">SlotNo -&gt; SlotNo -&gt; Bool
(SlotNo -&gt; SlotNo -&gt; Bool)
-&gt; (SlotNo -&gt; SlotNo -&gt; Bool) -&gt; Eq SlotNo
forall a. (a -&gt; a -&gt; Bool) -&gt; (a -&gt; a -&gt; Bool) -&gt; Eq a
$c== :: SlotNo -&gt; SlotNo -&gt; Bool
== :: SlotNo -&gt; SlotNo -&gt; Bool
$c/= :: SlotNo -&gt; SlotNo -&gt; Bool
/= :: SlotNo -&gt; SlotNo -&gt; Bool
</span><a href="file:///nix/store/ahd0dyjy54gfbx667iq5s68d85igqdgv-ghc-9.6.5-doc/share/doc/ghc-9.6.5/html/libraries/ghc-prim-0.10.0/src/GHC.Classes.html#Eq"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Eq</span></a></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679104621"><span id="local-6989586621679104626"><span id="local-6989586621679104630"><span id="local-6989586621679104634"><span id="local-6989586621679104638"><span id="local-6989586621679104642"><span id="local-6989586621679104646"><span class="annot"><span class="annottext">Eq SlotNo
Eq SlotNo =&gt;
(SlotNo -&gt; SlotNo -&gt; Ordering)
-&gt; (SlotNo -&gt; SlotNo -&gt; Bool)
-&gt; (SlotNo -&gt; SlotNo -&gt; Bool)
-&gt; (SlotNo -&gt; SlotNo -&gt; Bool)
-&gt; (SlotNo -&gt; SlotNo -&gt; Bool)
-&gt; (SlotNo -&gt; SlotNo -&gt; SlotNo)
-&gt; (SlotNo -&gt; SlotNo -&gt; SlotNo)
-&gt; Ord SlotNo
SlotNo -&gt; SlotNo -&gt; Bool
SlotNo -&gt; SlotNo -&gt; Ordering
SlotNo -&gt; SlotNo -&gt; SlotNo
forall a.
Eq a =&gt;
(a -&gt; a -&gt; Ordering)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; a)
-&gt; (a -&gt; a -&gt; a)
-&gt; Ord a
$ccompare :: SlotNo -&gt; SlotNo -&gt; Ordering
compare :: SlotNo -&gt; SlotNo -&gt; Ordering
$c&lt; :: SlotNo -&gt; SlotNo -&gt; Bool
&lt; :: SlotNo -&gt; SlotNo -&gt; Bool
$c&lt;= :: SlotNo -&gt; SlotNo -&gt; Bool
&lt;= :: SlotNo -&gt; SlotNo -&gt; Bool
$c&gt; :: SlotNo -&gt; SlotNo -&gt; Bool
&gt; :: SlotNo -&gt; SlotNo -&gt; Bool
$c&gt;= :: SlotNo -&gt; SlotNo -&gt; Bool
&gt;= :: SlotNo -&gt; SlotNo -&gt; Bool
$cmax :: SlotNo -&gt; SlotNo -&gt; SlotNo
max :: SlotNo -&gt; SlotNo -&gt; SlotNo
$cmin :: SlotNo -&gt; SlotNo -&gt; SlotNo
min :: SlotNo -&gt; SlotNo -&gt; SlotNo
</span><a href="file:///nix/store/ahd0dyjy54gfbx667iq5s68d85igqdgv-ghc-9.6.5-doc/share/doc/ghc-9.6.5/html/libraries/ghc-prim-0.10.0/src/GHC.Classes.html#Ord"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Ord</span></a></span></span></span></span></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679104651"><span id="local-6989586621679104656"><span id="local-6989586621679104659"><span class="annot"><span class="annottext">Int -&gt; SlotNo -&gt; ShowS
[SlotNo] -&gt; ShowS
SlotNo -&gt; String
(Int -&gt; SlotNo -&gt; ShowS)
-&gt; (SlotNo -&gt; String) -&gt; ([SlotNo] -&gt; ShowS) -&gt; Show SlotNo
forall a.
(Int -&gt; a -&gt; ShowS) -&gt; (a -&gt; String) -&gt; ([a] -&gt; ShowS) -&gt; Show a
$cshowsPrec :: Int -&gt; SlotNo -&gt; ShowS
showsPrec :: Int -&gt; SlotNo -&gt; ShowS
$cshow :: SlotNo -&gt; String
show :: SlotNo -&gt; String
$cshowList :: [SlotNo] -&gt; ShowS
showList :: [SlotNo] -&gt; ShowS
</span><a href="file:///nix/store/ahd0dyjy54gfbx667iq5s68d85igqdgv-ghc-9.6.5-doc/share/doc/ghc-9.6.5/html/libraries/base-4.18.2.1/src/GHC.Show.html#Show"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Show</span></a></span></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-443"></span><span>
</span><span id="line-444"></span><span class="hs-comment">----------------------------------------------------------</span><span>
</span><span id="line-445"></span><span class="hs-comment">-- Ouroboros.Network.PeerSelection.State.LocalRootPeers --</span><span>
</span><span id="line-446"></span><span class="hs-comment">----------------------------------------------------------</span><span>
</span><span id="line-447"></span><span>
</span><span id="line-448"></span><span class="hs-comment">-- Replaced `HotValency` and `WarmValency` with `Valency`.</span><span>
</span><span id="line-449"></span><span class="hs-comment">-- https://github.com/IntersectMBO/ouroboros-network/blob/588130b5f0494a42c19da3bd44211ff7607b5831/ouroboros-network/src/Ouroboros/Network/PeerSelection/State/LocalRootPeers.hs#L80</span><span>
</span><span id="line-450"></span><span>
</span><span id="line-451"></span><span class="hs-keyword">newtype</span><span> </span><span id="Valency"><span class="annot"><a href="Cardano.Benchmarking.Topology.Projection.html#Valency"><span class="hs-identifier hs-var">Valency</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="Valency"><span class="annot"><a href="Cardano.Benchmarking.Topology.Projection.html#Valency"><span class="hs-identifier hs-var">Valency</span></a></span></span><span> </span><span class="hs-special">{</span><span> </span><span id="getValency"><span class="annot"><span class="annottext">Valency -&gt; Int
</span><a href="Cardano.Benchmarking.Topology.Projection.html#getValency"><span class="hs-identifier hs-var hs-var">getValency</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="file:///nix/store/ahd0dyjy54gfbx667iq5s68d85igqdgv-ghc-9.6.5-doc/share/doc/ghc-9.6.5/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Int"><span class="hs-identifier hs-type">Int</span></a></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-452"></span><span>  </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679104663"><span id="local-6989586621679104667"><span id="local-6989586621679104670"><span class="annot"><span class="annottext">Int -&gt; Valency -&gt; ShowS
[Valency] -&gt; ShowS
Valency -&gt; String
(Int -&gt; Valency -&gt; ShowS)
-&gt; (Valency -&gt; String) -&gt; ([Valency] -&gt; ShowS) -&gt; Show Valency
forall a.
(Int -&gt; a -&gt; ShowS) -&gt; (a -&gt; String) -&gt; ([a] -&gt; ShowS) -&gt; Show a
$cshowsPrec :: Int -&gt; Valency -&gt; ShowS
showsPrec :: Int -&gt; Valency -&gt; ShowS
$cshow :: Valency -&gt; String
show :: Valency -&gt; String
$cshowList :: [Valency] -&gt; ShowS
showList :: [Valency] -&gt; ShowS
</span><a href="file:///nix/store/ahd0dyjy54gfbx667iq5s68d85igqdgv-ghc-9.6.5-doc/share/doc/ghc-9.6.5/html/libraries/base-4.18.2.1/src/GHC.Show.html#Show"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Show</span></a></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679104673"><span id="local-6989586621679104677"><span class="annot"><span class="annottext">Valency -&gt; Valency -&gt; Bool
(Valency -&gt; Valency -&gt; Bool)
-&gt; (Valency -&gt; Valency -&gt; Bool) -&gt; Eq Valency
forall a. (a -&gt; a -&gt; Bool) -&gt; (a -&gt; a -&gt; Bool) -&gt; Eq a
$c== :: Valency -&gt; Valency -&gt; Bool
== :: Valency -&gt; Valency -&gt; Bool
$c/= :: Valency -&gt; Valency -&gt; Bool
/= :: Valency -&gt; Valency -&gt; Bool
</span><a href="file:///nix/store/ahd0dyjy54gfbx667iq5s68d85igqdgv-ghc-9.6.5-doc/share/doc/ghc-9.6.5/html/libraries/ghc-prim-0.10.0/src/GHC.Classes.html#Eq"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Eq</span></a></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679104683"><span id="local-6989586621679104687"><span id="local-6989586621679104691"><span id="local-6989586621679104695"><span id="local-6989586621679104699"><span id="local-6989586621679104703"><span id="local-6989586621679104707"><span class="annot"><span class="annottext">Eq Valency
Eq Valency =&gt;
(Valency -&gt; Valency -&gt; Ordering)
-&gt; (Valency -&gt; Valency -&gt; Bool)
-&gt; (Valency -&gt; Valency -&gt; Bool)
-&gt; (Valency -&gt; Valency -&gt; Bool)
-&gt; (Valency -&gt; Valency -&gt; Bool)
-&gt; (Valency -&gt; Valency -&gt; Valency)
-&gt; (Valency -&gt; Valency -&gt; Valency)
-&gt; Ord Valency
Valency -&gt; Valency -&gt; Bool
Valency -&gt; Valency -&gt; Ordering
Valency -&gt; Valency -&gt; Valency
forall a.
Eq a =&gt;
(a -&gt; a -&gt; Ordering)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; a)
-&gt; (a -&gt; a -&gt; a)
-&gt; Ord a
$ccompare :: Valency -&gt; Valency -&gt; Ordering
compare :: Valency -&gt; Valency -&gt; Ordering
$c&lt; :: Valency -&gt; Valency -&gt; Bool
&lt; :: Valency -&gt; Valency -&gt; Bool
$c&lt;= :: Valency -&gt; Valency -&gt; Bool
&lt;= :: Valency -&gt; Valency -&gt; Bool
$c&gt; :: Valency -&gt; Valency -&gt; Bool
&gt; :: Valency -&gt; Valency -&gt; Bool
$c&gt;= :: Valency -&gt; Valency -&gt; Bool
&gt;= :: Valency -&gt; Valency -&gt; Bool
$cmax :: Valency -&gt; Valency -&gt; Valency
max :: Valency -&gt; Valency -&gt; Valency
$cmin :: Valency -&gt; Valency -&gt; Valency
min :: Valency -&gt; Valency -&gt; Valency
</span><a href="file:///nix/store/ahd0dyjy54gfbx667iq5s68d85igqdgv-ghc-9.6.5-doc/share/doc/ghc-9.6.5/html/libraries/ghc-prim-0.10.0/src/GHC.Classes.html#Ord"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Ord</span></a></span></span></span></span></span></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-453"></span><span>
</span><span id="line-454"></span><span class="hs-comment">-- | Newtype wrapper representing hot valency value from local root group</span><span>
</span><span id="line-455"></span><span class="hs-comment">-- configuration</span><span>
</span><span id="line-456"></span><span class="hs-comment">--</span><span>
</span><span id="line-457"></span><span class="hs-keyword">newtype</span><span> </span><span id="HotValency"><span class="annot"><a href="Cardano.Benchmarking.Topology.Projection.html#HotValency"><span class="hs-identifier hs-var">HotValency</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="HotValency"><span class="annot"><a href="Cardano.Benchmarking.Topology.Projection.html#HotValency"><span class="hs-identifier hs-var">HotValency</span></a></span></span><span> </span><span class="hs-special">{</span><span> </span><span id="getHotValency"><span class="annot"><span class="annottext">HotValency -&gt; Int
</span><a href="Cardano.Benchmarking.Topology.Projection.html#getHotValency"><span class="hs-identifier hs-var hs-var">getHotValency</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="file:///nix/store/ahd0dyjy54gfbx667iq5s68d85igqdgv-ghc-9.6.5-doc/share/doc/ghc-9.6.5/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Int"><span class="hs-identifier hs-type">Int</span></a></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-458"></span><span>  </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679104714"><span id="local-6989586621679104718"><span id="local-6989586621679104722"><span class="annot"><span class="annottext">Int -&gt; HotValency -&gt; ShowS
[HotValency] -&gt; ShowS
HotValency -&gt; String
(Int -&gt; HotValency -&gt; ShowS)
-&gt; (HotValency -&gt; String)
-&gt; ([HotValency] -&gt; ShowS)
-&gt; Show HotValency
forall a.
(Int -&gt; a -&gt; ShowS) -&gt; (a -&gt; String) -&gt; ([a] -&gt; ShowS) -&gt; Show a
$cshowsPrec :: Int -&gt; HotValency -&gt; ShowS
showsPrec :: Int -&gt; HotValency -&gt; ShowS
$cshow :: HotValency -&gt; String
show :: HotValency -&gt; String
$cshowList :: [HotValency] -&gt; ShowS
showList :: [HotValency] -&gt; ShowS
</span><a href="file:///nix/store/ahd0dyjy54gfbx667iq5s68d85igqdgv-ghc-9.6.5-doc/share/doc/ghc-9.6.5/html/libraries/base-4.18.2.1/src/GHC.Show.html#Show"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Show</span></a></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679104725"><span id="local-6989586621679104729"><span class="annot"><span class="annottext">HotValency -&gt; HotValency -&gt; Bool
(HotValency -&gt; HotValency -&gt; Bool)
-&gt; (HotValency -&gt; HotValency -&gt; Bool) -&gt; Eq HotValency
forall a. (a -&gt; a -&gt; Bool) -&gt; (a -&gt; a -&gt; Bool) -&gt; Eq a
$c== :: HotValency -&gt; HotValency -&gt; Bool
== :: HotValency -&gt; HotValency -&gt; Bool
$c/= :: HotValency -&gt; HotValency -&gt; Bool
/= :: HotValency -&gt; HotValency -&gt; Bool
</span><a href="file:///nix/store/ahd0dyjy54gfbx667iq5s68d85igqdgv-ghc-9.6.5-doc/share/doc/ghc-9.6.5/html/libraries/ghc-prim-0.10.0/src/GHC.Classes.html#Eq"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Eq</span></a></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679104736"><span id="local-6989586621679104740"><span id="local-6989586621679104744"><span id="local-6989586621679104748"><span id="local-6989586621679104752"><span id="local-6989586621679104756"><span id="local-6989586621679104760"><span class="annot"><span class="annottext">Eq HotValency
Eq HotValency =&gt;
(HotValency -&gt; HotValency -&gt; Ordering)
-&gt; (HotValency -&gt; HotValency -&gt; Bool)
-&gt; (HotValency -&gt; HotValency -&gt; Bool)
-&gt; (HotValency -&gt; HotValency -&gt; Bool)
-&gt; (HotValency -&gt; HotValency -&gt; Bool)
-&gt; (HotValency -&gt; HotValency -&gt; HotValency)
-&gt; (HotValency -&gt; HotValency -&gt; HotValency)
-&gt; Ord HotValency
HotValency -&gt; HotValency -&gt; Bool
HotValency -&gt; HotValency -&gt; Ordering
HotValency -&gt; HotValency -&gt; HotValency
forall a.
Eq a =&gt;
(a -&gt; a -&gt; Ordering)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; a)
-&gt; (a -&gt; a -&gt; a)
-&gt; Ord a
$ccompare :: HotValency -&gt; HotValency -&gt; Ordering
compare :: HotValency -&gt; HotValency -&gt; Ordering
$c&lt; :: HotValency -&gt; HotValency -&gt; Bool
&lt; :: HotValency -&gt; HotValency -&gt; Bool
$c&lt;= :: HotValency -&gt; HotValency -&gt; Bool
&lt;= :: HotValency -&gt; HotValency -&gt; Bool
$c&gt; :: HotValency -&gt; HotValency -&gt; Bool
&gt; :: HotValency -&gt; HotValency -&gt; Bool
$c&gt;= :: HotValency -&gt; HotValency -&gt; Bool
&gt;= :: HotValency -&gt; HotValency -&gt; Bool
$cmax :: HotValency -&gt; HotValency -&gt; HotValency
max :: HotValency -&gt; HotValency -&gt; HotValency
$cmin :: HotValency -&gt; HotValency -&gt; HotValency
min :: HotValency -&gt; HotValency -&gt; HotValency
</span><a href="file:///nix/store/ahd0dyjy54gfbx667iq5s68d85igqdgv-ghc-9.6.5-doc/share/doc/ghc-9.6.5/html/libraries/ghc-prim-0.10.0/src/GHC.Classes.html#Ord"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Ord</span></a></span></span></span></span></span></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-459"></span><span>
</span><span id="line-460"></span><span class="hs-comment">-- | Newtype wrapper representing warm valency value from local root group</span><span>
</span><span id="line-461"></span><span class="hs-comment">-- configuration</span><span>
</span><span id="line-462"></span><span class="hs-comment">--</span><span>
</span><span id="line-463"></span><span class="hs-keyword">newtype</span><span> </span><span id="WarmValency"><span class="annot"><a href="Cardano.Benchmarking.Topology.Projection.html#WarmValency"><span class="hs-identifier hs-var">WarmValency</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="WarmValency"><span class="annot"><a href="Cardano.Benchmarking.Topology.Projection.html#WarmValency"><span class="hs-identifier hs-var">WarmValency</span></a></span></span><span> </span><span class="hs-special">{</span><span> </span><span id="getWarmValency"><span class="annot"><span class="annottext">WarmValency -&gt; Int
</span><a href="Cardano.Benchmarking.Topology.Projection.html#getWarmValency"><span class="hs-identifier hs-var hs-var">getWarmValency</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="file:///nix/store/ahd0dyjy54gfbx667iq5s68d85igqdgv-ghc-9.6.5-doc/share/doc/ghc-9.6.5/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Int"><span class="hs-identifier hs-type">Int</span></a></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-464"></span><span>  </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679104767"><span id="local-6989586621679104771"><span id="local-6989586621679104775"><span class="annot"><span class="annottext">Int -&gt; WarmValency -&gt; ShowS
[WarmValency] -&gt; ShowS
WarmValency -&gt; String
(Int -&gt; WarmValency -&gt; ShowS)
-&gt; (WarmValency -&gt; String)
-&gt; ([WarmValency] -&gt; ShowS)
-&gt; Show WarmValency
forall a.
(Int -&gt; a -&gt; ShowS) -&gt; (a -&gt; String) -&gt; ([a] -&gt; ShowS) -&gt; Show a
$cshowsPrec :: Int -&gt; WarmValency -&gt; ShowS
showsPrec :: Int -&gt; WarmValency -&gt; ShowS
$cshow :: WarmValency -&gt; String
show :: WarmValency -&gt; String
$cshowList :: [WarmValency] -&gt; ShowS
showList :: [WarmValency] -&gt; ShowS
</span><a href="file:///nix/store/ahd0dyjy54gfbx667iq5s68d85igqdgv-ghc-9.6.5-doc/share/doc/ghc-9.6.5/html/libraries/base-4.18.2.1/src/GHC.Show.html#Show"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Show</span></a></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679104778"><span id="local-6989586621679104782"><span class="annot"><span class="annottext">WarmValency -&gt; WarmValency -&gt; Bool
(WarmValency -&gt; WarmValency -&gt; Bool)
-&gt; (WarmValency -&gt; WarmValency -&gt; Bool) -&gt; Eq WarmValency
forall a. (a -&gt; a -&gt; Bool) -&gt; (a -&gt; a -&gt; Bool) -&gt; Eq a
$c== :: WarmValency -&gt; WarmValency -&gt; Bool
== :: WarmValency -&gt; WarmValency -&gt; Bool
$c/= :: WarmValency -&gt; WarmValency -&gt; Bool
/= :: WarmValency -&gt; WarmValency -&gt; Bool
</span><a href="file:///nix/store/ahd0dyjy54gfbx667iq5s68d85igqdgv-ghc-9.6.5-doc/share/doc/ghc-9.6.5/html/libraries/ghc-prim-0.10.0/src/GHC.Classes.html#Eq"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Eq</span></a></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679104789"><span id="local-6989586621679104793"><span id="local-6989586621679104797"><span id="local-6989586621679104801"><span id="local-6989586621679104805"><span id="local-6989586621679104809"><span id="local-6989586621679104813"><span class="annot"><span class="annottext">Eq WarmValency
Eq WarmValency =&gt;
(WarmValency -&gt; WarmValency -&gt; Ordering)
-&gt; (WarmValency -&gt; WarmValency -&gt; Bool)
-&gt; (WarmValency -&gt; WarmValency -&gt; Bool)
-&gt; (WarmValency -&gt; WarmValency -&gt; Bool)
-&gt; (WarmValency -&gt; WarmValency -&gt; Bool)
-&gt; (WarmValency -&gt; WarmValency -&gt; WarmValency)
-&gt; (WarmValency -&gt; WarmValency -&gt; WarmValency)
-&gt; Ord WarmValency
WarmValency -&gt; WarmValency -&gt; Bool
WarmValency -&gt; WarmValency -&gt; Ordering
WarmValency -&gt; WarmValency -&gt; WarmValency
forall a.
Eq a =&gt;
(a -&gt; a -&gt; Ordering)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; a)
-&gt; (a -&gt; a -&gt; a)
-&gt; Ord a
$ccompare :: WarmValency -&gt; WarmValency -&gt; Ordering
compare :: WarmValency -&gt; WarmValency -&gt; Ordering
$c&lt; :: WarmValency -&gt; WarmValency -&gt; Bool
&lt; :: WarmValency -&gt; WarmValency -&gt; Bool
$c&lt;= :: WarmValency -&gt; WarmValency -&gt; Bool
&lt;= :: WarmValency -&gt; WarmValency -&gt; Bool
$c&gt; :: WarmValency -&gt; WarmValency -&gt; Bool
&gt; :: WarmValency -&gt; WarmValency -&gt; Bool
$c&gt;= :: WarmValency -&gt; WarmValency -&gt; Bool
&gt;= :: WarmValency -&gt; WarmValency -&gt; Bool
$cmax :: WarmValency -&gt; WarmValency -&gt; WarmValency
max :: WarmValency -&gt; WarmValency -&gt; WarmValency
$cmin :: WarmValency -&gt; WarmValency -&gt; WarmValency
min :: WarmValency -&gt; WarmValency -&gt; WarmValency
</span><a href="file:///nix/store/ahd0dyjy54gfbx667iq5s68d85igqdgv-ghc-9.6.5-doc/share/doc/ghc-9.6.5/html/libraries/ghc-prim-0.10.0/src/GHC.Classes.html#Ord"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Ord</span></a></span></span></span></span></span></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-465"></span><span>
</span><span id="line-466"></span><span class="hs-comment">-- `FromJSON`/`ToJSON` from &quot;Cardano.Tracing.OrphanInstances.Network&quot;.</span><span>
</span><span id="line-467"></span><span>
</span><span id="line-468"></span><span class="hs-comment">-- Replaced `HotValency` and `WarmValency` with `Valency`.</span><span>
</span><span id="line-469"></span><span class="hs-comment">-- https://github.com/IntersectMBO/cardano-node/blob/52b708f37cd3dc92a188717deae2a6a60117f696/cardano-node/src/Cardano/Tracing/OrphanInstances/Network.hs#L1638</span><span>
</span><span id="line-470"></span><span>
</span><span id="line-471"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679104819"><span id="local-6989586621679104822"><span id="local-6989586621679104825"><span id="local-6989586621679104828"><span class="annot"><span class="hs-identifier hs-type">Aeson.ToJSON</span></span><span> </span><span class="annot"><a href="Cardano.Benchmarking.Topology.Projection.html#Valency"><span class="hs-identifier hs-type">Valency</span></a></span></span></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-472"></span><span>  </span><span id="local-6989586621679104831"><span class="annot"><span class="annottext">toJSON :: Valency -&gt; Value
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">toJSON</span></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cardano.Benchmarking.Topology.Projection.html#Valency"><span class="hs-identifier hs-type">Valency</span></a></span><span> </span><span id="local-6989586621679104832"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679104832"><span class="hs-identifier hs-var">v</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Int -&gt; Value
forall a. ToJSON a =&gt; a -&gt; Value
</span><span class="hs-identifier hs-var">Aeson.toJSON</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679104832"><span class="hs-identifier hs-var">v</span></a></span><span>
</span><span id="line-473"></span><span>
</span><span id="line-474"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679104835"><span id="local-6989586621679104839"><span id="local-6989586621679104842"><span id="local-6989586621679104845"><span class="annot"><span class="hs-identifier hs-type">Aeson.ToJSON</span></span><span> </span><span class="annot"><a href="Cardano.Benchmarking.Topology.Projection.html#HotValency"><span class="hs-identifier hs-type">HotValency</span></a></span></span></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-475"></span><span>  </span><span id="local-6989586621679104848"><span class="annot"><span class="annottext">toJSON :: HotValency -&gt; Value
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">toJSON</span></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cardano.Benchmarking.Topology.Projection.html#HotValency"><span class="hs-identifier hs-type">HotValency</span></a></span><span> </span><span id="local-6989586621679104849"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679104849"><span class="hs-identifier hs-var">v</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Int -&gt; Value
forall a. ToJSON a =&gt; a -&gt; Value
</span><span class="hs-identifier hs-var">Aeson.toJSON</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679104849"><span class="hs-identifier hs-var">v</span></a></span><span>
</span><span id="line-476"></span><span>
</span><span id="line-477"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679104852"><span id="local-6989586621679104856"><span id="local-6989586621679104859"><span id="local-6989586621679104862"><span class="annot"><span class="hs-identifier hs-type">Aeson.ToJSON</span></span><span> </span><span class="annot"><a href="Cardano.Benchmarking.Topology.Projection.html#WarmValency"><span class="hs-identifier hs-type">WarmValency</span></a></span></span></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-478"></span><span>  </span><span id="local-6989586621679104865"><span class="annot"><span class="annottext">toJSON :: WarmValency -&gt; Value
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">toJSON</span></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cardano.Benchmarking.Topology.Projection.html#WarmValency"><span class="hs-identifier hs-type">WarmValency</span></a></span><span> </span><span id="local-6989586621679104866"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679104866"><span class="hs-identifier hs-var">v</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Int -&gt; Value
forall a. ToJSON a =&gt; a -&gt; Value
</span><span class="hs-identifier hs-var">Aeson.toJSON</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679104866"><span class="hs-identifier hs-var">v</span></a></span><span>
</span><span id="line-479"></span><span>
</span><span id="line-480"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679104869"><span id="local-6989586621679104872"><span class="annot"><span class="hs-identifier hs-type">Aeson.FromJSON</span></span><span> </span><span class="annot"><a href="Cardano.Benchmarking.Topology.Projection.html#Valency"><span class="hs-identifier hs-type">Valency</span></a></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-481"></span><span>  </span><span id="local-6989586621679104876"><span class="annot"><span class="annottext">parseJSON :: Value -&gt; Parser Valency
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">parseJSON</span></span></span><span> </span><span id="local-6989586621679104877"><span class="annot"><span class="annottext">Value
</span><a href="#local-6989586621679104877"><span class="hs-identifier hs-var">v</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Int -&gt; Valency
</span><a href="Cardano.Benchmarking.Topology.Projection.html#Valency"><span class="hs-identifier hs-var">Valency</span></a></span><span> </span><span class="annot"><span class="annottext">(Int -&gt; Valency) -&gt; Parser Int -&gt; Parser Valency
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="file:///nix/store/ahd0dyjy54gfbx667iq5s68d85igqdgv-ghc-9.6.5-doc/share/doc/ghc-9.6.5/html/libraries/base-4.18.2.1/src/Data.Functor.html#%3C%24%3E"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Value -&gt; Parser Int
forall a. FromJSON a =&gt; Value -&gt; Parser a
</span><span class="hs-identifier hs-var">Aeson.parseJSON</span></span><span> </span><span class="annot"><span class="annottext">Value
</span><a href="#local-6989586621679104877"><span class="hs-identifier hs-var">v</span></a></span><span>
</span><span id="line-482"></span><span>
</span><span id="line-483"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679104880"><span id="local-6989586621679104884"><span class="annot"><span class="hs-identifier hs-type">Aeson.FromJSON</span></span><span> </span><span class="annot"><a href="Cardano.Benchmarking.Topology.Projection.html#HotValency"><span class="hs-identifier hs-type">HotValency</span></a></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-484"></span><span>  </span><span id="local-6989586621679104888"><span class="annot"><span class="annottext">parseJSON :: Value -&gt; Parser HotValency
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">parseJSON</span></span></span><span> </span><span id="local-6989586621679104889"><span class="annot"><span class="annottext">Value
</span><a href="#local-6989586621679104889"><span class="hs-identifier hs-var">v</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Int -&gt; HotValency
</span><a href="Cardano.Benchmarking.Topology.Projection.html#HotValency"><span class="hs-identifier hs-var">HotValency</span></a></span><span> </span><span class="annot"><span class="annottext">(Int -&gt; HotValency) -&gt; Parser Int -&gt; Parser HotValency
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="file:///nix/store/ahd0dyjy54gfbx667iq5s68d85igqdgv-ghc-9.6.5-doc/share/doc/ghc-9.6.5/html/libraries/base-4.18.2.1/src/Data.Functor.html#%3C%24%3E"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Value -&gt; Parser Int
forall a. FromJSON a =&gt; Value -&gt; Parser a
</span><span class="hs-identifier hs-var">Aeson.parseJSON</span></span><span> </span><span class="annot"><span class="annottext">Value
</span><a href="#local-6989586621679104889"><span class="hs-identifier hs-var">v</span></a></span><span>
</span><span id="line-485"></span><span>
</span><span id="line-486"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679104892"><span id="local-6989586621679104896"><span class="annot"><span class="hs-identifier hs-type">Aeson.FromJSON</span></span><span> </span><span class="annot"><a href="Cardano.Benchmarking.Topology.Projection.html#WarmValency"><span class="hs-identifier hs-type">WarmValency</span></a></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-487"></span><span>  </span><span id="local-6989586621679104900"><span class="annot"><span class="annottext">parseJSON :: Value -&gt; Parser WarmValency
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">parseJSON</span></span></span><span> </span><span id="local-6989586621679104901"><span class="annot"><span class="annottext">Value
</span><a href="#local-6989586621679104901"><span class="hs-identifier hs-var">v</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Int -&gt; WarmValency
</span><a href="Cardano.Benchmarking.Topology.Projection.html#WarmValency"><span class="hs-identifier hs-var">WarmValency</span></a></span><span> </span><span class="annot"><span class="annottext">(Int -&gt; WarmValency) -&gt; Parser Int -&gt; Parser WarmValency
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="file:///nix/store/ahd0dyjy54gfbx667iq5s68d85igqdgv-ghc-9.6.5-doc/share/doc/ghc-9.6.5/html/libraries/base-4.18.2.1/src/Data.Functor.html#%3C%24%3E"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Value -&gt; Parser Int
forall a. FromJSON a =&gt; Value -&gt; Parser a
</span><span class="hs-identifier hs-var">Aeson.parseJSON</span></span><span> </span><span class="annot"><span class="annottext">Value
</span><a href="#local-6989586621679104901"><span class="hs-identifier hs-var">v</span></a></span><span>
</span><span id="line-488"></span><span>
</span><span id="line-489"></span><span class="hs-comment">---------------------------------------------------</span><span>
</span><span id="line-490"></span><span class="hs-comment">-- Ouroboros.Network.PeerSelection.PeerTrustable --</span><span>
</span><span id="line-491"></span><span class="hs-comment">---------------------------------------------------</span><span>
</span><span id="line-492"></span><span>
</span><span id="line-493"></span><span class="hs-comment">-- https://github.com/IntersectMBO/ouroboros-network/blob/588130b5f0494a42c19da3bd44211ff7607b5831/ouroboros-network-api/src/Cardano/Network/PeerSelection/PeerTrustable.hs#L13</span><span>
</span><span id="line-494"></span><span>
</span><span id="line-495"></span><span class="hs-comment">-- | Is this Peer trustable as a bootstrap peer?</span><span>
</span><span id="line-496"></span><span class="hs-comment">--</span><span>
</span><span id="line-497"></span><span class="hs-comment">-- This trustability flag is used on local root peers (pre-genesis) to</span><span>
</span><span id="line-498"></span><span class="hs-comment">-- distinguish which locally configured peer is considered safe to trust for</span><span>
</span><span id="line-499"></span><span class="hs-comment">-- bootstrap purposes</span><span>
</span><span id="line-500"></span><span class="hs-comment">--</span><span>
</span><span id="line-501"></span><span class="hs-keyword">data</span><span> </span><span id="PeerTrustable"><span class="annot"><a href="Cardano.Benchmarking.Topology.Projection.html#PeerTrustable"><span class="hs-identifier hs-var">PeerTrustable</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-502"></span><span>    </span><span id="IsTrustable"><span class="annot"><a href="Cardano.Benchmarking.Topology.Projection.html#IsTrustable"><span class="hs-identifier hs-var">IsTrustable</span></a></span></span><span>
</span><span id="line-503"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="IsNotTrustable"><span class="annot"><a href="Cardano.Benchmarking.Topology.Projection.html#IsNotTrustable"><span class="hs-identifier hs-var">IsNotTrustable</span></a></span></span><span>
</span><span id="line-504"></span><span>  </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679104903"><span id="local-6989586621679104905"><span class="annot"><span class="annottext">PeerTrustable -&gt; PeerTrustable -&gt; Bool
(PeerTrustable -&gt; PeerTrustable -&gt; Bool)
-&gt; (PeerTrustable -&gt; PeerTrustable -&gt; Bool) -&gt; Eq PeerTrustable
forall a. (a -&gt; a -&gt; Bool) -&gt; (a -&gt; a -&gt; Bool) -&gt; Eq a
$c== :: PeerTrustable -&gt; PeerTrustable -&gt; Bool
== :: PeerTrustable -&gt; PeerTrustable -&gt; Bool
$c/= :: PeerTrustable -&gt; PeerTrustable -&gt; Bool
/= :: PeerTrustable -&gt; PeerTrustable -&gt; Bool
</span><a href="file:///nix/store/ahd0dyjy54gfbx667iq5s68d85igqdgv-ghc-9.6.5-doc/share/doc/ghc-9.6.5/html/libraries/ghc-prim-0.10.0/src/GHC.Classes.html#Eq"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Eq</span></a></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679104908"><span id="local-6989586621679104910"><span id="local-6989586621679104913"><span class="annot"><span class="annottext">Int -&gt; PeerTrustable -&gt; ShowS
[PeerTrustable] -&gt; ShowS
PeerTrustable -&gt; String
(Int -&gt; PeerTrustable -&gt; ShowS)
-&gt; (PeerTrustable -&gt; String)
-&gt; ([PeerTrustable] -&gt; ShowS)
-&gt; Show PeerTrustable
forall a.
(Int -&gt; a -&gt; ShowS) -&gt; (a -&gt; String) -&gt; ([a] -&gt; ShowS) -&gt; Show a
$cshowsPrec :: Int -&gt; PeerTrustable -&gt; ShowS
showsPrec :: Int -&gt; PeerTrustable -&gt; ShowS
$cshow :: PeerTrustable -&gt; String
show :: PeerTrustable -&gt; String
$cshowList :: [PeerTrustable] -&gt; ShowS
showList :: [PeerTrustable] -&gt; ShowS
</span><a href="file:///nix/store/ahd0dyjy54gfbx667iq5s68d85igqdgv-ghc-9.6.5-doc/share/doc/ghc-9.6.5/html/libraries/base-4.18.2.1/src/GHC.Show.html#Show"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Show</span></a></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679104918"><span id="local-6989586621679104920"><span id="local-6989586621679104922"><span id="local-6989586621679104926"><span id="local-6989586621679104929"><span id="local-6989586621679104932"><span id="local-6989586621679104935"><span class="annot"><span class="annottext">Eq PeerTrustable
Eq PeerTrustable =&gt;
(PeerTrustable -&gt; PeerTrustable -&gt; Ordering)
-&gt; (PeerTrustable -&gt; PeerTrustable -&gt; Bool)
-&gt; (PeerTrustable -&gt; PeerTrustable -&gt; Bool)
-&gt; (PeerTrustable -&gt; PeerTrustable -&gt; Bool)
-&gt; (PeerTrustable -&gt; PeerTrustable -&gt; Bool)
-&gt; (PeerTrustable -&gt; PeerTrustable -&gt; PeerTrustable)
-&gt; (PeerTrustable -&gt; PeerTrustable -&gt; PeerTrustable)
-&gt; Ord PeerTrustable
PeerTrustable -&gt; PeerTrustable -&gt; Bool
PeerTrustable -&gt; PeerTrustable -&gt; Ordering
PeerTrustable -&gt; PeerTrustable -&gt; PeerTrustable
forall a.
Eq a =&gt;
(a -&gt; a -&gt; Ordering)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; a)
-&gt; (a -&gt; a -&gt; a)
-&gt; Ord a
$ccompare :: PeerTrustable -&gt; PeerTrustable -&gt; Ordering
compare :: PeerTrustable -&gt; PeerTrustable -&gt; Ordering
$c&lt; :: PeerTrustable -&gt; PeerTrustable -&gt; Bool
&lt; :: PeerTrustable -&gt; PeerTrustable -&gt; Bool
$c&lt;= :: PeerTrustable -&gt; PeerTrustable -&gt; Bool
&lt;= :: PeerTrustable -&gt; PeerTrustable -&gt; Bool
$c&gt; :: PeerTrustable -&gt; PeerTrustable -&gt; Bool
&gt; :: PeerTrustable -&gt; PeerTrustable -&gt; Bool
$c&gt;= :: PeerTrustable -&gt; PeerTrustable -&gt; Bool
&gt;= :: PeerTrustable -&gt; PeerTrustable -&gt; Bool
$cmax :: PeerTrustable -&gt; PeerTrustable -&gt; PeerTrustable
max :: PeerTrustable -&gt; PeerTrustable -&gt; PeerTrustable
$cmin :: PeerTrustable -&gt; PeerTrustable -&gt; PeerTrustable
min :: PeerTrustable -&gt; PeerTrustable -&gt; PeerTrustable
</span><a href="file:///nix/store/ahd0dyjy54gfbx667iq5s68d85igqdgv-ghc-9.6.5-doc/share/doc/ghc-9.6.5/html/libraries/ghc-prim-0.10.0/src/GHC.Classes.html#Ord"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Ord</span></a></span></span></span></span></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679104938"><span id="local-6989586621679104940"><span class="annot"><span class="annottext">(forall x. PeerTrustable -&gt; Rep PeerTrustable x)
-&gt; (forall x. Rep PeerTrustable x -&gt; PeerTrustable)
-&gt; Generic PeerTrustable
forall x. Rep PeerTrustable x -&gt; PeerTrustable
forall x. PeerTrustable -&gt; Rep PeerTrustable x
forall a.
(forall x. a -&gt; Rep a x) -&gt; (forall x. Rep a x -&gt; a) -&gt; Generic a
$cfrom :: forall x. PeerTrustable -&gt; Rep PeerTrustable x
from :: forall x. PeerTrustable -&gt; Rep PeerTrustable x
$cto :: forall x. Rep PeerTrustable x -&gt; PeerTrustable
to :: forall x. Rep PeerTrustable x -&gt; PeerTrustable
</span><a href="file:///nix/store/ahd0dyjy54gfbx667iq5s68d85igqdgv-ghc-9.6.5-doc/share/doc/ghc-9.6.5/html/libraries/base-4.18.2.1/src/GHC.Generics.html#Generic"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Generic</span></a></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-505"></span><span>
</span><span id="line-506"></span><span class="hs-comment">-- `FromJSON`/`ToJSON` from &quot;Cardano.Tracing.OrphanInstances.Network&quot;.</span><span>
</span><span id="line-507"></span><span>
</span><span id="line-508"></span><span class="hs-comment">-- https://github.com/IntersectMBO/cardano-node/blob/52b708f37cd3dc92a188717deae2a6a60117f696/cardano-node/src/Cardano/Tracing/OrphanInstances/Network.hs#L2824</span><span>
</span><span id="line-509"></span><span>
</span><span id="line-510"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679104944"><span id="local-6989586621679104947"><span class="annot"><span class="hs-identifier hs-type">Aeson.FromJSON</span></span><span> </span><span class="annot"><a href="Cardano.Benchmarking.Topology.Projection.html#PeerTrustable"><span class="hs-identifier hs-type">PeerTrustable</span></a></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-511"></span><span>  </span><span id="local-6989586621679104950"><span class="annot"><span class="annottext">parseJSON :: Value -&gt; Parser PeerTrustable
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">parseJSON</span></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String
-&gt; (Bool -&gt; Parser PeerTrustable) -&gt; Value -&gt; Parser PeerTrustable
forall a. String -&gt; (Bool -&gt; Parser a) -&gt; Value -&gt; Parser a
</span><span class="hs-identifier hs-var">Aeson.withBool</span></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;PeerTrustable&quot;</span></span><span> </span><span class="annot"><span class="annottext">((Bool -&gt; Parser PeerTrustable) -&gt; Value -&gt; Parser PeerTrustable)
-&gt; (Bool -&gt; Parser PeerTrustable) -&gt; Value -&gt; Parser PeerTrustable
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/ahd0dyjy54gfbx667iq5s68d85igqdgv-ghc-9.6.5-doc/share/doc/ghc-9.6.5/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679104951"><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621679104951"><span class="hs-identifier hs-var">b</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-512"></span><span>    </span><span class="annot"><span class="annottext">PeerTrustable -&gt; Parser PeerTrustable
forall a. a -&gt; Parser a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="file:///nix/store/ahd0dyjy54gfbx667iq5s68d85igqdgv-ghc-9.6.5-doc/share/doc/ghc-9.6.5/html/libraries/base-4.18.2.1/src/GHC.Base.html#pure"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="annot"><span class="annottext">(PeerTrustable -&gt; Parser PeerTrustable)
-&gt; PeerTrustable -&gt; Parser PeerTrustable
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/ahd0dyjy54gfbx667iq5s68d85igqdgv-ghc-9.6.5-doc/share/doc/ghc-9.6.5/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-keyword">if</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621679104951"><span class="hs-identifier hs-var">b</span></a></span><span> </span><span class="hs-keyword">then</span><span> </span><span class="annot"><span class="annottext">PeerTrustable
</span><a href="Cardano.Benchmarking.Topology.Projection.html#IsTrustable"><span class="hs-identifier hs-var">IsTrustable</span></a></span><span>
</span><span id="line-513"></span><span>                </span><span class="hs-keyword">else</span><span> </span><span class="annot"><span class="annottext">PeerTrustable
</span><a href="Cardano.Benchmarking.Topology.Projection.html#IsNotTrustable"><span class="hs-identifier hs-var">IsNotTrustable</span></a></span><span>
</span><span id="line-514"></span><span>
</span><span id="line-515"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679104954"><span id="local-6989586621679104957"><span id="local-6989586621679104960"><span id="local-6989586621679104963"><span class="annot"><span class="hs-identifier hs-type">Aeson.ToJSON</span></span><span> </span><span class="annot"><a href="Cardano.Benchmarking.Topology.Projection.html#PeerTrustable"><span class="hs-identifier hs-type">PeerTrustable</span></a></span></span></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-516"></span><span>  </span><span id="local-6989586621679104965"><span class="annot"><span class="annottext">toJSON :: PeerTrustable -&gt; Value
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">toJSON</span></span></span><span> </span><span class="annot"><span class="annottext">PeerTrustable
</span><a href="Cardano.Benchmarking.Topology.Projection.html#IsTrustable"><span class="hs-identifier hs-var">IsTrustable</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Value
</span><span class="hs-identifier hs-var">Aeson.Bool</span></span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="file:///nix/store/ahd0dyjy54gfbx667iq5s68d85igqdgv-ghc-9.6.5-doc/share/doc/ghc-9.6.5/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#True"><span class="hs-identifier hs-var">True</span></a></span><span>
</span><span id="line-517"></span><span>  </span><span class="annot"><span class="hs-identifier hs-var">toJSON</span></span><span> </span><span class="annot"><span class="annottext">PeerTrustable
</span><a href="Cardano.Benchmarking.Topology.Projection.html#IsNotTrustable"><span class="hs-identifier hs-var">IsNotTrustable</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Value
</span><span class="hs-identifier hs-var">Aeson.Bool</span></span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="file:///nix/store/ahd0dyjy54gfbx667iq5s68d85igqdgv-ghc-9.6.5-doc/share/doc/ghc-9.6.5/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#False"><span class="hs-identifier hs-var">False</span></a></span><span>
</span><span id="line-518"></span><span>
</span><span id="line-519"></span><span class="hs-comment">-----------------------------------------------</span><span>
</span><span id="line-520"></span><span class="hs-comment">-- Ouroboros.Network.PeerSelection.Bootstrap --</span><span>
</span><span id="line-521"></span><span class="hs-comment">-----------------------------------------------</span><span>
</span><span id="line-522"></span><span>
</span><span id="line-523"></span><span class="hs-comment">-- https://github.com/IntersectMBO/ouroboros-network/blob/588130b5f0494a42c19da3bd44211ff7607b5831/ouroboros-network-api/src/Cardano/Network/PeerSelection/Bootstrap.hs#L15</span><span>
</span><span id="line-524"></span><span>
</span><span id="line-525"></span><span class="hs-keyword">data</span><span> </span><span id="UseBootstrapPeers"><span class="annot"><a href="Cardano.Benchmarking.Topology.Projection.html#UseBootstrapPeers"><span class="hs-identifier hs-var">UseBootstrapPeers</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-526"></span><span>    </span><span id="DontUseBootstrapPeers"><span class="annot"><a href="Cardano.Benchmarking.Topology.Projection.html#DontUseBootstrapPeers"><span class="hs-identifier hs-var">DontUseBootstrapPeers</span></a></span></span><span>
</span><span id="line-527"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="UseBootstrapPeers"><span class="annot"><a href="Cardano.Benchmarking.Topology.Projection.html#UseBootstrapPeers"><span class="hs-identifier hs-var">UseBootstrapPeers</span></a></span></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Cardano.Benchmarking.Topology.Projection.html#RelayAccessPoint"><span class="hs-identifier hs-type">RelayAccessPoint</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-528"></span><span>  </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679104968"><span id="local-6989586621679104972"><span class="annot"><span class="annottext">UseBootstrapPeers -&gt; UseBootstrapPeers -&gt; Bool
(UseBootstrapPeers -&gt; UseBootstrapPeers -&gt; Bool)
-&gt; (UseBootstrapPeers -&gt; UseBootstrapPeers -&gt; Bool)
-&gt; Eq UseBootstrapPeers
forall a. (a -&gt; a -&gt; Bool) -&gt; (a -&gt; a -&gt; Bool) -&gt; Eq a
$c== :: UseBootstrapPeers -&gt; UseBootstrapPeers -&gt; Bool
== :: UseBootstrapPeers -&gt; UseBootstrapPeers -&gt; Bool
$c/= :: UseBootstrapPeers -&gt; UseBootstrapPeers -&gt; Bool
/= :: UseBootstrapPeers -&gt; UseBootstrapPeers -&gt; Bool
</span><a href="file:///nix/store/ahd0dyjy54gfbx667iq5s68d85igqdgv-ghc-9.6.5-doc/share/doc/ghc-9.6.5/html/libraries/ghc-prim-0.10.0/src/GHC.Classes.html#Eq"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Eq</span></a></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679104975"><span id="local-6989586621679104980"><span id="local-6989586621679104983"><span class="annot"><span class="annottext">Int -&gt; UseBootstrapPeers -&gt; ShowS
[UseBootstrapPeers] -&gt; ShowS
UseBootstrapPeers -&gt; String
(Int -&gt; UseBootstrapPeers -&gt; ShowS)
-&gt; (UseBootstrapPeers -&gt; String)
-&gt; ([UseBootstrapPeers] -&gt; ShowS)
-&gt; Show UseBootstrapPeers
forall a.
(Int -&gt; a -&gt; ShowS) -&gt; (a -&gt; String) -&gt; ([a] -&gt; ShowS) -&gt; Show a
$cshowsPrec :: Int -&gt; UseBootstrapPeers -&gt; ShowS
showsPrec :: Int -&gt; UseBootstrapPeers -&gt; ShowS
$cshow :: UseBootstrapPeers -&gt; String
show :: UseBootstrapPeers -&gt; String
$cshowList :: [UseBootstrapPeers] -&gt; ShowS
showList :: [UseBootstrapPeers] -&gt; ShowS
</span><a href="file:///nix/store/ahd0dyjy54gfbx667iq5s68d85igqdgv-ghc-9.6.5-doc/share/doc/ghc-9.6.5/html/libraries/base-4.18.2.1/src/GHC.Show.html#Show"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Show</span></a></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679104988"><span id="local-6989586621679104993"><span id="local-6989586621679104997"><span id="local-6989586621679105001"><span id="local-6989586621679105004"><span id="local-6989586621679105007"><span id="local-6989586621679105010"><span class="annot"><span class="annottext">Eq UseBootstrapPeers
Eq UseBootstrapPeers =&gt;
(UseBootstrapPeers -&gt; UseBootstrapPeers -&gt; Ordering)
-&gt; (UseBootstrapPeers -&gt; UseBootstrapPeers -&gt; Bool)
-&gt; (UseBootstrapPeers -&gt; UseBootstrapPeers -&gt; Bool)
-&gt; (UseBootstrapPeers -&gt; UseBootstrapPeers -&gt; Bool)
-&gt; (UseBootstrapPeers -&gt; UseBootstrapPeers -&gt; Bool)
-&gt; (UseBootstrapPeers -&gt; UseBootstrapPeers -&gt; UseBootstrapPeers)
-&gt; (UseBootstrapPeers -&gt; UseBootstrapPeers -&gt; UseBootstrapPeers)
-&gt; Ord UseBootstrapPeers
UseBootstrapPeers -&gt; UseBootstrapPeers -&gt; Bool
UseBootstrapPeers -&gt; UseBootstrapPeers -&gt; Ordering
UseBootstrapPeers -&gt; UseBootstrapPeers -&gt; UseBootstrapPeers
forall a.
Eq a =&gt;
(a -&gt; a -&gt; Ordering)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; a)
-&gt; (a -&gt; a -&gt; a)
-&gt; Ord a
$ccompare :: UseBootstrapPeers -&gt; UseBootstrapPeers -&gt; Ordering
compare :: UseBootstrapPeers -&gt; UseBootstrapPeers -&gt; Ordering
$c&lt; :: UseBootstrapPeers -&gt; UseBootstrapPeers -&gt; Bool
&lt; :: UseBootstrapPeers -&gt; UseBootstrapPeers -&gt; Bool
$c&lt;= :: UseBootstrapPeers -&gt; UseBootstrapPeers -&gt; Bool
&lt;= :: UseBootstrapPeers -&gt; UseBootstrapPeers -&gt; Bool
$c&gt; :: UseBootstrapPeers -&gt; UseBootstrapPeers -&gt; Bool
&gt; :: UseBootstrapPeers -&gt; UseBootstrapPeers -&gt; Bool
$c&gt;= :: UseBootstrapPeers -&gt; UseBootstrapPeers -&gt; Bool
&gt;= :: UseBootstrapPeers -&gt; UseBootstrapPeers -&gt; Bool
$cmax :: UseBootstrapPeers -&gt; UseBootstrapPeers -&gt; UseBootstrapPeers
max :: UseBootstrapPeers -&gt; UseBootstrapPeers -&gt; UseBootstrapPeers
$cmin :: UseBootstrapPeers -&gt; UseBootstrapPeers -&gt; UseBootstrapPeers
min :: UseBootstrapPeers -&gt; UseBootstrapPeers -&gt; UseBootstrapPeers
</span><a href="file:///nix/store/ahd0dyjy54gfbx667iq5s68d85igqdgv-ghc-9.6.5-doc/share/doc/ghc-9.6.5/html/libraries/ghc-prim-0.10.0/src/GHC.Classes.html#Ord"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Ord</span></a></span></span></span></span></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679105013"><span id="local-6989586621679105015"><span class="annot"><span class="annottext">(forall x. UseBootstrapPeers -&gt; Rep UseBootstrapPeers x)
-&gt; (forall x. Rep UseBootstrapPeers x -&gt; UseBootstrapPeers)
-&gt; Generic UseBootstrapPeers
forall x. Rep UseBootstrapPeers x -&gt; UseBootstrapPeers
forall x. UseBootstrapPeers -&gt; Rep UseBootstrapPeers x
forall a.
(forall x. a -&gt; Rep a x) -&gt; (forall x. Rep a x -&gt; a) -&gt; Generic a
$cfrom :: forall x. UseBootstrapPeers -&gt; Rep UseBootstrapPeers x
from :: forall x. UseBootstrapPeers -&gt; Rep UseBootstrapPeers x
$cto :: forall x. Rep UseBootstrapPeers x -&gt; UseBootstrapPeers
to :: forall x. Rep UseBootstrapPeers x -&gt; UseBootstrapPeers
</span><a href="file:///nix/store/ahd0dyjy54gfbx667iq5s68d85igqdgv-ghc-9.6.5-doc/share/doc/ghc-9.6.5/html/libraries/base-4.18.2.1/src/GHC.Generics.html#Generic"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Generic</span></a></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-529"></span><span>
</span><span id="line-530"></span><span class="hs-comment">-- `FromJSON`/`ToJSON` from &quot;Cardano.Tracing.OrphanInstances.Network&quot;.</span><span>
</span><span id="line-531"></span><span>
</span><span id="line-532"></span><span class="hs-comment">-- https://github.com/IntersectMBO/cardano-node/blob/52b708f37cd3dc92a188717deae2a6a60117f696/cardano-node/src/Cardano/Tracing/OrphanInstances/Network.hs#L2816</span><span>
</span><span id="line-533"></span><span>
</span><span id="line-534"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679105019"><span id="local-6989586621679105022"><span id="local-6989586621679105025"><span id="local-6989586621679105028"><span class="annot"><span class="hs-identifier hs-type">Aeson.ToJSON</span></span><span> </span><span class="annot"><a href="Cardano.Benchmarking.Topology.Projection.html#UseBootstrapPeers"><span class="hs-identifier hs-type">UseBootstrapPeers</span></a></span></span></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-535"></span><span>  </span><span id="local-6989586621679105032"><span class="annot"><span class="annottext">toJSON :: UseBootstrapPeers -&gt; Value
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">toJSON</span></span></span><span> </span><span class="annot"><span class="annottext">UseBootstrapPeers
</span><a href="Cardano.Benchmarking.Topology.Projection.html#DontUseBootstrapPeers"><span class="hs-identifier hs-var">DontUseBootstrapPeers</span></a></span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Value
</span><span class="hs-identifier hs-var">Aeson.Null</span></span><span>
</span><span id="line-536"></span><span>  </span><span class="annot"><span class="hs-identifier hs-var">toJSON</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cardano.Benchmarking.Topology.Projection.html#UseBootstrapPeers"><span class="hs-identifier hs-type">UseBootstrapPeers</span></a></span><span> </span><span id="local-6989586621679105034"><span class="annot"><span class="annottext">[RelayAccessPoint]
</span><a href="#local-6989586621679105034"><span class="hs-identifier hs-var">dps</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[RelayAccessPoint] -&gt; Value
forall a. ToJSON a =&gt; a -&gt; Value
</span><span class="hs-identifier hs-var">Aeson.toJSON</span></span><span> </span><span class="annot"><span class="annottext">[RelayAccessPoint]
</span><a href="#local-6989586621679105034"><span class="hs-identifier hs-var">dps</span></a></span><span>
</span><span id="line-537"></span><span>
</span><span id="line-538"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679105037"><span id="local-6989586621679105040"><span class="annot"><span class="hs-identifier hs-type">Aeson.FromJSON</span></span><span> </span><span class="annot"><a href="Cardano.Benchmarking.Topology.Projection.html#UseBootstrapPeers"><span class="hs-identifier hs-type">UseBootstrapPeers</span></a></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-539"></span><span>  </span><span id="local-6989586621679105046"><span class="annot"><span class="annottext">parseJSON :: Value -&gt; Parser UseBootstrapPeers
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">parseJSON</span></span></span><span> </span><span class="annot"><span class="annottext">Value
</span><span class="hs-identifier hs-var">Aeson.Null</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">UseBootstrapPeers -&gt; Parser UseBootstrapPeers
forall a. a -&gt; Parser a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="file:///nix/store/ahd0dyjy54gfbx667iq5s68d85igqdgv-ghc-9.6.5-doc/share/doc/ghc-9.6.5/html/libraries/base-4.18.2.1/src/GHC.Base.html#pure"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="annot"><span class="annottext">UseBootstrapPeers
</span><a href="Cardano.Benchmarking.Topology.Projection.html#DontUseBootstrapPeers"><span class="hs-identifier hs-var">DontUseBootstrapPeers</span></a></span><span>
</span><span id="line-540"></span><span>  </span><span class="annot"><span class="hs-identifier hs-var">parseJSON</span></span><span> </span><span id="local-6989586621679105047"><span class="annot"><span class="annottext">Value
</span><a href="#local-6989586621679105047"><span class="hs-identifier hs-var">v</span></a></span></span><span>          </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[RelayAccessPoint] -&gt; UseBootstrapPeers
</span><a href="Cardano.Benchmarking.Topology.Projection.html#UseBootstrapPeers"><span class="hs-identifier hs-var">UseBootstrapPeers</span></a></span><span> </span><span class="annot"><span class="annottext">([RelayAccessPoint] -&gt; UseBootstrapPeers)
-&gt; Parser [RelayAccessPoint] -&gt; Parser UseBootstrapPeers
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="file:///nix/store/ahd0dyjy54gfbx667iq5s68d85igqdgv-ghc-9.6.5-doc/share/doc/ghc-9.6.5/html/libraries/base-4.18.2.1/src/Data.Functor.html#%3C%24%3E"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Value -&gt; Parser [RelayAccessPoint]
forall a. FromJSON a =&gt; Value -&gt; Parser a
</span><span class="hs-identifier hs-var">Aeson.parseJSON</span></span><span> </span><span class="annot"><span class="annottext">Value
</span><a href="#local-6989586621679105047"><span class="hs-identifier hs-var">v</span></a></span><span>
</span><span id="line-541"></span></pre></body></html>